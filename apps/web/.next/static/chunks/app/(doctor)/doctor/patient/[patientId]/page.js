/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["app/(doctor)/doctor/patient/[patientId]/page"],{

/***/ "(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/api/navigation.js":
/*!*******************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/api/navigation.js ***!
  \*******************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _client_components_navigation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../client/components/navigation */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/client/components/navigation.js\");\n/* harmony import */ var _client_components_navigation__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_client_components_navigation__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _client_components_navigation__WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _client_components_navigation__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n//# sourceMappingURL=navigation.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS41LjJfYmFiZWwtcGx1Z2luLXJlYWN0LWNvbXBpbGVyQDEuMC4wX3JlYWN0LWRvbUAxOS4xLjBfcmVhY3RAMTkuMS4wX19yZWFjdEAxOS4xLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9hcGkvbmF2aWdhdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0Q7O0FBRWhEIiwic291cmNlcyI6WyIvVXNlcnMvcG9jaG9sby9Qcm9qZWN0cy93ZWxsc2Vydi1wb3J0YWwvbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTUuNS4yX2JhYmVsLXBsdWdpbi1yZWFjdC1jb21waWxlckAxLjAuMF9yZWFjdC1kb21AMTkuMS4wX3JlYWN0QDE5LjEuMF9fcmVhY3RAMTkuMS4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYXBpL25hdmlnYXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi4vY2xpZW50L2NvbXBvbmVudHMvbmF2aWdhdGlvbic7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdmlnYXRpb24uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/api/navigation.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2FLogoutButton.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2Fpatient%2F%5BpatientId%5D%2FClientReportViewer.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2Fpatient%2F%5BpatientId%5D%2FConsentBus.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2Fpatient%2F%5BpatientId%5D%2FConsultationSection.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2Fpatient%2F%5BpatientId%5D%2FDiagnosisPanel.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2Fpatient%2F%5BpatientId%5D%2FOtherLabsCard.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2Fpatient%2F%5BpatientId%5D%2FPastConsultations.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=false!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2FLogoutButton.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2Fpatient%2F%5BpatientId%5D%2FClientReportViewer.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2Fpatient%2F%5BpatientId%5D%2FConsentBus.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2Fpatient%2F%5BpatientId%5D%2FConsultationSection.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2Fpatient%2F%5BpatientId%5D%2FDiagnosisPanel.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2Fpatient%2F%5BpatientId%5D%2FOtherLabsCard.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2Fpatient%2F%5BpatientId%5D%2FPastConsultations.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=false! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval(__webpack_require__.ts("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/(doctor)/doctor/LogoutButton.tsx */ \"(app-pages-browser)/./app/(doctor)/doctor/LogoutButton.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/(doctor)/doctor/patient/[patientId]/ClientReportViewer.tsx */ \"(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/ClientReportViewer.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/(doctor)/doctor/patient/[patientId]/ConsentBus.tsx */ \"(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/ConsentBus.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx */ \"(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/(doctor)/doctor/patient/[patientId]/DiagnosisPanel.tsx */ \"(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/DiagnosisPanel.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx */ \"(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx */ \"(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS41LjJfYmFiZWwtcGx1Z2luLXJlYWN0LWNvbXBpbGVyQDEuMC4wX3JlYWN0LWRvbUAxOS4xLjBfcmVhY3RAMTkuMS4wX19yZWFjdEAxOS4xLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRnBvY2hvbG8lMkZQcm9qZWN0cyUyRndlbGxzZXJ2LXBvcnRhbCUyRmFwcHMlMkZ3ZWIlMkZhcHAlMkYoZG9jdG9yKSUyRmRvY3RvciUyRkxvZ291dEJ1dHRvbi50c3glMjIlMkMlMjJpZHMlMjIlM0ElNUIlMjJkZWZhdWx0JTIyJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGcG9jaG9sbyUyRlByb2plY3RzJTJGd2VsbHNlcnYtcG9ydGFsJTJGYXBwcyUyRndlYiUyRmFwcCUyRihkb2N0b3IpJTJGZG9jdG9yJTJGcGF0aWVudCUyRiU1QnBhdGllbnRJZCU1RCUyRkNsaWVudFJlcG9ydFZpZXdlci50c3glMjIlMkMlMjJpZHMlMjIlM0ElNUIlMjJkZWZhdWx0JTIyJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGcG9jaG9sbyUyRlByb2plY3RzJTJGd2VsbHNlcnYtcG9ydGFsJTJGYXBwcyUyRndlYiUyRmFwcCUyRihkb2N0b3IpJTJGZG9jdG9yJTJGcGF0aWVudCUyRiU1QnBhdGllbnRJZCU1RCUyRkNvbnNlbnRCdXMudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTIyZGVmYXVsdCUyMiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRnBvY2hvbG8lMkZQcm9qZWN0cyUyRndlbGxzZXJ2LXBvcnRhbCUyRmFwcHMlMkZ3ZWIlMkZhcHAlMkYoZG9jdG9yKSUyRmRvY3RvciUyRnBhdGllbnQlMkYlNUJwYXRpZW50SWQlNUQlMkZDb25zdWx0YXRpb25TZWN0aW9uLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMmRlZmF1bHQlMjIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZwb2Nob2xvJTJGUHJvamVjdHMlMkZ3ZWxsc2Vydi1wb3J0YWwlMkZhcHBzJTJGd2ViJTJGYXBwJTJGKGRvY3RvciklMkZkb2N0b3IlMkZwYXRpZW50JTJGJTVCcGF0aWVudElkJTVEJTJGRGlhZ25vc2lzUGFuZWwudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTIyZGVmYXVsdCUyMiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRnBvY2hvbG8lMkZQcm9qZWN0cyUyRndlbGxzZXJ2LXBvcnRhbCUyRmFwcHMlMkZ3ZWIlMkZhcHAlMkYoZG9jdG9yKSUyRmRvY3RvciUyRnBhdGllbnQlMkYlNUJwYXRpZW50SWQlNUQlMkZPdGhlckxhYnNDYXJkLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMmRlZmF1bHQlMjIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZwb2Nob2xvJTJGUHJvamVjdHMlMkZ3ZWxsc2Vydi1wb3J0YWwlMkZhcHBzJTJGd2ViJTJGYXBwJTJGKGRvY3RvciklMkZkb2N0b3IlMkZwYXRpZW50JTJGJTVCcGF0aWVudElkJTVEJTJGUGFzdENvbnN1bHRhdGlvbnMudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTIyZGVmYXVsdCUyMiU1RCU3RCZzZXJ2ZXI9ZmFsc2UhIiwibWFwcGluZ3MiOiJBQUFBLHNNQUF1SjtBQUN2SjtBQUNBLDBQQUFpTDtBQUNqTDtBQUNBLDBPQUF5SztBQUN6SztBQUNBLDRQQUFrTDtBQUNsTDtBQUNBLGtQQUE2SztBQUM3SztBQUNBLGdQQUE0SztBQUM1SztBQUNBLHdQQUFnTCIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiZGVmYXVsdFwiXSAqLyBcIi9Vc2Vycy9wb2Nob2xvL1Byb2plY3RzL3dlbGxzZXJ2LXBvcnRhbC9hcHBzL3dlYi9hcHAvKGRvY3RvcikvZG9jdG9yL0xvZ291dEJ1dHRvbi50c3hcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiwgd2VicGFja0V4cG9ydHM6IFtcImRlZmF1bHRcIl0gKi8gXCIvVXNlcnMvcG9jaG9sby9Qcm9qZWN0cy93ZWxsc2Vydi1wb3J0YWwvYXBwcy93ZWIvYXBwLyhkb2N0b3IpL2RvY3Rvci9wYXRpZW50L1twYXRpZW50SWRdL0NsaWVudFJlcG9ydFZpZXdlci50c3hcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiwgd2VicGFja0V4cG9ydHM6IFtcImRlZmF1bHRcIl0gKi8gXCIvVXNlcnMvcG9jaG9sby9Qcm9qZWN0cy93ZWxsc2Vydi1wb3J0YWwvYXBwcy93ZWIvYXBwLyhkb2N0b3IpL2RvY3Rvci9wYXRpZW50L1twYXRpZW50SWRdL0NvbnNlbnRCdXMudHN4XCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIsIHdlYnBhY2tFeHBvcnRzOiBbXCJkZWZhdWx0XCJdICovIFwiL1VzZXJzL3BvY2hvbG8vUHJvamVjdHMvd2VsbHNlcnYtcG9ydGFsL2FwcHMvd2ViL2FwcC8oZG9jdG9yKS9kb2N0b3IvcGF0aWVudC9bcGF0aWVudElkXS9Db25zdWx0YXRpb25TZWN0aW9uLnRzeFwiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiZGVmYXVsdFwiXSAqLyBcIi9Vc2Vycy9wb2Nob2xvL1Byb2plY3RzL3dlbGxzZXJ2LXBvcnRhbC9hcHBzL3dlYi9hcHAvKGRvY3RvcikvZG9jdG9yL3BhdGllbnQvW3BhdGllbnRJZF0vRGlhZ25vc2lzUGFuZWwudHN4XCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIsIHdlYnBhY2tFeHBvcnRzOiBbXCJkZWZhdWx0XCJdICovIFwiL1VzZXJzL3BvY2hvbG8vUHJvamVjdHMvd2VsbHNlcnYtcG9ydGFsL2FwcHMvd2ViL2FwcC8oZG9jdG9yKS9kb2N0b3IvcGF0aWVudC9bcGF0aWVudElkXS9PdGhlckxhYnNDYXJkLnRzeFwiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiZGVmYXVsdFwiXSAqLyBcIi9Vc2Vycy9wb2Nob2xvL1Byb2plY3RzL3dlbGxzZXJ2LXBvcnRhbC9hcHBzL3dlYi9hcHAvKGRvY3RvcikvZG9jdG9yL3BhdGllbnQvW3BhdGllbnRJZF0vUGFzdENvbnN1bHRhdGlvbnMudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2FLogoutButton.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2Fpatient%2F%5BpatientId%5D%2FClientReportViewer.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2Fpatient%2F%5BpatientId%5D%2FConsentBus.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2Fpatient%2F%5BpatientId%5D%2FConsultationSection.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2Fpatient%2F%5BpatientId%5D%2FDiagnosisPanel.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2Fpatient%2F%5BpatientId%5D%2FOtherLabsCard.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2Fpatient%2F%5BpatientId%5D%2FPastConsultations.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=false!\n"));

/***/ }),

/***/ "(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js":
/*!*********************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js ***!
  \*********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("/**\n * @license React\n * react-jsx-dev-runtime.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n true &&\n  (function () {\n    function getComponentNameFromType(type) {\n      if (null == type) return null;\n      if (\"function\" === typeof type)\n        return type.$$typeof === REACT_CLIENT_REFERENCE\n          ? null\n          : type.displayName || type.name || null;\n      if (\"string\" === typeof type) return type;\n      switch (type) {\n        case REACT_FRAGMENT_TYPE:\n          return \"Fragment\";\n        case REACT_PROFILER_TYPE:\n          return \"Profiler\";\n        case REACT_STRICT_MODE_TYPE:\n          return \"StrictMode\";\n        case REACT_SUSPENSE_TYPE:\n          return \"Suspense\";\n        case REACT_SUSPENSE_LIST_TYPE:\n          return \"SuspenseList\";\n        case REACT_ACTIVITY_TYPE:\n          return \"Activity\";\n      }\n      if (\"object\" === typeof type)\n        switch (\n          (\"number\" === typeof type.tag &&\n            console.error(\n              \"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"\n            ),\n          type.$$typeof)\n        ) {\n          case REACT_PORTAL_TYPE:\n            return \"Portal\";\n          case REACT_CONTEXT_TYPE:\n            return type.displayName || \"Context\";\n          case REACT_CONSUMER_TYPE:\n            return (type._context.displayName || \"Context\") + \".Consumer\";\n          case REACT_FORWARD_REF_TYPE:\n            var innerType = type.render;\n            type = type.displayName;\n            type ||\n              ((type = innerType.displayName || innerType.name || \"\"),\n              (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n            return type;\n          case REACT_MEMO_TYPE:\n            return (\n              (innerType = type.displayName || null),\n              null !== innerType\n                ? innerType\n                : getComponentNameFromType(type.type) || \"Memo\"\n            );\n          case REACT_LAZY_TYPE:\n            innerType = type._payload;\n            type = type._init;\n            try {\n              return getComponentNameFromType(type(innerType));\n            } catch (x) {}\n        }\n      return null;\n    }\n    function testStringCoercion(value) {\n      return \"\" + value;\n    }\n    function checkKeyStringCoercion(value) {\n      try {\n        testStringCoercion(value);\n        var JSCompiler_inline_result = !1;\n      } catch (e) {\n        JSCompiler_inline_result = !0;\n      }\n      if (JSCompiler_inline_result) {\n        JSCompiler_inline_result = console;\n        var JSCompiler_temp_const = JSCompiler_inline_result.error;\n        var JSCompiler_inline_result$jscomp$0 =\n          (\"function\" === typeof Symbol &&\n            Symbol.toStringTag &&\n            value[Symbol.toStringTag]) ||\n          value.constructor.name ||\n          \"Object\";\n        JSCompiler_temp_const.call(\n          JSCompiler_inline_result,\n          \"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.\",\n          JSCompiler_inline_result$jscomp$0\n        );\n        return testStringCoercion(value);\n      }\n    }\n    function getTaskName(type) {\n      if (type === REACT_FRAGMENT_TYPE) return \"<>\";\n      if (\n        \"object\" === typeof type &&\n        null !== type &&\n        type.$$typeof === REACT_LAZY_TYPE\n      )\n        return \"<...>\";\n      try {\n        var name = getComponentNameFromType(type);\n        return name ? \"<\" + name + \">\" : \"<...>\";\n      } catch (x) {\n        return \"<...>\";\n      }\n    }\n    function getOwner() {\n      var dispatcher = ReactSharedInternals.A;\n      return null === dispatcher ? null : dispatcher.getOwner();\n    }\n    function UnknownOwner() {\n      return Error(\"react-stack-top-frame\");\n    }\n    function hasValidKey(config) {\n      if (hasOwnProperty.call(config, \"key\")) {\n        var getter = Object.getOwnPropertyDescriptor(config, \"key\").get;\n        if (getter && getter.isReactWarning) return !1;\n      }\n      return void 0 !== config.key;\n    }\n    function defineKeyPropWarningGetter(props, displayName) {\n      function warnAboutAccessingKey() {\n        specialPropKeyWarningShown ||\n          ((specialPropKeyWarningShown = !0),\n          console.error(\n            \"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)\",\n            displayName\n          ));\n      }\n      warnAboutAccessingKey.isReactWarning = !0;\n      Object.defineProperty(props, \"key\", {\n        get: warnAboutAccessingKey,\n        configurable: !0\n      });\n    }\n    function elementRefGetterWithDeprecationWarning() {\n      var componentName = getComponentNameFromType(this.type);\n      didWarnAboutElementRef[componentName] ||\n        ((didWarnAboutElementRef[componentName] = !0),\n        console.error(\n          \"Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.\"\n        ));\n      componentName = this.props.ref;\n      return void 0 !== componentName ? componentName : null;\n    }\n    function ReactElement(type, key, props, owner, debugStack, debugTask) {\n      var refProp = props.ref;\n      type = {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: type,\n        key: key,\n        props: props,\n        _owner: owner\n      };\n      null !== (void 0 !== refProp ? refProp : null)\n        ? Object.defineProperty(type, \"ref\", {\n            enumerable: !1,\n            get: elementRefGetterWithDeprecationWarning\n          })\n        : Object.defineProperty(type, \"ref\", { enumerable: !1, value: null });\n      type._store = {};\n      Object.defineProperty(type._store, \"validated\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: 0\n      });\n      Object.defineProperty(type, \"_debugInfo\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: null\n      });\n      Object.defineProperty(type, \"_debugStack\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugStack\n      });\n      Object.defineProperty(type, \"_debugTask\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugTask\n      });\n      Object.freeze && (Object.freeze(type.props), Object.freeze(type));\n      return type;\n    }\n    function jsxDEVImpl(\n      type,\n      config,\n      maybeKey,\n      isStaticChildren,\n      debugStack,\n      debugTask\n    ) {\n      var children = config.children;\n      if (void 0 !== children)\n        if (isStaticChildren)\n          if (isArrayImpl(children)) {\n            for (\n              isStaticChildren = 0;\n              isStaticChildren < children.length;\n              isStaticChildren++\n            )\n              validateChildKeys(children[isStaticChildren]);\n            Object.freeze && Object.freeze(children);\n          } else\n            console.error(\n              \"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\"\n            );\n        else validateChildKeys(children);\n      if (hasOwnProperty.call(config, \"key\")) {\n        children = getComponentNameFromType(type);\n        var keys = Object.keys(config).filter(function (k) {\n          return \"key\" !== k;\n        });\n        isStaticChildren =\n          0 < keys.length\n            ? \"{key: someKey, \" + keys.join(\": ..., \") + \": ...}\"\n            : \"{key: someKey}\";\n        didWarnAboutKeySpread[children + isStaticChildren] ||\n          ((keys =\n            0 < keys.length ? \"{\" + keys.join(\": ..., \") + \": ...}\" : \"{}\"),\n          console.error(\n            'A props object containing a \"key\" prop is being spread into JSX:\\n  let props = %s;\\n  <%s {...props} />\\nReact keys must be passed directly to JSX without using spread:\\n  let props = %s;\\n  <%s key={someKey} {...props} />',\n            isStaticChildren,\n            children,\n            keys,\n            children\n          ),\n          (didWarnAboutKeySpread[children + isStaticChildren] = !0));\n      }\n      children = null;\n      void 0 !== maybeKey &&\n        (checkKeyStringCoercion(maybeKey), (children = \"\" + maybeKey));\n      hasValidKey(config) &&\n        (checkKeyStringCoercion(config.key), (children = \"\" + config.key));\n      if (\"key\" in config) {\n        maybeKey = {};\n        for (var propName in config)\n          \"key\" !== propName && (maybeKey[propName] = config[propName]);\n      } else maybeKey = config;\n      children &&\n        defineKeyPropWarningGetter(\n          maybeKey,\n          \"function\" === typeof type\n            ? type.displayName || type.name || \"Unknown\"\n            : type\n        );\n      return ReactElement(\n        type,\n        children,\n        maybeKey,\n        getOwner(),\n        debugStack,\n        debugTask\n      );\n    }\n    function validateChildKeys(node) {\n      \"object\" === typeof node &&\n        null !== node &&\n        node.$$typeof === REACT_ELEMENT_TYPE &&\n        node._store &&\n        (node._store.validated = 1);\n    }\n    var React = __webpack_require__(/*! next/dist/compiled/react */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js\"),\n      REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n      REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n      REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n      REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n      REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n      REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n      REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n      REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n      REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n      REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n      REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n      REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n      REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\"),\n      REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\"),\n      ReactSharedInternals =\n        React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n      hasOwnProperty = Object.prototype.hasOwnProperty,\n      isArrayImpl = Array.isArray,\n      createTask = console.createTask\n        ? console.createTask\n        : function () {\n            return null;\n          };\n    React = {\n      react_stack_bottom_frame: function (callStackForError) {\n        return callStackForError();\n      }\n    };\n    var specialPropKeyWarningShown;\n    var didWarnAboutElementRef = {};\n    var unknownOwnerDebugStack = React.react_stack_bottom_frame.bind(\n      React,\n      UnknownOwner\n    )();\n    var unknownOwnerDebugTask = createTask(getTaskName(UnknownOwner));\n    var didWarnAboutKeySpread = {};\n    exports.Fragment = REACT_FRAGMENT_TYPE;\n    exports.jsxDEV = function (type, config, maybeKey, isStaticChildren) {\n      var trackActualOwner =\n        1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;\n      return jsxDEVImpl(\n        type,\n        config,\n        maybeKey,\n        isStaticChildren,\n        trackActualOwner\n          ? Error(\"react-stack-top-frame\")\n          : unknownOwnerDebugStack,\n        trackActualOwner ? createTask(getTaskName(type)) : unknownOwnerDebugTask\n      );\n    };\n  })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS41LjJfYmFiZWwtcGx1Z2luLXJlYWN0LWNvbXBpbGVyQDEuMC4wX3JlYWN0LWRvbUAxOS4xLjBfcmVhY3RAMTkuMS4wX19yZWFjdEAxOS4xLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9yZWFjdC9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTtBQUNiLEtBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLCtDQUErQyw2QkFBNkI7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGdCQUFnQixnREFBZ0Q7QUFDaEUsZ0JBQWdCLGFBQWE7QUFDN0I7QUFDQTtBQUNBLGdDQUFnQyxrQ0FBa0MsT0FBTztBQUN6RTtBQUNBLGdHQUFnRyxTQUFTLFVBQVUsc0ZBQXNGLGFBQWEsVUFBVSxVQUFVO0FBQzFPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsbUJBQU8sQ0FBQyx1TkFBMEI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxnQkFBZ0I7QUFDcEIsSUFBSSxjQUFjO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyIsInNvdXJjZXMiOlsiL1VzZXJzL3BvY2hvbG8vUHJvamVjdHMvd2VsbHNlcnYtcG9ydGFsL25vZGVfbW9kdWxlcy8ucG5wbS9uZXh0QDE1LjUuMl9iYWJlbC1wbHVnaW4tcmVhY3QtY29tcGlsZXJAMS4wLjBfcmVhY3QtZG9tQDE5LjEuMF9yZWFjdEAxOS4xLjBfX3JlYWN0QDE5LjEuMC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL3JlYWN0L2Nqcy9yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJlxuICAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKSB7XG4gICAgICBpZiAobnVsbCA9PSB0eXBlKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICByZXR1cm4gdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRVxuICAgICAgICAgID8gbnVsbFxuICAgICAgICAgIDogdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgbnVsbDtcbiAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSkgcmV0dXJuIHR5cGU7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIkZyYWdtZW50XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJQcm9maWxlclwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3RyaWN0TW9kZVwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VMaXN0XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfQUNUSVZJVFlfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJBY3Rpdml0eVwiO1xuICAgICAgfVxuICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICBzd2l0Y2ggKFxuICAgICAgICAgIChcIm51bWJlclwiID09PSB0eXBlb2YgdHlwZS50YWcgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKCkuIFRoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB0eXBlLiQkdHlwZW9mKVxuICAgICAgICApIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIFwiUG9ydGFsXCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCBcIkNvbnRleHRcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTlNVTUVSX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUuX2NvbnRleHQuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuQ29uc3VtZXJcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgICAgICB2YXIgaW5uZXJUeXBlID0gdHlwZS5yZW5kZXI7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5kaXNwbGF5TmFtZTtcbiAgICAgICAgICAgIHR5cGUgfHxcbiAgICAgICAgICAgICAgKCh0eXBlID0gaW5uZXJUeXBlLmRpc3BsYXlOYW1lIHx8IGlubmVyVHlwZS5uYW1lIHx8IFwiXCIpLFxuICAgICAgICAgICAgICAodHlwZSA9IFwiXCIgIT09IHR5cGUgPyBcIkZvcndhcmRSZWYoXCIgKyB0eXBlICsgXCIpXCIgOiBcIkZvcndhcmRSZWZcIikpO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoaW5uZXJUeXBlID0gdHlwZS5kaXNwbGF5TmFtZSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gaW5uZXJUeXBlXG4gICAgICAgICAgICAgICAgPyBpbm5lclR5cGVcbiAgICAgICAgICAgICAgICA6IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8IFwiTWVtb1wiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgaW5uZXJUeXBlID0gdHlwZS5fcGF5bG9hZDtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLl9pbml0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKGlubmVyVHlwZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge31cbiAgICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIFwiXCIgKyB2YWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tLZXlTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICExO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMDtcbiAgICAgIH1cbiAgICAgIGlmIChKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gY29uc29sZTtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfdGVtcF9jb25zdCA9IEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdC5lcnJvcjtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCRqc2NvbXAkMCA9XG4gICAgICAgICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFN5bWJvbCAmJlxuICAgICAgICAgICAgU3ltYm9sLnRvU3RyaW5nVGFnICYmXG4gICAgICAgICAgICB2YWx1ZVtTeW1ib2wudG9TdHJpbmdUYWddKSB8fFxuICAgICAgICAgIHZhbHVlLmNvbnN0cnVjdG9yLm5hbWUgfHxcbiAgICAgICAgICBcIk9iamVjdFwiO1xuICAgICAgICBKU0NvbXBpbGVyX3RlbXBfY29uc3QuY2FsbChcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQsXG4gICAgICAgICAgXCJUaGUgcHJvdmlkZWQga2V5IGlzIGFuIHVuc3VwcG9ydGVkIHR5cGUgJXMuIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLlwiLFxuICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCRqc2NvbXAkMFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VGFza05hbWUodHlwZSkge1xuICAgICAgaWYgKHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHJldHVybiBcIjw+XCI7XG4gICAgICBpZiAoXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlICYmXG4gICAgICAgIG51bGwgIT09IHR5cGUgJiZcbiAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFXG4gICAgICApXG4gICAgICAgIHJldHVybiBcIjwuLi4+XCI7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKTtcbiAgICAgICAgcmV0dXJuIG5hbWUgPyBcIjxcIiArIG5hbWUgKyBcIj5cIiA6IFwiPC4uLj5cIjtcbiAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgcmV0dXJuIFwiPC4uLj5cIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0T3duZXIoKSB7XG4gICAgICB2YXIgZGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkE7XG4gICAgICByZXR1cm4gbnVsbCA9PT0gZGlzcGF0Y2hlciA/IG51bGwgOiBkaXNwYXRjaGVyLmdldE93bmVyKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFVua25vd25Pd25lcigpIHtcbiAgICAgIHJldHVybiBFcnJvcihcInJlYWN0LXN0YWNrLXRvcC1mcmFtZVwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFzVmFsaWRLZXkoY29uZmlnKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIFwia2V5XCIpKSB7XG4gICAgICAgIHZhciBnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbmZpZywgXCJrZXlcIikuZ2V0O1xuICAgICAgICBpZiAoZ2V0dGVyICYmIGdldHRlci5pc1JlYWN0V2FybmluZykgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gY29uZmlnLmtleTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gICAgICBmdW5jdGlvbiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkoKSB7XG4gICAgICAgIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duIHx8XG4gICAgICAgICAgKChzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biA9ICEwKSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlczogYGtleWAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCBpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lIHZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgcHJvcC4gKGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvc3BlY2lhbC1wcm9wcylcIixcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lXG4gICAgICAgICAgKSk7XG4gICAgICB9XG4gICAgICB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkuaXNSZWFjdFdhcm5pbmcgPSAhMDtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgXCJrZXlcIiwge1xuICAgICAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ0tleSxcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMFxuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVsZW1lbnRSZWZHZXR0ZXJXaXRoRGVwcmVjYXRpb25XYXJuaW5nKCkge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodGhpcy50eXBlKTtcbiAgICAgIGRpZFdhcm5BYm91dEVsZW1lbnRSZWZbY29tcG9uZW50TmFtZV0gfHxcbiAgICAgICAgKChkaWRXYXJuQWJvdXRFbGVtZW50UmVmW2NvbXBvbmVudE5hbWVdID0gITApLFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQWNjZXNzaW5nIGVsZW1lbnQucmVmIHdhcyByZW1vdmVkIGluIFJlYWN0IDE5LiByZWYgaXMgbm93IGEgcmVndWxhciBwcm9wLiBJdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgSlNYIEVsZW1lbnQgdHlwZSBpbiBhIGZ1dHVyZSByZWxlYXNlLlwiXG4gICAgICAgICkpO1xuICAgICAgY29tcG9uZW50TmFtZSA9IHRoaXMucHJvcHMucmVmO1xuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gY29tcG9uZW50TmFtZSA/IGNvbXBvbmVudE5hbWUgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBSZWFjdEVsZW1lbnQodHlwZSwga2V5LCBwcm9wcywgb3duZXIsIGRlYnVnU3RhY2ssIGRlYnVnVGFzaykge1xuICAgICAgdmFyIHJlZlByb3AgPSBwcm9wcy5yZWY7XG4gICAgICB0eXBlID0ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfRUxFTUVOVF9UWVBFLFxuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgICBfb3duZXI6IG93bmVyXG4gICAgICB9O1xuICAgICAgbnVsbCAhPT0gKHZvaWQgMCAhPT0gcmVmUHJvcCA/IHJlZlByb3AgOiBudWxsKVxuICAgICAgICA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcInJlZlwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgICAgIGdldDogZWxlbWVudFJlZkdldHRlcldpdGhEZXByZWNhdGlvbldhcm5pbmdcbiAgICAgICAgICB9KVxuICAgICAgICA6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcInJlZlwiLCB7IGVudW1lcmFibGU6ICExLCB2YWx1ZTogbnVsbCB9KTtcbiAgICAgIHR5cGUuX3N0b3JlID0ge307XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZS5fc3RvcmUsIFwidmFsaWRhdGVkXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwiX2RlYnVnSW5mb1wiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiBudWxsXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIl9kZWJ1Z1N0YWNrXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IGRlYnVnU3RhY2tcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwiX2RlYnVnVGFza1wiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiBkZWJ1Z1Rhc2tcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmZyZWV6ZSAmJiAoT2JqZWN0LmZyZWV6ZSh0eXBlLnByb3BzKSwgT2JqZWN0LmZyZWV6ZSh0eXBlKSk7XG4gICAgICByZXR1cm4gdHlwZTtcbiAgICB9XG4gICAgZnVuY3Rpb24ganN4REVWSW1wbChcbiAgICAgIHR5cGUsXG4gICAgICBjb25maWcsXG4gICAgICBtYXliZUtleSxcbiAgICAgIGlzU3RhdGljQ2hpbGRyZW4sXG4gICAgICBkZWJ1Z1N0YWNrLFxuICAgICAgZGVidWdUYXNrXG4gICAgKSB7XG4gICAgICB2YXIgY2hpbGRyZW4gPSBjb25maWcuY2hpbGRyZW47XG4gICAgICBpZiAodm9pZCAwICE9PSBjaGlsZHJlbilcbiAgICAgICAgaWYgKGlzU3RhdGljQ2hpbGRyZW4pXG4gICAgICAgICAgaWYgKGlzQXJyYXlJbXBsKGNoaWxkcmVuKSkge1xuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgaXNTdGF0aWNDaGlsZHJlbiA9IDA7XG4gICAgICAgICAgICAgIGlzU3RhdGljQ2hpbGRyZW4gPCBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgICAgIGlzU3RhdGljQ2hpbGRyZW4rK1xuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB2YWxpZGF0ZUNoaWxkS2V5cyhjaGlsZHJlbltpc1N0YXRpY0NoaWxkcmVuXSk7XG4gICAgICAgICAgICBPYmplY3QuZnJlZXplICYmIE9iamVjdC5mcmVlemUoY2hpbGRyZW4pO1xuICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWFjdC5qc3g6IFN0YXRpYyBjaGlsZHJlbiBzaG91bGQgYWx3YXlzIGJlIGFuIGFycmF5LiBZb3UgYXJlIGxpa2VseSBleHBsaWNpdGx5IGNhbGxpbmcgUmVhY3QuanN4cyBvciBSZWFjdC5qc3hERVYuIFVzZSB0aGUgQmFiZWwgdHJhbnNmb3JtIGluc3RlYWQuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIGVsc2UgdmFsaWRhdGVDaGlsZEtleXMoY2hpbGRyZW4pO1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBcImtleVwiKSkge1xuICAgICAgICBjaGlsZHJlbiA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKTtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhjb25maWcpLmZpbHRlcihmdW5jdGlvbiAoaykge1xuICAgICAgICAgIHJldHVybiBcImtleVwiICE9PSBrO1xuICAgICAgICB9KTtcbiAgICAgICAgaXNTdGF0aWNDaGlsZHJlbiA9XG4gICAgICAgICAgMCA8IGtleXMubGVuZ3RoXG4gICAgICAgICAgICA/IFwie2tleTogc29tZUtleSwgXCIgKyBrZXlzLmpvaW4oXCI6IC4uLiwgXCIpICsgXCI6IC4uLn1cIlxuICAgICAgICAgICAgOiBcIntrZXk6IHNvbWVLZXl9XCI7XG4gICAgICAgIGRpZFdhcm5BYm91dEtleVNwcmVhZFtjaGlsZHJlbiArIGlzU3RhdGljQ2hpbGRyZW5dIHx8XG4gICAgICAgICAgKChrZXlzID1cbiAgICAgICAgICAgIDAgPCBrZXlzLmxlbmd0aCA/IFwie1wiICsga2V5cy5qb2luKFwiOiAuLi4sIFwiKSArIFwiOiAuLi59XCIgOiBcInt9XCIpLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAnQSBwcm9wcyBvYmplY3QgY29udGFpbmluZyBhIFwia2V5XCIgcHJvcCBpcyBiZWluZyBzcHJlYWQgaW50byBKU1g6XFxuICBsZXQgcHJvcHMgPSAlcztcXG4gIDwlcyB7Li4ucHJvcHN9IC8+XFxuUmVhY3Qga2V5cyBtdXN0IGJlIHBhc3NlZCBkaXJlY3RseSB0byBKU1ggd2l0aG91dCB1c2luZyBzcHJlYWQ6XFxuICBsZXQgcHJvcHMgPSAlcztcXG4gIDwlcyBrZXk9e3NvbWVLZXl9IHsuLi5wcm9wc30gLz4nLFxuICAgICAgICAgICAgaXNTdGF0aWNDaGlsZHJlbixcbiAgICAgICAgICAgIGNoaWxkcmVuLFxuICAgICAgICAgICAga2V5cyxcbiAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICAgKSxcbiAgICAgICAgICAoZGlkV2FybkFib3V0S2V5U3ByZWFkW2NoaWxkcmVuICsgaXNTdGF0aWNDaGlsZHJlbl0gPSAhMCkpO1xuICAgICAgfVxuICAgICAgY2hpbGRyZW4gPSBudWxsO1xuICAgICAgdm9pZCAwICE9PSBtYXliZUtleSAmJlxuICAgICAgICAoY2hlY2tLZXlTdHJpbmdDb2VyY2lvbihtYXliZUtleSksIChjaGlsZHJlbiA9IFwiXCIgKyBtYXliZUtleSkpO1xuICAgICAgaGFzVmFsaWRLZXkoY29uZmlnKSAmJlxuICAgICAgICAoY2hlY2tLZXlTdHJpbmdDb2VyY2lvbihjb25maWcua2V5KSwgKGNoaWxkcmVuID0gXCJcIiArIGNvbmZpZy5rZXkpKTtcbiAgICAgIGlmIChcImtleVwiIGluIGNvbmZpZykge1xuICAgICAgICBtYXliZUtleSA9IHt9O1xuICAgICAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBjb25maWcpXG4gICAgICAgICAgXCJrZXlcIiAhPT0gcHJvcE5hbWUgJiYgKG1heWJlS2V5W3Byb3BOYW1lXSA9IGNvbmZpZ1twcm9wTmFtZV0pO1xuICAgICAgfSBlbHNlIG1heWJlS2V5ID0gY29uZmlnO1xuICAgICAgY2hpbGRyZW4gJiZcbiAgICAgICAgZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIoXG4gICAgICAgICAgbWF5YmVLZXksXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZVxuICAgICAgICAgICAgPyB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBcIlVua25vd25cIlxuICAgICAgICAgICAgOiB0eXBlXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gUmVhY3RFbGVtZW50KFxuICAgICAgICB0eXBlLFxuICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgbWF5YmVLZXksXG4gICAgICAgIGdldE93bmVyKCksXG4gICAgICAgIGRlYnVnU3RhY2ssXG4gICAgICAgIGRlYnVnVGFza1xuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVDaGlsZEtleXMobm9kZSkge1xuICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIG5vZGUgJiZcbiAgICAgICAgbnVsbCAhPT0gbm9kZSAmJlxuICAgICAgICBub2RlLiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEUgJiZcbiAgICAgICAgbm9kZS5fc3RvcmUgJiZcbiAgICAgICAgKG5vZGUuX3N0b3JlLnZhbGlkYXRlZCA9IDEpO1xuICAgIH1cbiAgICB2YXIgUmVhY3QgPSByZXF1aXJlKFwibmV4dC9kaXN0L2NvbXBpbGVkL3JlYWN0XCIpLFxuICAgICAgUkVBQ1RfRUxFTUVOVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnRyYW5zaXRpb25hbC5lbGVtZW50XCIpLFxuICAgICAgUkVBQ1RfUE9SVEFMX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpLFxuICAgICAgUkVBQ1RfRlJBR01FTlRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKSxcbiAgICAgIFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3RyaWN0X21vZGVcIiksXG4gICAgICBSRUFDVF9QUk9GSUxFUl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnByb2ZpbGVyXCIpLFxuICAgICAgUkVBQ1RfQ09OU1VNRVJfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb25zdW1lclwiKSxcbiAgICAgIFJFQUNUX0NPTlRFWFRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpLFxuICAgICAgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKSxcbiAgICAgIFJFQUNUX1NVU1BFTlNFX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VcIiksXG4gICAgICBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VfbGlzdFwiKSxcbiAgICAgIFJFQUNUX01FTU9fVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vXCIpLFxuICAgICAgUkVBQ1RfTEFaWV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmxhenlcIiksXG4gICAgICBSRUFDVF9BQ1RJVklUWV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmFjdGl2aXR5XCIpLFxuICAgICAgUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jbGllbnQucmVmZXJlbmNlXCIpLFxuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPVxuICAgICAgICBSZWFjdC5fX0NMSUVOVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9XQVJOX1VTRVJTX1RIRVlfQ0FOTk9UX1VQR1JBREUsXG4gICAgICBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksXG4gICAgICBpc0FycmF5SW1wbCA9IEFycmF5LmlzQXJyYXksXG4gICAgICBjcmVhdGVUYXNrID0gY29uc29sZS5jcmVhdGVUYXNrXG4gICAgICAgID8gY29uc29sZS5jcmVhdGVUYXNrXG4gICAgICAgIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfTtcbiAgICBSZWFjdCA9IHtcbiAgICAgIHJlYWN0X3N0YWNrX2JvdHRvbV9mcmFtZTogZnVuY3Rpb24gKGNhbGxTdGFja0ZvckVycm9yKSB7XG4gICAgICAgIHJldHVybiBjYWxsU3RhY2tGb3JFcnJvcigpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duO1xuICAgIHZhciBkaWRXYXJuQWJvdXRFbGVtZW50UmVmID0ge307XG4gICAgdmFyIHVua25vd25Pd25lckRlYnVnU3RhY2sgPSBSZWFjdC5yZWFjdF9zdGFja19ib3R0b21fZnJhbWUuYmluZChcbiAgICAgIFJlYWN0LFxuICAgICAgVW5rbm93bk93bmVyXG4gICAgKSgpO1xuICAgIHZhciB1bmtub3duT3duZXJEZWJ1Z1Rhc2sgPSBjcmVhdGVUYXNrKGdldFRhc2tOYW1lKFVua25vd25Pd25lcikpO1xuICAgIHZhciBkaWRXYXJuQWJvdXRLZXlTcHJlYWQgPSB7fTtcbiAgICBleHBvcnRzLkZyYWdtZW50ID0gUkVBQ1RfRlJBR01FTlRfVFlQRTtcbiAgICBleHBvcnRzLmpzeERFViA9IGZ1bmN0aW9uICh0eXBlLCBjb25maWcsIG1heWJlS2V5LCBpc1N0YXRpY0NoaWxkcmVuKSB7XG4gICAgICB2YXIgdHJhY2tBY3R1YWxPd25lciA9XG4gICAgICAgIDFlNCA+IFJlYWN0U2hhcmVkSW50ZXJuYWxzLnJlY2VudGx5Q3JlYXRlZE93bmVyU3RhY2tzKys7XG4gICAgICByZXR1cm4ganN4REVWSW1wbChcbiAgICAgICAgdHlwZSxcbiAgICAgICAgY29uZmlnLFxuICAgICAgICBtYXliZUtleSxcbiAgICAgICAgaXNTdGF0aWNDaGlsZHJlbixcbiAgICAgICAgdHJhY2tBY3R1YWxPd25lclxuICAgICAgICAgID8gRXJyb3IoXCJyZWFjdC1zdGFjay10b3AtZnJhbWVcIilcbiAgICAgICAgICA6IHVua25vd25Pd25lckRlYnVnU3RhY2ssXG4gICAgICAgIHRyYWNrQWN0dWFsT3duZXIgPyBjcmVhdGVUYXNrKGdldFRhc2tOYW1lKHR5cGUpKSA6IHVua25vd25Pd25lckRlYnVnVGFza1xuICAgICAgKTtcbiAgICB9O1xuICB9KSgpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js":
/*!***********************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js ***!
  \***********************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-jsx-dev-runtime.development.js */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS41LjJfYmFiZWwtcGx1Z2luLXJlYWN0LWNvbXBpbGVyQDEuMC4wX3JlYWN0LWRvbUAxOS4xLjBfcmVhY3RAMTkuMS4wX19yZWFjdEAxOS4xLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9yZWFjdC9qc3gtZGV2LXJ1bnRpbWUuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsSUFBSSxLQUFxQyxFQUFFLEVBRTFDLENBQUM7QUFDRixFQUFFLCtTQUFzRTtBQUN4RSIsInNvdXJjZXMiOlsiL1VzZXJzL3BvY2hvbG8vUHJvamVjdHMvd2VsbHNlcnYtcG9ydGFsL25vZGVfbW9kdWxlcy8ucG5wbS9uZXh0QDE1LjUuMl9iYWJlbC1wbHVnaW4tcmVhY3QtY29tcGlsZXJAMS4wLjBfcmVhY3QtZG9tQDE5LjEuMF9yZWFjdEAxOS4xLjBfX3JlYWN0QDE5LjEuMC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL3JlYWN0L2pzeC1kZXYtcnVudGltZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLnByb2R1Y3Rpb24uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzJyk7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/(doctor)/doctor/LogoutButton.tsx":
/*!**********************************************!*\
  !*** ./app/(doctor)/doctor/LogoutButton.tsx ***!
  \**********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LogoutButton)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nconst LOGOUT_API = \"/api/doctor/logout\"; //  change if your route differs\nfunction LogoutButton() {\n    _s();\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    async function onClick() {\n        try {\n            setLoading(true);\n            await fetch(LOGOUT_API, {\n                method: \"POST\"\n            });\n            // Send them back to the doctor login\n            window.location.href = \"/doctor/login\";\n        } catch (e) {\n            // Fallback: hard refresh if something odd happens\n            window.location.href = \"/doctor/login\";\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        onClick: onClick,\n        disabled: loading,\n        className: \"rounded-md border px-3 py-1.5 text-sm hover:bg-gray-50 disabled:opacity-50\",\n        title: \"Sign out\",\n        children: loading ? \"Signing out\" : \"Log out\"\n    }, void 0, false, {\n        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/LogoutButton.tsx\",\n        lineNumber: 21,\n        columnNumber: 5\n    }, this);\n}\n_s(LogoutButton, \"/Rjh5rPqCCqf0XYnTUk9ZNavw3Q=\");\n_c = LogoutButton;\nvar _c;\n$RefreshReg$(_c, \"LogoutButton\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8oZG9jdG9yKS9kb2N0b3IvTG9nb3V0QnV0dG9uLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFaUM7QUFFakMsTUFBTUMsYUFBYSxzQkFBc0IsaUNBQWlDO0FBRTNELFNBQVNDOztJQUN0QixNQUFNLENBQUNDLFNBQVNDLFdBQVcsR0FBR0osK0NBQVFBLENBQUM7SUFDdkMsZUFBZUs7UUFDYixJQUFJO1lBQ0ZELFdBQVc7WUFDWCxNQUFNRSxNQUFNTCxZQUFZO2dCQUFFTSxRQUFRO1lBQU87WUFDekMscUNBQXFDO1lBQ3JDQyxPQUFPQyxRQUFRLENBQUNDLElBQUksR0FBRztRQUN6QixFQUFFLFVBQU07WUFDTixrREFBa0Q7WUFDbERGLE9BQU9DLFFBQVEsQ0FBQ0MsSUFBSSxHQUFHO1FBQ3pCO0lBQ0Y7SUFDQSxxQkFDRSw4REFBQ0M7UUFDQ04sU0FBU0E7UUFDVE8sVUFBVVQ7UUFDVlUsV0FBVTtRQUNWQyxPQUFNO2tCQUVMWCxVQUFVLGlCQUFpQjs7Ozs7O0FBR2xDO0dBdkJ3QkQ7S0FBQUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb2Nob2xvL1Byb2plY3RzL3dlbGxzZXJ2LXBvcnRhbC9hcHBzL3dlYi9hcHAvKGRvY3RvcikvZG9jdG9yL0xvZ291dEJ1dHRvbi50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5cbmNvbnN0IExPR09VVF9BUEkgPSBcIi9hcGkvZG9jdG9yL2xvZ291dFwiOyAvLyDihpAgY2hhbmdlIGlmIHlvdXIgcm91dGUgZGlmZmVyc1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBMb2dvdXRCdXR0b24oKSB7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgYXN5bmMgZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICB0cnkge1xuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIGF3YWl0IGZldGNoKExPR09VVF9BUEksIHsgbWV0aG9kOiBcIlBPU1RcIiB9KTtcbiAgICAgIC8vIFNlbmQgdGhlbSBiYWNrIHRvIHRoZSBkb2N0b3IgbG9naW5cbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvZG9jdG9yL2xvZ2luXCI7XG4gICAgfSBjYXRjaCB7XG4gICAgICAvLyBGYWxsYmFjazogaGFyZCByZWZyZXNoIGlmIHNvbWV0aGluZyBvZGQgaGFwcGVuc1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9kb2N0b3IvbG9naW5cIjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIChcbiAgICA8YnV0dG9uXG4gICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XG4gICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLW1kIGJvcmRlciBweC0zIHB5LTEuNSB0ZXh0LXNtIGhvdmVyOmJnLWdyYXktNTAgZGlzYWJsZWQ6b3BhY2l0eS01MFwiXG4gICAgICB0aXRsZT1cIlNpZ24gb3V0XCJcbiAgICA+XG4gICAgICB7bG9hZGluZyA/IFwiU2lnbmluZyBvdXTigKZcIiA6IFwiTG9nIG91dFwifVxuICAgIDwvYnV0dG9uPlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwiTE9HT1VUX0FQSSIsIkxvZ291dEJ1dHRvbiIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwib25DbGljayIsImZldGNoIiwibWV0aG9kIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiYnV0dG9uIiwiZGlzYWJsZWQiLCJjbGFzc05hbWUiLCJ0aXRsZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(doctor)/doctor/LogoutButton.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/BranchPicker.tsx":
/*!******************************************************************!*\
  !*** ./app/(doctor)/doctor/patient/[patientId]/BranchPicker.tsx ***!
  \******************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BranchPicker)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_hubs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/hubs */ \"(app-pages-browser)/./lib/hubs.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\nfunction BranchPicker(param) {\n    let { consultationId, initialBranch } = param;\n    _s();\n    const [branch, setBranch] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialBranch !== null && initialBranch !== void 0 ? initialBranch : \"\");\n    async function saveBranch(next) {\n        setBranch(next);\n        if (!consultationId) return;\n        await fetch(\"/api/consultations/update\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                id: consultationId,\n                branch: next\n            })\n        });\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Branch:\"\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/BranchPicker.tsx\",\n                lineNumber: 26,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                className: \"border rounded px-2 py-1 text-sm\",\n                value: branch,\n                onChange: (e)=>saveBranch(e.target.value),\n                disabled: !consultationId,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                        value: \"\",\n                        children: \"Select\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/BranchPicker.tsx\",\n                        lineNumber: 33,\n                        columnNumber: 9\n                    }, this),\n                    _lib_hubs__WEBPACK_IMPORTED_MODULE_2__.BRANCHES.map((b)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                            value: b,\n                            children: b\n                        }, b, false, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/BranchPicker.tsx\",\n                            lineNumber: 35,\n                            columnNumber: 11\n                        }, this))\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/BranchPicker.tsx\",\n                lineNumber: 27,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/BranchPicker.tsx\",\n        lineNumber: 25,\n        columnNumber: 5\n    }, this);\n}\n_s(BranchPicker, \"4GJ3ovNng6QAJzW94fjIvpWkEd8=\");\n_c = BranchPicker;\nvar _c;\n$RefreshReg$(_c, \"BranchPicker\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8oZG9jdG9yKS9kb2N0b3IvcGF0aWVudC9bcGF0aWVudElkXS9CcmFuY2hQaWNrZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFDaUM7QUFDSztBQUV2QixTQUFTRSxhQUFhLEtBTXBDO1FBTm9DLEVBQ25DQyxjQUFjLEVBQ2RDLGFBQWEsRUFJZCxHQU5vQzs7SUFPbkMsTUFBTSxDQUFDQyxRQUFRQyxVQUFVLEdBQUdOLCtDQUFRQSxDQUFTSSwwQkFBQUEsMkJBQUFBLGdCQUFpQjtJQUU5RCxlQUFlRyxXQUFXQyxJQUFZO1FBQ3BDRixVQUFVRTtRQUNWLElBQUksQ0FBQ0wsZ0JBQWdCO1FBQ3JCLE1BQU1NLE1BQU0sNkJBQTZCO1lBQ3ZDQyxRQUFRO1lBQ1JDLFNBQVM7Z0JBQUUsZ0JBQWdCO1lBQW1CO1lBQzlDQyxNQUFNQyxLQUFLQyxTQUFTLENBQUM7Z0JBQUVDLElBQUlaO2dCQUFnQkUsUUFBUUc7WUFBSztRQUMxRDtJQUNGO0lBRUEscUJBQ0UsOERBQUNRO1FBQUlDLFdBQVU7OzBCQUNiLDhEQUFDQztnQkFBTUQsV0FBVTswQkFBd0I7Ozs7OzswQkFDekMsOERBQUNFO2dCQUNDRixXQUFVO2dCQUNWRyxPQUFPZjtnQkFDUGdCLFVBQVUsQ0FBQ0MsSUFBTWYsV0FBV2UsRUFBRUMsTUFBTSxDQUFDSCxLQUFLO2dCQUMxQ0ksVUFBVSxDQUFDckI7O2tDQUVYLDhEQUFDc0I7d0JBQU9MLE9BQU07a0NBQUc7Ozs7OztvQkFDaEJuQiwrQ0FBUUEsQ0FBQ3lCLEdBQUcsQ0FBQyxDQUFDQyxrQkFDYiw4REFBQ0Y7NEJBQWVMLE9BQU9PO3NDQUFJQTsyQkFBZEE7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS3ZCO0dBbkN3QnpCO0tBQUFBIiwic291cmNlcyI6WyIvVXNlcnMvcG9jaG9sby9Qcm9qZWN0cy93ZWxsc2Vydi1wb3J0YWwvYXBwcy93ZWIvYXBwLyhkb2N0b3IpL2RvY3Rvci9wYXRpZW50L1twYXRpZW50SWRdL0JyYW5jaFBpY2tlci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQlJBTkNIRVMgfSBmcm9tIFwiQC9saWIvaHVic1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCcmFuY2hQaWNrZXIoe1xuICBjb25zdWx0YXRpb25JZCxcbiAgaW5pdGlhbEJyYW5jaCxcbn06IHtcbiAgY29uc3VsdGF0aW9uSWQ6IHN0cmluZyB8IG51bGw7XG4gIGluaXRpYWxCcmFuY2g/OiBzdHJpbmcgfCBudWxsO1xufSkge1xuICBjb25zdCBbYnJhbmNoLCBzZXRCcmFuY2hdID0gdXNlU3RhdGU8c3RyaW5nPihpbml0aWFsQnJhbmNoID8/IFwiXCIpO1xuXG4gIGFzeW5jIGZ1bmN0aW9uIHNhdmVCcmFuY2gobmV4dDogc3RyaW5nKSB7XG4gICAgc2V0QnJhbmNoKG5leHQpO1xuICAgIGlmICghY29uc3VsdGF0aW9uSWQpIHJldHVybjtcbiAgICBhd2FpdCBmZXRjaChcIi9hcGkvY29uc3VsdGF0aW9ucy91cGRhdGVcIiwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgaWQ6IGNvbnN1bHRhdGlvbklkLCBicmFuY2g6IG5leHQgfSksXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5CcmFuY2g6PC9sYWJlbD5cbiAgICAgIDxzZWxlY3RcbiAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyIHJvdW5kZWQgcHgtMiBweS0xIHRleHQtc21cIlxuICAgICAgICB2YWx1ZT17YnJhbmNofVxuICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNhdmVCcmFuY2goZS50YXJnZXQudmFsdWUpfVxuICAgICAgICBkaXNhYmxlZD17IWNvbnN1bHRhdGlvbklkfVxuICAgICAgPlxuICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+U2VsZWN04oCmPC9vcHRpb24+XG4gICAgICAgIHtCUkFOQ0hFUy5tYXAoKGIpID0+IChcbiAgICAgICAgICA8b3B0aW9uIGtleT17Yn0gdmFsdWU9e2J9PntifTwvb3B0aW9uPlxuICAgICAgICApKX1cbiAgICAgIDwvc2VsZWN0PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwiQlJBTkNIRVMiLCJCcmFuY2hQaWNrZXIiLCJjb25zdWx0YXRpb25JZCIsImluaXRpYWxCcmFuY2giLCJicmFuY2giLCJzZXRCcmFuY2giLCJzYXZlQnJhbmNoIiwibmV4dCIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiaWQiLCJkaXYiLCJjbGFzc05hbWUiLCJsYWJlbCIsInNlbGVjdCIsInZhbHVlIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0IiwiZGlzYWJsZWQiLCJvcHRpb24iLCJtYXAiLCJiIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/BranchPicker.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/ClientReportViewer.tsx":
/*!************************************************************************!*\
  !*** ./app/(doctor)/doctor/patient/[patientId]/ClientReportViewer.tsx ***!
  \************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ClientReportViewer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _components_ReportViewer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/components/ReportViewer */ \"(app-pages-browser)/./components/ReportViewer.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n// Thin client wrapper so we can use ReportViewer inside a Server Component page.\n\nfunction ClientReportViewer(param) {\n    let { patientId } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ReportViewer__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n        initialPatientId: patientId,\n        apiPath: \"/api/patient-results\",\n        autoFetch: true\n    }, void 0, false, {\n        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ClientReportViewer.tsx\",\n        lineNumber: 8,\n        columnNumber: 5\n    }, this);\n}\n_c = ClientReportViewer;\nvar _c;\n$RefreshReg$(_c, \"ClientReportViewer\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8oZG9jdG9yKS9kb2N0b3IvcGF0aWVudC9bcGF0aWVudElkXS9DbGllbnRSZXBvcnRWaWV3ZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFQSxpRkFBaUY7QUFDNUI7QUFFdEMsU0FBU0MsbUJBQW1CLEtBQW9DO1FBQXBDLEVBQUVDLFNBQVMsRUFBeUIsR0FBcEM7SUFDekMscUJBQ0UsOERBQUNGLGdFQUFZQTtRQUNYRyxrQkFBa0JEO1FBQ2xCRSxTQUFRO1FBQ1JDLFdBQVc7Ozs7OztBQUdqQjtLQVJ3QkoiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb2Nob2xvL1Byb2plY3RzL3dlbGxzZXJ2LXBvcnRhbC9hcHBzL3dlYi9hcHAvKGRvY3RvcikvZG9jdG9yL3BhdGllbnQvW3BhdGllbnRJZF0vQ2xpZW50UmVwb3J0Vmlld2VyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuLy8gVGhpbiBjbGllbnQgd3JhcHBlciBzbyB3ZSBjYW4gdXNlIFJlcG9ydFZpZXdlciBpbnNpZGUgYSBTZXJ2ZXIgQ29tcG9uZW50IHBhZ2UuXG5pbXBvcnQgUmVwb3J0Vmlld2VyIGZyb20gXCJAL2NvbXBvbmVudHMvUmVwb3J0Vmlld2VyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENsaWVudFJlcG9ydFZpZXdlcih7IHBhdGllbnRJZCB9OiB7IHBhdGllbnRJZDogc3RyaW5nIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8UmVwb3J0Vmlld2VyXG4gICAgICBpbml0aWFsUGF0aWVudElkPXtwYXRpZW50SWR9XG4gICAgICBhcGlQYXRoPVwiL2FwaS9wYXRpZW50LXJlc3VsdHNcIiAgLy8gPC0gdXNlIHlvdXIgZXhpc3RpbmcgQVBJIHJvdXRlXG4gICAgICBhdXRvRmV0Y2g9e3RydWV9ICAgICAgICAgICAgICAgIC8vIDwtIGltbWVkaWF0ZWx5IGxvYWQgZm9yIHRoaXMgcGF0aWVudFxuICAgIC8+XG4gICk7XG59XG4iXSwibmFtZXMiOlsiUmVwb3J0Vmlld2VyIiwiQ2xpZW50UmVwb3J0Vmlld2VyIiwicGF0aWVudElkIiwiaW5pdGlhbFBhdGllbnRJZCIsImFwaVBhdGgiLCJhdXRvRmV0Y2giXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/ClientReportViewer.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/ConsentBus.tsx":
/*!****************************************************************!*\
  !*** ./app/(doctor)/doctor/patient/[patientId]/ConsentBus.tsx ***!
  \****************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ConsentBus)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _ConsentModal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ConsentModal */ \"(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\nfunction ConsentBus(param) {\n    let { patientId } = param;\n    _s();\n    const [open, setOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [pay, setPay] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const onOpen = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ConsentBus.useCallback[onOpen]\": (e)=>{\n            setPay(e.detail);\n            setOpen(true);\n        }\n    }[\"ConsentBus.useCallback[onOpen]\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ConsentBus.useEffect\": ()=>{\n            const handler = onOpen;\n            window.addEventListener(\"wellserv:openConsent\", handler);\n            return ({\n                \"ConsentBus.useEffect\": ()=>window.removeEventListener(\"wellserv:openConsent\", handler)\n            })[\"ConsentBus.useEffect\"];\n        }\n    }[\"ConsentBus.useEffect\"], [\n        onOpen\n    ]);\n    if (!open || !pay) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ConsentModal__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        isOpen: open,\n        onClose: ()=>setOpen(false),\n        consultationId: pay.consultationId,\n        encounterId: pay.encounterId,\n        patientId: pay.patientId,\n        templateSlug: \"yakap-consent\",\n        templateVersion: 1,\n        onSaved: ()=>setOpen(false)\n    }, void 0, false, {\n        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentBus.tsx\",\n        lineNumber: 30,\n        columnNumber: 5\n    }, this);\n}\n_s(ConsentBus, \"Wcz23BYfHN9ldN2TxoGusmmXvjY=\");\n_c = ConsentBus;\nvar _c;\n$RefreshReg$(_c, \"ConsentBus\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8oZG9jdG9yKS9kb2N0b3IvcGF0aWVudC9bcGF0aWVudElkXS9Db25zZW50QnVzLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRXlEO0FBQ2Y7QUFRM0IsU0FBU0ksV0FBVyxLQUFvQztRQUFwQyxFQUFFQyxTQUFTLEVBQXlCLEdBQXBDOztJQUNqQyxNQUFNLENBQUNDLE1BQU1DLFFBQVEsR0FBR04sK0NBQVFBLENBQUM7SUFDakMsTUFBTSxDQUFDTyxLQUFLQyxPQUFPLEdBQUdSLCtDQUFRQSxDQUFpQjtJQUUvQyxNQUFNUyxTQUFTUixrREFBV0E7MENBQUMsQ0FBQ1M7WUFDMUJGLE9BQU9FLEVBQUVDLE1BQU07WUFDZkwsUUFBUTtRQUNWO3lDQUFHLEVBQUU7SUFFTFAsZ0RBQVNBO2dDQUFDO1lBQ1IsTUFBTWEsVUFBVUg7WUFDaEJJLE9BQU9DLGdCQUFnQixDQUFDLHdCQUF3QkY7WUFDaEQ7d0NBQU8sSUFBTUMsT0FBT0UsbUJBQW1CLENBQUMsd0JBQXdCSDs7UUFDbEU7K0JBQUc7UUFBQ0g7S0FBTztJQUVYLElBQUksQ0FBQ0osUUFBUSxDQUFDRSxLQUFLLE9BQU87SUFFMUIscUJBQ0UsOERBQUNMLHFEQUFZQTtRQUNYYyxRQUFRWDtRQUNSWSxTQUFTLElBQU1YLFFBQVE7UUFDdkJZLGdCQUFnQlgsSUFBSVcsY0FBYztRQUNsQ0MsYUFBYVosSUFBSVksV0FBVztRQUM1QmYsV0FBV0csSUFBSUgsU0FBUztRQUN4QmdCLGNBQWE7UUFDYkMsaUJBQWlCO1FBQ2pCQyxTQUFTLElBQU1oQixRQUFROzs7Ozs7QUFHN0I7R0E3QndCSDtLQUFBQSIsInNvdXJjZXMiOlsiL1VzZXJzL3BvY2hvbG8vUHJvamVjdHMvd2VsbHNlcnYtcG9ydGFsL2FwcHMvd2ViL2FwcC8oZG9jdG9yKS9kb2N0b3IvcGF0aWVudC9bcGF0aWVudElkXS9Db25zZW50QnVzLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBDb25zZW50TW9kYWwgZnJvbSBcIi4vQ29uc2VudE1vZGFsXCI7XG5cbnR5cGUgUGF5bG9hZCA9IHtcbiAgY29uc3VsdGF0aW9uSWQ6IHN0cmluZztcbiAgZW5jb3VudGVySWQ6IHN0cmluZztcbiAgcGF0aWVudElkOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb25zZW50QnVzKHsgcGF0aWVudElkIH06IHsgcGF0aWVudElkOiBzdHJpbmcgfSkge1xuICBjb25zdCBbb3Blbiwgc2V0T3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwYXksIHNldFBheV0gPSB1c2VTdGF0ZTxQYXlsb2FkIHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3Qgb25PcGVuID0gdXNlQ2FsbGJhY2soKGU6IEN1c3RvbUV2ZW50PFBheWxvYWQ+KSA9PiB7XG4gICAgc2V0UGF5KGUuZGV0YWlsKTtcbiAgICBzZXRPcGVuKHRydWUpO1xuICB9LCBbXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVyID0gb25PcGVuIGFzIEV2ZW50TGlzdGVuZXI7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ3ZWxsc2VydjpvcGVuQ29uc2VudFwiLCBoYW5kbGVyKTtcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3ZWxsc2VydjpvcGVuQ29uc2VudFwiLCBoYW5kbGVyKTtcbiAgfSwgW29uT3Blbl0pO1xuXG4gIGlmICghb3BlbiB8fCAhcGF5KSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxDb25zZW50TW9kYWxcbiAgICAgIGlzT3Blbj17b3Blbn1cbiAgICAgIG9uQ2xvc2U9eygpID0+IHNldE9wZW4oZmFsc2UpfVxuICAgICAgY29uc3VsdGF0aW9uSWQ9e3BheS5jb25zdWx0YXRpb25JZH1cbiAgICAgIGVuY291bnRlcklkPXtwYXkuZW5jb3VudGVySWR9XG4gICAgICBwYXRpZW50SWQ9e3BheS5wYXRpZW50SWR9XG4gICAgICB0ZW1wbGF0ZVNsdWc9XCJ5YWthcC1jb25zZW50XCJcbiAgICAgIHRlbXBsYXRlVmVyc2lvbj17MX1cbiAgICAgIG9uU2F2ZWQ9eygpID0+IHNldE9wZW4oZmFsc2UpfVxuICAgIC8+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsIkNvbnNlbnRNb2RhbCIsIkNvbnNlbnRCdXMiLCJwYXRpZW50SWQiLCJvcGVuIiwic2V0T3BlbiIsInBheSIsInNldFBheSIsIm9uT3BlbiIsImUiLCJkZXRhaWwiLCJoYW5kbGVyIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc09wZW4iLCJvbkNsb3NlIiwiY29uc3VsdGF0aW9uSWQiLCJlbmNvdW50ZXJJZCIsInRlbXBsYXRlU2x1ZyIsInRlbXBsYXRlVmVyc2lvbiIsIm9uU2F2ZWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/ConsentBus.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx":
/*!******************************************************************!*\
  !*** ./app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx ***!
  \******************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ConsentModal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n//app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\nfunction useDrawPad(active) {\n    _s();\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [hasInk, setHasInk] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"useDrawPad.useEffect\": ()=>{\n            if (!active) return; // only wire up when modal is open\n            const c = canvasRef.current;\n            if (!c) return;\n            // Important for touch devices (disables scroll/pinch on the canvas area)\n            c.style.touchAction = \"none\";\n            // Use the intrinsic width/height attributes as the backing store.\n            // (Avoid DPR transforms which can end up zero-sized on first layout.)\n            const ctx = c.getContext(\"2d\");\n            if (!ctx) return;\n            ctx.lineWidth = 2;\n            ctx.lineCap = \"round\";\n            ctx.strokeStyle = \"#111\";\n            let drawing = false;\n            const pos = {\n                \"useDrawPad.useEffect.pos\": (e)=>{\n                    const r = c.getBoundingClientRect();\n                    return {\n                        x: e.clientX - r.left,\n                        y: e.clientY - r.top\n                    };\n                }\n            }[\"useDrawPad.useEffect.pos\"];\n            const down = {\n                \"useDrawPad.useEffect.down\": (e)=>{\n                    var _c_setPointerCapture;\n                    drawing = true;\n                    (_c_setPointerCapture = c.setPointerCapture) === null || _c_setPointerCapture === void 0 ? void 0 : _c_setPointerCapture.call(c, e.pointerId);\n                    const { x, y } = pos(e);\n                    ctx.beginPath();\n                    ctx.moveTo(x, y);\n                    ctx.lineTo(x + 0.01, y + 0.01); // tiny dot so a tap leaves a mark\n                    ctx.stroke();\n                    setHasInk(true);\n                    e.preventDefault();\n                }\n            }[\"useDrawPad.useEffect.down\"];\n            const move = {\n                \"useDrawPad.useEffect.move\": (e)=>{\n                    if (!drawing) return;\n                    const { x, y } = pos(e);\n                    ctx.lineTo(x, y);\n                    ctx.stroke();\n                    setHasInk(true);\n                    e.preventDefault();\n                }\n            }[\"useDrawPad.useEffect.move\"];\n            const up = {\n                \"useDrawPad.useEffect.up\": (e)=>{\n                    var _c_releasePointerCapture;\n                    drawing = false;\n                    (_c_releasePointerCapture = c.releasePointerCapture) === null || _c_releasePointerCapture === void 0 ? void 0 : _c_releasePointerCapture.call(c, e.pointerId);\n                    e.preventDefault();\n                }\n            }[\"useDrawPad.useEffect.up\"];\n            // Non-passive so preventDefault() works on mobile\n            c.addEventListener(\"pointerdown\", down, {\n                passive: false\n            });\n            c.addEventListener(\"pointermove\", move, {\n                passive: false\n            });\n            window.addEventListener(\"pointerup\", up, {\n                passive: false\n            });\n            return ({\n                \"useDrawPad.useEffect\": ()=>{\n                    c.removeEventListener(\"pointerdown\", down);\n                    c.removeEventListener(\"pointermove\", move);\n                    window.removeEventListener(\"pointerup\", up);\n                }\n            })[\"useDrawPad.useEffect\"];\n        }\n    }[\"useDrawPad.useEffect\"], [\n        active\n    ]);\n    const toDataURL = ()=>{\n        var _canvasRef_current;\n        var _canvasRef_current_toDataURL;\n        return (_canvasRef_current_toDataURL = (_canvasRef_current = canvasRef.current) === null || _canvasRef_current === void 0 ? void 0 : _canvasRef_current.toDataURL(\"image/png\")) !== null && _canvasRef_current_toDataURL !== void 0 ? _canvasRef_current_toDataURL : \"\";\n    };\n    const clear = ()=>{\n        const c = canvasRef.current;\n        if (!c) return;\n        const ctx = c.getContext(\"2d\");\n        if (!ctx) return;\n        ctx.clearRect(0, 0, c.width, c.height);\n        setHasInk(false);\n    };\n    return {\n        canvasRef,\n        toDataURL,\n        clear,\n        hasInk\n    };\n}\n_s(useDrawPad, \"6px1OFWtuc0+a9i6PQ1sr/95IWc=\");\nfunction ConsentModal(param) {\n    let { isOpen, onClose, onSaved, consultationId, encounterId, patientId, templateSlug = \"yakap-consent\", templateVersion = 1 } = param;\n    _s1();\n    // was: const doc = useDrawPad(isOpen); const pat = useDrawPad(isOpen);\n    const [patientMethod, setPatientMethod] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"drawn\");\n    const [useStoredDocSig, setUseStoredDocSig] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const doc = useDrawPad(isOpen && !useStoredDocSig); //  only when doc canvas is shown\n    const pat = useDrawPad(isOpen && patientMethod === \"drawn\"); //  only when patient canvas is shown\n    const [doctorAttest, setDoctorAttest] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [patientTyped, setPatientTyped] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [busy, setBusy] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [err, setErr] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [signer, setSigner] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('patient');\n    const [signerName, setSignerName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [signerRelation, setSignerRelation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ConsentModal.useEffect\": ()=>{\n            if (!isOpen) return;\n            setDoctorAttest(false);\n            setUseStoredDocSig(true);\n            setPatientMethod(\"drawn\");\n            setPatientTyped(\"\");\n            setSigner('patient'); // add\n            setSignerName(''); // add\n            setSignerRelation(''); // add\n            setErr(null);\n            doc.clear(); //  add\n            pat.clear();\n        }\n    }[\"ConsentModal.useEffect\"], [\n        isOpen\n    ]);\n    if (!isOpen) return null;\n    async function submit() {\n        if (busy) return;\n        setBusy(true);\n        setErr(null);\n        try {\n            const payload = {\n                consultation_id: consultationId,\n                encounter_id: encounterId,\n                patient_id: patientId,\n                template_slug: templateSlug,\n                template_version: templateVersion,\n                doctor_attest: doctorAttest,\n                use_stored_doctor_signature: useStoredDocSig,\n                patient_method: patientMethod,\n                signer_kind: signer,\n                signer_name: signer === 'patient' ? null : signerName.trim(),\n                signer_relation: signer === 'patient' ? null : signerRelation.trim()\n            };\n            if (!useStoredDocSig) {\n                payload.doctor_signature_data_url = doc.toDataURL();\n            }\n            if (patientMethod === 'drawn') {\n                payload.patient_signature_data_url = pat.toDataURL();\n            } else {\n                payload.patient_typed_name = patientTyped || null;\n            }\n            const res = await fetch(\"/api/consents/create\", {\n                method: \"POST\",\n                headers: {\n                    \"content-type\": \"application/json\"\n                },\n                body: JSON.stringify(payload)\n            });\n            const j = await res.json();\n            if (!res.ok || (j === null || j === void 0 ? void 0 : j.error)) throw new Error((j === null || j === void 0 ? void 0 : j.error) || \"HTTP \".concat(res.status));\n            onSaved === null || onSaved === void 0 ? void 0 : onSaved();\n            onClose();\n        // optional: alert success\n        // alert(\"Consent saved.\");\n        // you can also dispatch a reload event if desired\n        // location.reload();\n        } catch (e) {\n            setErr((e === null || e === void 0 ? void 0 : e.message) || \"Failed to save consent.\");\n        } finally{\n            setBusy(false);\n        }\n    }\n    const canSubmit = doctorAttest && (useStoredDocSig || doc.hasInk) && (patientMethod === \"drawn\" ? pat.hasInk : !!patientTyped) && (signer === 'patient' ? true : signerName.trim().length > 0 && signerRelation.trim().length > 0);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 z-[999] bg-black/40 flex items-center justify-center p-4\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"w-full max-w-2xl rounded-xl bg-white shadow-xl overflow-hidden\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"px-4 py-3 border-b\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"font-semibold\",\n                        children: \"Consent & Attestation\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                        lineNumber: 201,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                    lineNumber: 200,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4 space-y-4 text-sm\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-gray-700\",\n                            children: \"I certify that the services recorded for this consultation were rendered, and I have informed the patient about the nature and purpose of the procedures, including limitations of electronic submissions.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                            lineNumber: 205,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                            className: \"flex items-center gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"checkbox\",\n                                    checked: doctorAttest,\n                                    onChange: (e)=>setDoctorAttest(e.target.checked)\n                                }, void 0, false, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                    lineNumber: 211,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    children: \"Doctor attestation\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                    lineNumber: 212,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                            lineNumber: 210,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"border rounded p-3 space-y-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-between\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"font-medium\",\n                                            children: \"Doctors signature\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                            lineNumber: 218,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"flex items-center gap-2 text-xs\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"checkbox\",\n                                                    checked: useStoredDocSig,\n                                                    onChange: (e)=>setUseStoredDocSig(e.target.checked)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                                    lineNumber: 220,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"Use stored signature (if available)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                                    lineNumber: 225,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                            lineNumber: 219,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                    lineNumber: 217,\n                                    columnNumber: 13\n                                }, this),\n                                !useStoredDocSig && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                                            ref: doc.canvasRef,\n                                            width: 600,\n                                            height: 160,\n                                            className: \"w-full border rounded\",\n                                            style: {\n                                                touchAction: \"none\"\n                                            }\n                                        }, \"doc-\".concat(String(useStoredDocSig)), false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                            lineNumber: 230,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex gap-2\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: doc.clear,\n                                                className: \"border rounded px-3 py-1\",\n                                                children: \"Clear\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                                lineNumber: 232,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                            lineNumber: 231,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                    lineNumber: 229,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                            lineNumber: 216,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"border rounded p-3 space-y-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"font-medium\",\n                                            children: \"Patient consent\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                            lineNumber: 241,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"flex items-center gap-2 text-xs\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"radio\",\n                                                    name: \"pmethod\",\n                                                    checked: patientMethod === \"drawn\",\n                                                    onChange: ()=>setPatientMethod(\"drawn\")\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                                    lineNumber: 243,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"Draw signature\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                                    lineNumber: 249,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                            lineNumber: 242,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"flex items-center gap-2 text-xs\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"radio\",\n                                                    name: \"pmethod\",\n                                                    checked: patientMethod === \"typed\",\n                                                    onChange: ()=>setPatientMethod(\"typed\")\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                                    lineNumber: 252,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"Type name (fallback)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                                    lineNumber: 258,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                            lineNumber: 251,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                    lineNumber: 240,\n                                    columnNumber: 13\n                                }, this),\n                                patientMethod === \"drawn\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                                            ref: pat.canvasRef,\n                                            width: 600,\n                                            height: 160,\n                                            className: \"w-full border rounded\",\n                                            style: {\n                                                touchAction: \"none\"\n                                            }\n                                        }, \"pat-\".concat(patientMethod), false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                            lineNumber: 264,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex gap-2\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: pat.clear,\n                                                className: \"border rounded px-3 py-1\",\n                                                children: \"Clear\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                                lineNumber: 266,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                            lineNumber: 265,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                    lineNumber: 263,\n                                    columnNumber: 15\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    className: \"border rounded px-2 py-2 w-full\",\n                                    placeholder: \"Type patient's full name\",\n                                    value: patientTyped,\n                                    onChange: (e)=>setPatientTyped(e.target.value)\n                                }, void 0, false, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                    lineNumber: 270,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                            lineNumber: 239,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3 text-xs\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"font-medium mr-2\",\n                                    children: \"Signed by\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                    lineNumber: 279,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"flex items-center gap-1\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"radio\",\n                                            name: \"signer\",\n                                            defaultChecked: true,\n                                            onChange: ()=>setSigner('patient')\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                            lineNumber: 281,\n                                            columnNumber: 17\n                                        }, this),\n                                        \"Patient\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                    lineNumber: 280,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"flex items-center gap-1\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"radio\",\n                                            name: \"signer\",\n                                            onChange: ()=>setSigner('guardian')\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                            lineNumber: 285,\n                                            columnNumber: 17\n                                        }, this),\n                                        \"Guardian\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                    lineNumber: 284,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"flex items-center gap-1\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"radio\",\n                                            name: \"signer\",\n                                            onChange: ()=>setSigner('representative')\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                            lineNumber: 289,\n                                            columnNumber: 17\n                                        }, this),\n                                        \"Representative\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                    lineNumber: 288,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                            lineNumber: 278,\n                            columnNumber: 11\n                        }, this),\n                        signer !== 'patient' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"grid grid-cols-1 sm:grid-cols-2 gap-2 mt-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    className: \"border rounded px-2 py-2\",\n                                    placeholder: \"Signer full name\",\n                                    value: signerName,\n                                    onChange: (e)=>setSignerName(e.target.value)\n                                }, void 0, false, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                    lineNumber: 296,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    className: \"border rounded px-2 py-2\",\n                                    placeholder: \"Relationship (e.g., Mother)\",\n                                    value: signerRelation,\n                                    onChange: (e)=>setSignerRelation(e.target.value)\n                                }, void 0, false, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                                    lineNumber: 302,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                            lineNumber: 295,\n                            columnNumber: 9\n                        }, this),\n                        err && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-red-600 text-sm\",\n                            children: err\n                        }, void 0, false, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                            lineNumber: 312,\n                            columnNumber: 19\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                    lineNumber: 204,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"px-4 py-3 border-t flex items-center justify-end gap-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"border rounded px-3 py-2\",\n                            onClick: onClose,\n                            disabled: busy,\n                            children: \"Cancel\"\n                        }, void 0, false, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                            lineNumber: 316,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"rounded px-4 py-2 text-white disabled:opacity-50\",\n                            style: {\n                                background: \"#44969b\"\n                            },\n                            onClick: submit,\n                            disabled: !canSubmit || busy,\n                            children: busy ? \"Saving\" : \"Save consent\"\n                        }, void 0, false, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                            lineNumber: 319,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n                    lineNumber: 315,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n            lineNumber: 199,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\",\n        lineNumber: 198,\n        columnNumber: 5\n    }, this);\n}\n_s1(ConsentModal, \"UMJSFN1g3+PiWV/MZ/2hyZdj9jk=\", false, function() {\n    return [\n        useDrawPad,\n        useDrawPad\n    ];\n});\n_c = ConsentModal;\nvar _c;\n$RefreshReg$(_c, \"ConsentModal\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8oZG9jdG9yKS9kb2N0b3IvcGF0aWVudC9bcGF0aWVudElkXS9Db25zZW50TW9kYWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSwwREFBMEQ7OztBQUdOO0FBRXBELFNBQVNHLFdBQVdDLE1BQWU7O0lBQ2pDLE1BQU1DLFlBQVlKLDZDQUFNQSxDQUEyQjtJQUNuRCxNQUFNLENBQUNLLFFBQVFDLFVBQVUsR0FBR0wsK0NBQVFBLENBQUM7SUFFckNGLGdEQUFTQTtnQ0FBQztZQUNSLElBQUksQ0FBQ0ksUUFBUSxRQUFRLGtDQUFrQztZQUV2RCxNQUFNSSxJQUFJSCxVQUFVSSxPQUFPO1lBQzNCLElBQUksQ0FBQ0QsR0FBRztZQUVSLHlFQUF5RTtZQUN6RUEsRUFBRUUsS0FBSyxDQUFDQyxXQUFXLEdBQUc7WUFFdEIsa0VBQWtFO1lBQ2xFLHNFQUFzRTtZQUN0RSxNQUFNQyxNQUFNSixFQUFFSyxVQUFVLENBQUM7WUFDekIsSUFBSSxDQUFDRCxLQUFLO1lBQ1ZBLElBQUlFLFNBQVMsR0FBRztZQUNoQkYsSUFBSUcsT0FBTyxHQUFHO1lBQ2RILElBQUlJLFdBQVcsR0FBRztZQUVsQixJQUFJQyxVQUFVO1lBRWQsTUFBTUM7NENBQU0sQ0FBQ0M7b0JBQ1gsTUFBTUMsSUFBSVosRUFBRWEscUJBQXFCO29CQUNqQyxPQUFPO3dCQUFFQyxHQUFHSCxFQUFFSSxPQUFPLEdBQUdILEVBQUVJLElBQUk7d0JBQUVDLEdBQUdOLEVBQUVPLE9BQU8sR0FBR04sRUFBRU8sR0FBRztvQkFBQztnQkFDdkQ7O1lBRUEsTUFBTUM7NkNBQU8sQ0FBQ1Q7d0JBRVpYO29CQURBUyxVQUFVO3FCQUNWVCx1QkFBQUEsRUFBRXFCLGlCQUFpQixjQUFuQnJCLDJDQUFBQSwwQkFBQUEsR0FBc0JXLEVBQUVXLFNBQVM7b0JBQ2pDLE1BQU0sRUFBRVIsQ0FBQyxFQUFFRyxDQUFDLEVBQUUsR0FBR1AsSUFBSUM7b0JBQ3JCUCxJQUFJbUIsU0FBUztv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VSxJQUFNOUMsVUFBVTs7Ozs7O3dDQUFxQjs7Ozs7Ozs7Ozs7Ozt3QkFLeEZELFdBQVcsMkJBQ1osOERBQUN1Qzs0QkFBSUMsV0FBVTs7OENBQ1AsOERBQUNJO29DQUNESixXQUFVO29DQUNWZ0IsYUFBWTtvQ0FDWkMsT0FBT3ZEO29DQUNQNkMsVUFBVSxDQUFDbkcsSUFBTXVELGNBQWN2RCxFQUFFb0csTUFBTSxDQUFDUyxLQUFLOzs7Ozs7OENBRTdDLDhEQUFDYjtvQ0FDREosV0FBVTtvQ0FDVmdCLGFBQVk7b0NBQ1pDLE9BQU9yRDtvQ0FDUDJDLFVBQVUsQ0FBQ25HLElBQU15RCxrQkFBa0J6RCxFQUFFb0csTUFBTSxDQUFDUyxLQUFLOzs7Ozs7Ozs7Ozs7d0JBTXREM0QscUJBQU8sOERBQUN5Qzs0QkFBSUMsV0FBVTtzQ0FBd0IxQzs7Ozs7Ozs7Ozs7OzhCQUdqRCw4REFBQ3lDO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ2E7NEJBQU9iLFdBQVU7NEJBQTJCYyxTQUFTM0U7NEJBQVNnRixVQUFVL0Q7c0NBQU07Ozs7OztzQ0FHL0UsOERBQUN5RDs0QkFDQ2IsV0FBVTs0QkFDVnJHLE9BQU87Z0NBQUV5SCxZQUFZOzRCQUFVOzRCQUMvQk4sU0FBU2hEOzRCQUNUcUQsVUFBVSxDQUFDdEIsYUFBYXpDO3NDQUV2QkEsT0FBTyxZQUFZOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1oQztJQXBQd0JuQjs7UUF1QlI3QztRQUNBQTs7O0tBeEJRNkMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb2Nob2xvL1Byb2plY3RzL3dlbGxzZXJ2LXBvcnRhbC9hcHBzL3dlYi9hcHAvKGRvY3RvcikvZG9jdG9yL3BhdGllbnQvW3BhdGllbnRJZF0vQ29uc2VudE1vZGFsLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvL2FwcC8oZG9jdG9yKS9kb2N0b3IvcGF0aWVudC9bcGF0aWVudElkXS9Db25zZW50TW9kYWwudHN4XG5cInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5cbmZ1bmN0aW9uIHVzZURyYXdQYWQoYWN0aXZlOiBib29sZWFuKSB7XG4gIGNvbnN0IGNhbnZhc1JlZiA9IHVzZVJlZjxIVE1MQ2FudmFzRWxlbWVudCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaGFzSW5rLCBzZXRIYXNJbmtdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFhY3RpdmUpIHJldHVybjsgLy8gb25seSB3aXJlIHVwIHdoZW4gbW9kYWwgaXMgb3BlblxuXG4gICAgY29uc3QgYyA9IGNhbnZhc1JlZi5jdXJyZW50O1xuICAgIGlmICghYykgcmV0dXJuO1xuXG4gICAgLy8gSW1wb3J0YW50IGZvciB0b3VjaCBkZXZpY2VzIChkaXNhYmxlcyBzY3JvbGwvcGluY2ggb24gdGhlIGNhbnZhcyBhcmVhKVxuICAgIGMuc3R5bGUudG91Y2hBY3Rpb24gPSBcIm5vbmVcIjtcblxuICAgIC8vIFVzZSB0aGUgaW50cmluc2ljIHdpZHRoL2hlaWdodCBhdHRyaWJ1dGVzIGFzIHRoZSBiYWNraW5nIHN0b3JlLlxuICAgIC8vIChBdm9pZCBEUFIgdHJhbnNmb3JtcyB3aGljaCBjYW4gZW5kIHVwIHplcm8tc2l6ZWQgb24gZmlyc3QgbGF5b3V0LilcbiAgICBjb25zdCBjdHggPSBjLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICBpZiAoIWN0eCkgcmV0dXJuO1xuICAgIGN0eC5saW5lV2lkdGggPSAyO1xuICAgIGN0eC5saW5lQ2FwID0gXCJyb3VuZFwiO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IFwiIzExMVwiO1xuXG4gICAgbGV0IGRyYXdpbmcgPSBmYWxzZTtcblxuICAgIGNvbnN0IHBvcyA9IChlOiBQb2ludGVyRXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHIgPSBjLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgcmV0dXJuIHsgeDogZS5jbGllbnRYIC0gci5sZWZ0LCB5OiBlLmNsaWVudFkgLSByLnRvcCB9O1xuICAgIH07XG5cbiAgICBjb25zdCBkb3duID0gKGU6IFBvaW50ZXJFdmVudCkgPT4ge1xuICAgICAgZHJhd2luZyA9IHRydWU7XG4gICAgICBjLnNldFBvaW50ZXJDYXB0dXJlPy4oZS5wb2ludGVySWQpO1xuICAgICAgY29uc3QgeyB4LCB5IH0gPSBwb3MoZSk7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHgubW92ZVRvKHgsIHkpO1xuICAgICAgY3R4LmxpbmVUbyh4ICsgMC4wMSwgeSArIDAuMDEpOyAvLyB0aW55IGRvdCBzbyBhIHRhcCBsZWF2ZXMgYSBtYXJrXG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICBzZXRIYXNJbmsodHJ1ZSk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IG1vdmUgPSAoZTogUG9pbnRlckV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWRyYXdpbmcpIHJldHVybjtcbiAgICAgIGNvbnN0IHsgeCwgeSB9ID0gcG9zKGUpO1xuICAgICAgY3R4LmxpbmVUbyh4LCB5KTtcbiAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgIHNldEhhc0luayh0cnVlKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXAgPSAoZTogUG9pbnRlckV2ZW50KSA9PiB7XG4gICAgICBkcmF3aW5nID0gZmFsc2U7XG4gICAgICBjLnJlbGVhc2VQb2ludGVyQ2FwdHVyZT8uKGUucG9pbnRlcklkKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9O1xuXG4gICAgLy8gTm9uLXBhc3NpdmUgc28gcHJldmVudERlZmF1bHQoKSB3b3JrcyBvbiBtb2JpbGVcbiAgICBjLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCBkb3duLCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xuICAgIGMuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsIG1vdmUsIHsgcGFzc2l2ZTogZmFsc2UgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIiwgdXAsIHsgcGFzc2l2ZTogZmFsc2UgfSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgYy5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcmRvd25cIiwgZG93bik7XG4gICAgICBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCBtb3ZlKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsIHVwKTtcbiAgICB9O1xuICB9LCBbYWN0aXZlXSk7XG5cbiAgY29uc3QgdG9EYXRhVVJMID0gKCkgPT4gY2FudmFzUmVmLmN1cnJlbnQ/LnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKSA/PyBcIlwiO1xuICBjb25zdCBjbGVhciA9ICgpID0+IHtcbiAgICBjb25zdCBjID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFjKSByZXR1cm47XG4gICAgY29uc3QgY3R4ID0gYy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgaWYgKCFjdHgpIHJldHVybjtcbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGMud2lkdGgsIGMuaGVpZ2h0KTtcbiAgICBzZXRIYXNJbmsoZmFsc2UpO1xuICB9O1xuXG4gIHJldHVybiB7IGNhbnZhc1JlZiwgdG9EYXRhVVJMLCBjbGVhciwgaGFzSW5rIH07XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29uc2VudE1vZGFsKHtcbiAgaXNPcGVuLFxuICBvbkNsb3NlLFxuICBvblNhdmVkLFxuICBjb25zdWx0YXRpb25JZCxcbiAgZW5jb3VudGVySWQsXG4gIHBhdGllbnRJZCxcbiAgdGVtcGxhdGVTbHVnID0gXCJ5YWthcC1jb25zZW50XCIsXG4gIHRlbXBsYXRlVmVyc2lvbiA9IDEsXG59OiB7XG4gIGlzT3BlbjogYm9vbGVhbjtcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgb25TYXZlZD86ICgpID0+IHZvaWQ7XG4gIGNvbnN1bHRhdGlvbklkOiBzdHJpbmc7XG4gIGVuY291bnRlcklkOiBzdHJpbmc7XG4gIHBhdGllbnRJZDogc3RyaW5nO1xuICB0ZW1wbGF0ZVNsdWc/OiBzdHJpbmc7XG4gIHRlbXBsYXRlVmVyc2lvbj86IG51bWJlcjtcbn0pIHtcbiAgICAvLyB3YXM6IGNvbnN0IGRvYyA9IHVzZURyYXdQYWQoaXNPcGVuKTsgY29uc3QgcGF0ID0gdXNlRHJhd1BhZChpc09wZW4pO1xuICAgIGNvbnN0IFtwYXRpZW50TWV0aG9kLCBzZXRQYXRpZW50TWV0aG9kXSA9IHVzZVN0YXRlPFwiZHJhd25cIiB8IFwidHlwZWRcIj4oXCJkcmF3blwiKTtcbiAgICBjb25zdCBbdXNlU3RvcmVkRG9jU2lnLCBzZXRVc2VTdG9yZWREb2NTaWddID0gdXNlU3RhdGUodHJ1ZSk7XG5cbiAgICBjb25zdCBkb2MgPSB1c2VEcmF3UGFkKGlzT3BlbiAmJiAhdXNlU3RvcmVkRG9jU2lnKTsgICAgICAgICAgIC8vIPCfkYggb25seSB3aGVuIGRvYyBjYW52YXMgaXMgc2hvd25cbiAgICBjb25zdCBwYXQgPSB1c2VEcmF3UGFkKGlzT3BlbiAmJiBwYXRpZW50TWV0aG9kID09PSBcImRyYXduXCIpOyAgLy8g8J+RiCBvbmx5IHdoZW4gcGF0aWVudCBjYW52YXMgaXMgc2hvd25cblxuXG4gIGNvbnN0IFtkb2N0b3JBdHRlc3QsIHNldERvY3RvckF0dGVzdF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW3BhdGllbnRUeXBlZCwgc2V0UGF0aWVudFR5cGVkXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbYnVzeSwgc2V0QnVzeV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnIsIHNldEVycl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3NpZ25lciwgc2V0U2lnbmVyXSA9XG4gICAgdXNlU3RhdGU8J3BhdGllbnQnIHwgJ2d1YXJkaWFuJyB8ICdyZXByZXNlbnRhdGl2ZSc+KCdwYXRpZW50Jyk7XG4gICAgY29uc3QgW3NpZ25lck5hbWUsIHNldFNpZ25lck5hbWVdID0gdXNlU3RhdGUoJycpO1xuICAgIGNvbnN0IFtzaWduZXJSZWxhdGlvbiwgc2V0U2lnbmVyUmVsYXRpb25dID0gdXNlU3RhdGUoJycpO1xuXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzT3BlbikgcmV0dXJuO1xuICAgIHNldERvY3RvckF0dGVzdChmYWxzZSk7XG4gICAgc2V0VXNlU3RvcmVkRG9jU2lnKHRydWUpO1xuICAgIHNldFBhdGllbnRNZXRob2QoXCJkcmF3blwiKTtcbiAgICBzZXRQYXRpZW50VHlwZWQoXCJcIik7XG4gICAgc2V0U2lnbmVyKCdwYXRpZW50Jyk7ICAgICAgICAvLyBhZGRcbiAgICBzZXRTaWduZXJOYW1lKCcnKTsgICAgICAgICAgIC8vIGFkZFxuICAgIHNldFNpZ25lclJlbGF0aW9uKCcnKTsgICAgICAgLy8gYWRkXG5cbiAgICBzZXRFcnIobnVsbCk7XG4gICAgZG9jLmNsZWFyKCk7ICAgLy8g8J+RiCBhZGRcbiAgcGF0LmNsZWFyKCk7ICBcbiAgfSwgW2lzT3Blbl0pO1xuXG4gIGlmICghaXNPcGVuKSByZXR1cm4gbnVsbDtcblxuICBhc3luYyBmdW5jdGlvbiBzdWJtaXQoKSB7XG4gICAgaWYgKGJ1c3kpIHJldHVybjtcbiAgICBzZXRCdXN5KHRydWUpO1xuICAgIHNldEVycihudWxsKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXlsb2FkOiBhbnkgPSB7XG4gICAgICAgIGNvbnN1bHRhdGlvbl9pZDogY29uc3VsdGF0aW9uSWQsXG4gICAgICAgIGVuY291bnRlcl9pZDogZW5jb3VudGVySWQsXG4gICAgICAgIHBhdGllbnRfaWQ6IHBhdGllbnRJZCxcbiAgICAgICAgdGVtcGxhdGVfc2x1ZzogdGVtcGxhdGVTbHVnLFxuICAgICAgICB0ZW1wbGF0ZV92ZXJzaW9uOiB0ZW1wbGF0ZVZlcnNpb24sXG4gICAgICAgIGRvY3Rvcl9hdHRlc3Q6IGRvY3RvckF0dGVzdCxcbiAgICAgICAgdXNlX3N0b3JlZF9kb2N0b3Jfc2lnbmF0dXJlOiB1c2VTdG9yZWREb2NTaWcsXG4gICAgICAgIHBhdGllbnRfbWV0aG9kOiBwYXRpZW50TWV0aG9kLFxuICAgICAgICBzaWduZXJfa2luZDogc2lnbmVyLFxuICAgICAgICBzaWduZXJfbmFtZTogc2lnbmVyID09PSAncGF0aWVudCcgPyBudWxsIDogc2lnbmVyTmFtZS50cmltKCksXG4gICAgICAgIHNpZ25lcl9yZWxhdGlvbjogc2lnbmVyID09PSAncGF0aWVudCcgPyBudWxsIDogc2lnbmVyUmVsYXRpb24udHJpbSgpLFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICghdXNlU3RvcmVkRG9jU2lnKSB7XG4gICAgICAgIHBheWxvYWQuZG9jdG9yX3NpZ25hdHVyZV9kYXRhX3VybCA9IGRvYy50b0RhdGFVUkwoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF0aWVudE1ldGhvZCA9PT0gJ2RyYXduJykge1xuICAgICAgICBwYXlsb2FkLnBhdGllbnRfc2lnbmF0dXJlX2RhdGFfdXJsID0gcGF0LnRvRGF0YVVSTCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICBwYXlsb2FkLnBhdGllbnRfdHlwZWRfbmFtZSA9IHBhdGllbnRUeXBlZCB8fCBudWxsO1xuICAgICAgICB9XG5cbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiL2FwaS9jb25zZW50cy9jcmVhdGVcIiwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7IFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgfSk7XG4gICAgICBjb25zdCBqID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgIGlmICghcmVzLm9rIHx8IGo/LmVycm9yKSB0aHJvdyBuZXcgRXJyb3Ioaj8uZXJyb3IgfHwgYEhUVFAgJHtyZXMuc3RhdHVzfWApO1xuICAgICAgb25TYXZlZD8uKCk7XG4gICAgICBvbkNsb3NlKCk7XG4gICAgICAvLyBvcHRpb25hbDogYWxlcnQgc3VjY2Vzc1xuICAgICAgLy8gYWxlcnQoXCJDb25zZW50IHNhdmVkLlwiKTtcbiAgICAgIC8vIHlvdSBjYW4gYWxzbyBkaXNwYXRjaCBhIHJlbG9hZCBldmVudCBpZiBkZXNpcmVkXG4gICAgICAvLyBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgIHNldEVycihlPy5tZXNzYWdlIHx8IFwiRmFpbGVkIHRvIHNhdmUgY29uc2VudC5cIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldEJ1c3koZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGNhblN1Ym1pdCA9XG4gICAgZG9jdG9yQXR0ZXN0ICYmXG4gICAgKHVzZVN0b3JlZERvY1NpZyB8fCBkb2MuaGFzSW5rKSAmJlxuICAgIChwYXRpZW50TWV0aG9kID09PSBcImRyYXduXCIgPyBwYXQuaGFzSW5rIDogISFwYXRpZW50VHlwZWQpICYmXG4gICAgKHNpZ25lciA9PT0gJ3BhdGllbnQnID8gdHJ1ZSA6IChzaWduZXJOYW1lLnRyaW0oKS5sZW5ndGggPiAwICYmIHNpZ25lclJlbGF0aW9uLnRyaW0oKS5sZW5ndGggPiAwKSk7XG5cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCB6LVs5OTldIGJnLWJsYWNrLzQwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtNFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXctMnhsIHJvdW5kZWQteGwgYmctd2hpdGUgc2hhZG93LXhsIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTQgcHktMyBib3JkZXItYlwiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+Q29uc2VudCAmIEF0dGVzdGF0aW9uPC9oMz5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgc3BhY2UteS00IHRleHQtc21cIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNzAwXCI+XG4gICAgICAgICAgICBJIGNlcnRpZnkgdGhhdCB0aGUgc2VydmljZXMgcmVjb3JkZWQgZm9yIHRoaXMgY29uc3VsdGF0aW9uIHdlcmUgcmVuZGVyZWQsIGFuZCBJIGhhdmUgaW5mb3JtZWQgdGhlXG4gICAgICAgICAgICBwYXRpZW50IGFib3V0IHRoZSBuYXR1cmUgYW5kIHB1cnBvc2Ugb2YgdGhlIHByb2NlZHVyZXMsIGluY2x1ZGluZyBsaW1pdGF0aW9ucyBvZiBlbGVjdHJvbmljIHN1Ym1pc3Npb25zLlxuICAgICAgICAgIDwvcD5cblxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNoZWNrZWQ9e2RvY3RvckF0dGVzdH0gb25DaGFuZ2U9eyhlKSA9PiBzZXREb2N0b3JBdHRlc3QoZS50YXJnZXQuY2hlY2tlZCl9IC8+XG4gICAgICAgICAgICA8c3Bhbj5Eb2N0b3IgYXR0ZXN0YXRpb248L3NwYW4+XG4gICAgICAgICAgPC9sYWJlbD5cblxuICAgICAgICAgIHsvKiBEb2N0b3Igc2lnbmF0dXJlICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyIHJvdW5kZWQgcC0zIHNwYWNlLXktMlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPkRvY3RvcuKAmXMgc2lnbmF0dXJlPC9kaXY+XG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgY2hlY2tlZD17dXNlU3RvcmVkRG9jU2lnfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRVc2VTdG9yZWREb2NTaWcoZS50YXJnZXQuY2hlY2tlZCl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8c3Bhbj5Vc2Ugc3RvcmVkIHNpZ25hdHVyZSAoaWYgYXZhaWxhYmxlKTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgeyF1c2VTdG9yZWREb2NTaWcgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgIDxjYW52YXMga2V5PXtgZG9jLSR7U3RyaW5nKHVzZVN0b3JlZERvY1NpZyl9YH0gcmVmPXtkb2MuY2FudmFzUmVmfSB3aWR0aD17NjAwfSBoZWlnaHQ9ezE2MH0gY2xhc3NOYW1lPVwidy1mdWxsIGJvcmRlciByb3VuZGVkXCIgc3R5bGU9e3sgdG91Y2hBY3Rpb246IFwibm9uZVwiIH19Lz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17ZG9jLmNsZWFyfSBjbGFzc05hbWU9XCJib3JkZXIgcm91bmRlZCBweC0zIHB5LTFcIj5DbGVhcjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogUGF0aWVudCBzaWduYXR1cmUgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXIgcm91bmRlZCBwLTMgc3BhY2UteS0yXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC00XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5QYXRpZW50IGNvbnNlbnQ8L2Rpdj5cbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQteHNcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICBuYW1lPVwicG1ldGhvZFwiXG4gICAgICAgICAgICAgICAgICBjaGVja2VkPXtwYXRpZW50TWV0aG9kID09PSBcImRyYXduXCJ9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4gc2V0UGF0aWVudE1ldGhvZChcImRyYXduXCIpfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPHNwYW4+RHJhdyBzaWduYXR1cmU8L3NwYW4+XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICAgICAgbmFtZT1cInBtZXRob2RcIlxuICAgICAgICAgICAgICAgICAgY2hlY2tlZD17cGF0aWVudE1ldGhvZCA9PT0gXCJ0eXBlZFwifVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+IHNldFBhdGllbnRNZXRob2QoXCJ0eXBlZFwiKX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxzcGFuPlR5cGUgbmFtZSAoZmFsbGJhY2spPC9zcGFuPlxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHtwYXRpZW50TWV0aG9kID09PSBcImRyYXduXCIgPyAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgPGNhbnZhcyBrZXk9e2BwYXQtJHtwYXRpZW50TWV0aG9kfWB9IHJlZj17cGF0LmNhbnZhc1JlZn0gd2lkdGg9ezYwMH0gaGVpZ2h0PXsxNjB9IGNsYXNzTmFtZT1cInctZnVsbCBib3JkZXIgcm91bmRlZFwiIHN0eWxlPXt7IHRvdWNoQWN0aW9uOiBcIm5vbmVcIiB9fSAvPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtwYXQuY2xlYXJ9IGNsYXNzTmFtZT1cImJvcmRlciByb3VuZGVkIHB4LTMgcHktMVwiPkNsZWFyPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyIHJvdW5kZWQgcHgtMiBweS0yIHctZnVsbFwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlIHBhdGllbnQncyBmdWxsIG5hbWVcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtwYXRpZW50VHlwZWR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRQYXRpZW50VHlwZWQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHRleHQteHNcIj5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSBtci0yXCI+U2lnbmVkIGJ5PC9sYWJlbD5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwic2lnbmVyXCIgZGVmYXVsdENoZWNrZWQgb25DaGFuZ2U9eygpID0+IHNldFNpZ25lcigncGF0aWVudCcpfSAvPlxuICAgICAgICAgICAgICAgIFBhdGllbnRcbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cInNpZ25lclwiIG9uQ2hhbmdlPXsoKSA9PiBzZXRTaWduZXIoJ2d1YXJkaWFuJyl9IC8+XG4gICAgICAgICAgICAgICAgR3VhcmRpYW5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cInNpZ25lclwiIG9uQ2hhbmdlPXsoKSA9PiBzZXRTaWduZXIoJ3JlcHJlc2VudGF0aXZlJyl9IC8+XG4gICAgICAgICAgICAgICAgUmVwcmVzZW50YXRpdmVcbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHtzaWduZXIgIT09ICdwYXRpZW50JyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBzbTpncmlkLWNvbHMtMiBnYXAtMiBtdC0yXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyIHJvdW5kZWQgcHgtMiBweS0yXCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNpZ25lciBmdWxsIG5hbWVcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtzaWduZXJOYW1lfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2lnbmVyTmFtZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJib3JkZXIgcm91bmRlZCBweC0yIHB5LTJcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUmVsYXRpb25zaGlwIChlLmcuLCBNb3RoZXIpXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17c2lnbmVyUmVsYXRpb259XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTaWduZXJSZWxhdGlvbihlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cblxuICAgICAgICAgIHtlcnIgJiYgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXJlZC02MDAgdGV4dC1zbVwiPntlcnJ9PC9kaXY+fVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTQgcHktMyBib3JkZXItdCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWVuZCBnYXAtMlwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYm9yZGVyIHJvdW5kZWQgcHgtMyBweS0yXCIgb25DbGljaz17b25DbG9zZX0gZGlzYWJsZWQ9e2J1c3l9PlxuICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBweC00IHB5LTIgdGV4dC13aGl0ZSBkaXNhYmxlZDpvcGFjaXR5LTUwXCJcbiAgICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmQ6IFwiIzQ0OTY5YlwiIH19XG4gICAgICAgICAgICBvbkNsaWNrPXtzdWJtaXR9XG4gICAgICAgICAgICBkaXNhYmxlZD17IWNhblN1Ym1pdCB8fCBidXN5fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtidXN5ID8gXCJTYXZpbmfigKZcIiA6IFwiU2F2ZSBjb25zZW50XCJ9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJ1c2VEcmF3UGFkIiwiYWN0aXZlIiwiY2FudmFzUmVmIiwiaGFzSW5rIiwic2V0SGFzSW5rIiwiYyIsImN1cnJlbnQiLCJzdHlsZSIsInRvdWNoQWN0aW9uIiwiY3R4IiwiZ2V0Q29udGV4dCIsImxpbmVXaWR0aCIsImxpbmVDYXAiLCJzdHJva2VTdHlsZSIsImRyYXdpbmciLCJwb3MiLCJlIiwiciIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIngiLCJjbGllbnRYIiwibGVmdCIsInkiLCJjbGllbnRZIiwidG9wIiwiZG93biIsInNldFBvaW50ZXJDYXB0dXJlIiwicG9pbnRlcklkIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwicHJldmVudERlZmF1bHQiLCJtb3ZlIiwidXAiLCJyZWxlYXNlUG9pbnRlckNhcHR1cmUiLCJhZGRFdmVudExpc3RlbmVyIiwicGFzc2l2ZSIsIndpbmRvdyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0b0RhdGFVUkwiLCJjbGVhciIsImNsZWFyUmVjdCIsIndpZHRoIiwiaGVpZ2h0IiwiQ29uc2VudE1vZGFsIiwiaXNPcGVuIiwib25DbG9zZSIsIm9uU2F2ZWQiLCJjb25zdWx0YXRpb25JZCIsImVuY291bnRlcklkIiwicGF0aWVudElkIiwidGVtcGxhdGVTbHVnIiwidGVtcGxhdGVWZXJzaW9uIiwicGF0aWVudE1ldGhvZCIsInNldFBhdGllbnRNZXRob2QiLCJ1c2VTdG9yZWREb2NTaWciLCJzZXRVc2VTdG9yZWREb2NTaWciLCJkb2MiLCJwYXQiLCJkb2N0b3JBdHRlc3QiLCJzZXREb2N0b3JBdHRlc3QiLCJwYXRpZW50VHlwZWQiLCJzZXRQYXRpZW50VHlwZWQiLCJidXN5Iiwic2V0QnVzeSIsImVyciIsInNldEVyciIsInNpZ25lciIsInNldFNpZ25lciIsInNpZ25lck5hbWUiLCJzZXRTaWduZXJOYW1lIiwic2lnbmVyUmVsYXRpb24iLCJzZXRTaWduZXJSZWxhdGlvbiIsInN1Ym1pdCIsInBheWxvYWQiLCJjb25zdWx0YXRpb25faWQiLCJlbmNvdW50ZXJfaWQiLCJwYXRpZW50X2lkIiwidGVtcGxhdGVfc2x1ZyIsInRlbXBsYXRlX3ZlcnNpb24iLCJkb2N0b3JfYXR0ZXN0IiwidXNlX3N0b3JlZF9kb2N0b3Jfc2lnbmF0dXJlIiwicGF0aWVudF9tZXRob2QiLCJzaWduZXJfa2luZCIsInNpZ25lcl9uYW1lIiwidHJpbSIsInNpZ25lcl9yZWxhdGlvbiIsImRvY3Rvcl9zaWduYXR1cmVfZGF0YV91cmwiLCJwYXRpZW50X3NpZ25hdHVyZV9kYXRhX3VybCIsInBhdGllbnRfdHlwZWRfbmFtZSIsInJlcyIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiaiIsImpzb24iLCJvayIsImVycm9yIiwiRXJyb3IiLCJzdGF0dXMiLCJtZXNzYWdlIiwiY2FuU3VibWl0IiwibGVuZ3RoIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDMiLCJwIiwibGFiZWwiLCJpbnB1dCIsInR5cGUiLCJjaGVja2VkIiwib25DaGFuZ2UiLCJ0YXJnZXQiLCJzcGFuIiwiY2FudmFzIiwicmVmIiwiU3RyaW5nIiwiYnV0dG9uIiwib25DbGljayIsIm5hbWUiLCJwbGFjZWhvbGRlciIsInZhbHVlIiwiZGVmYXVsdENoZWNrZWQiLCJkaXNhYmxlZCIsImJhY2tncm91bmQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/ConsultDx.tsx":
/*!***************************************************************!*\
  !*** ./app/(doctor)/doctor/patient/[patientId]/ConsultDx.tsx ***!
  \***************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ConsultDx)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nfunction ConsultDx(param) {\n    let { consultationId } = param;\n    _s();\n    const [rows, setRows] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [err, setErr] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ConsultDx.useEffect\": ()=>{\n            let dead = false;\n            async function load() {\n                try {\n                    setErr(null);\n                    const u = new URL(\"/api/consultations/diagnoses/list\", window.location.origin);\n                    u.searchParams.set(\"consultation_id\", consultationId);\n                    const r = await fetch(u.toString(), {\n                        cache: \"no-store\"\n                    });\n                    const j = await r.json();\n                    if (!dead) {\n                        if (!r.ok || j.error) throw new Error((j === null || j === void 0 ? void 0 : j.error) || \"HTTP \".concat(r.status));\n                        setRows(j.items || []);\n                    }\n                } catch (e) {\n                    if (!dead) setErr((e === null || e === void 0 ? void 0 : e.message) || \"Failed to load diagnoses\");\n                }\n            }\n            load();\n            return ({\n                \"ConsultDx.useEffect\": ()=>{\n                    dead = true;\n                }\n            })[\"ConsultDx.useEffect\"];\n        }\n    }[\"ConsultDx.useEffect\"], [\n        consultationId\n    ]);\n    if (err) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"text-sm text-red-600\",\n        children: [\n            \"Diagnoses: \",\n            err\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultDx.tsx\",\n        lineNumber: 32,\n        columnNumber: 19\n    }, this);\n    if (!rows.length) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"mt-3 text-sm\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"font-medium text-gray-800\",\n                children: \"Diagnoses\"\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultDx.tsx\",\n                lineNumber: 37,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                className: \"mt-1 space-y-1\",\n                children: rows.map((d)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                        className: \"flex items-start gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"font-mono text-xs text-gray-700\",\n                                children: d.code\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultDx.tsx\",\n                                lineNumber: 41,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"flex-1\",\n                                children: d.title\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultDx.tsx\",\n                                lineNumber: 42,\n                                columnNumber: 13\n                            }, this),\n                            d.is_primary && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-[10px] px-1.5 py-0.5 rounded bg-emerald-100 text-emerald-800\",\n                                children: \"Primary\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultDx.tsx\",\n                                lineNumber: 44,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, d.id, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultDx.tsx\",\n                        lineNumber: 40,\n                        columnNumber: 11\n                    }, this))\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultDx.tsx\",\n                lineNumber: 38,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultDx.tsx\",\n        lineNumber: 36,\n        columnNumber: 5\n    }, this);\n}\n_s(ConsultDx, \"Olg0zrZ8pVbfOhfijePBS0aoXEY=\");\n_c = ConsultDx;\nvar _c;\n$RefreshReg$(_c, \"ConsultDx\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8oZG9jdG9yKS9kb2N0b3IvcGF0aWVudC9bcGF0aWVudElkXS9Db25zdWx0RHgudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUU0QztBQUk3QixTQUFTRSxVQUFVLEtBQThDO1FBQTlDLEVBQUVDLGNBQWMsRUFBOEIsR0FBOUM7O0lBQ2hDLE1BQU0sQ0FBQ0MsTUFBTUMsUUFBUSxHQUFHSiwrQ0FBUUEsQ0FBTyxFQUFFO0lBQ3pDLE1BQU0sQ0FBQ0ssS0FBS0MsT0FBTyxHQUFHTiwrQ0FBUUEsQ0FBZ0I7SUFFOUNELGdEQUFTQTsrQkFBQztZQUNSLElBQUlRLE9BQU87WUFDWCxlQUFlQztnQkFDYixJQUFJO29CQUNGRixPQUFPO29CQUNQLE1BQU1HLElBQUksSUFBSUMsSUFBSSxxQ0FBcUNDLE9BQU9DLFFBQVEsQ0FBQ0MsTUFBTTtvQkFDN0VKLEVBQUVLLFlBQVksQ0FBQ0MsR0FBRyxDQUFDLG1CQUFtQmI7b0JBQ3RDLE1BQU1jLElBQUksTUFBTUMsTUFBTVIsRUFBRVMsUUFBUSxJQUFJO3dCQUFFQyxPQUFPO29CQUFXO29CQUN4RCxNQUFNQyxJQUFJLE1BQU1KLEVBQUVLLElBQUk7b0JBQ3RCLElBQUksQ0FBQ2QsTUFBTTt3QkFDVCxJQUFJLENBQUNTLEVBQUVNLEVBQUUsSUFBSUYsRUFBRUcsS0FBSyxFQUFFLE1BQU0sSUFBSUMsTUFBTUosQ0FBQUEsY0FBQUEsd0JBQUFBLEVBQUdHLEtBQUssS0FBSSxRQUFpQixPQUFUUCxFQUFFUyxNQUFNO3dCQUNsRXJCLFFBQVFnQixFQUFFTSxLQUFLLElBQUksRUFBRTtvQkFDdkI7Z0JBQ0YsRUFBRSxPQUFPQyxHQUFRO29CQUNmLElBQUksQ0FBQ3BCLE1BQU1ELE9BQU9xQixDQUFBQSxjQUFBQSx3QkFBQUEsRUFBR0MsT0FBTyxLQUFJO2dCQUNsQztZQUNGO1lBQ0FwQjtZQUNBO3VDQUFPO29CQUFRRCxPQUFPO2dCQUFNOztRQUM5Qjs4QkFBRztRQUFDTDtLQUFlO0lBRW5CLElBQUlHLEtBQUsscUJBQU8sOERBQUN3QjtRQUFJQyxXQUFVOztZQUF1QjtZQUFZekI7Ozs7Ozs7SUFDbEUsSUFBSSxDQUFDRixLQUFLNEIsTUFBTSxFQUFFLE9BQU87SUFFekIscUJBQ0UsOERBQUNGO1FBQUlDLFdBQVU7OzBCQUNiLDhEQUFDRDtnQkFBSUMsV0FBVTswQkFBNEI7Ozs7OzswQkFDM0MsOERBQUNFO2dCQUFHRixXQUFVOzBCQUNYM0IsS0FBSzhCLEdBQUcsQ0FBQ0MsQ0FBQUEsa0JBQ1IsOERBQUNDO3dCQUFjTCxXQUFVOzswQ0FDdkIsOERBQUNNO2dDQUFLTixXQUFVOzBDQUFtQ0ksRUFBRUcsSUFBSTs7Ozs7OzBDQUN6RCw4REFBQ0Q7Z0NBQUtOLFdBQVU7MENBQVVJLEVBQUVJLEtBQUs7Ozs7Ozs0QkFDaENKLEVBQUVLLFVBQVUsa0JBQ1gsOERBQUNIO2dDQUFLTixXQUFVOzBDQUFvRTs7Ozs7Ozt1QkFKL0VJLEVBQUVNLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7QUFXdkI7R0E1Q3dCdkM7S0FBQUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb2Nob2xvL1Byb2plY3RzL3dlbGxzZXJ2LXBvcnRhbC9hcHBzL3dlYi9hcHAvKGRvY3RvcikvZG9jdG9yL3BhdGllbnQvW3BhdGllbnRJZF0vQ29uc3VsdER4LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuXG50eXBlIER4ID0geyBpZDogc3RyaW5nOyBjb2RlOiBzdHJpbmc7IHRpdGxlOiBzdHJpbmc7IGlzX3ByaW1hcnk6IGJvb2xlYW4gfTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29uc3VsdER4KHsgY29uc3VsdGF0aW9uSWQgfTogeyBjb25zdWx0YXRpb25JZDogc3RyaW5nIH0pIHtcbiAgY29uc3QgW3Jvd3MsIHNldFJvd3NdID0gdXNlU3RhdGU8RHhbXT4oW10pO1xuICBjb25zdCBbZXJyLCBzZXRFcnJdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgZGVhZCA9IGZhbHNlO1xuICAgIGFzeW5jIGZ1bmN0aW9uIGxvYWQoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBzZXRFcnIobnVsbCk7XG4gICAgICAgIGNvbnN0IHUgPSBuZXcgVVJMKFwiL2FwaS9jb25zdWx0YXRpb25zL2RpYWdub3Nlcy9saXN0XCIsIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pO1xuICAgICAgICB1LnNlYXJjaFBhcmFtcy5zZXQoXCJjb25zdWx0YXRpb25faWRcIiwgY29uc3VsdGF0aW9uSWQpO1xuICAgICAgICBjb25zdCByID0gYXdhaXQgZmV0Y2godS50b1N0cmluZygpLCB7IGNhY2hlOiBcIm5vLXN0b3JlXCIgfSk7XG4gICAgICAgIGNvbnN0IGogPSBhd2FpdCByLmpzb24oKTtcbiAgICAgICAgaWYgKCFkZWFkKSB7XG4gICAgICAgICAgaWYgKCFyLm9rIHx8IGouZXJyb3IpIHRocm93IG5ldyBFcnJvcihqPy5lcnJvciB8fCBgSFRUUCAke3Iuc3RhdHVzfWApO1xuICAgICAgICAgIHNldFJvd3Moai5pdGVtcyB8fCBbXSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICBpZiAoIWRlYWQpIHNldEVycihlPy5tZXNzYWdlIHx8IFwiRmFpbGVkIHRvIGxvYWQgZGlhZ25vc2VzXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBsb2FkKCk7XG4gICAgcmV0dXJuICgpID0+IHsgZGVhZCA9IHRydWU7IH07XG4gIH0sIFtjb25zdWx0YXRpb25JZF0pO1xuXG4gIGlmIChlcnIpIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1yZWQtNjAwXCI+RGlhZ25vc2VzOiB7ZXJyfTwvZGl2PjtcbiAgaWYgKCFyb3dzLmxlbmd0aCkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgdGV4dC1zbVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyYXktODAwXCI+RGlhZ25vc2VzPC9kaXY+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibXQtMSBzcGFjZS15LTFcIj5cbiAgICAgICAge3Jvd3MubWFwKGQgPT4gKFxuICAgICAgICAgIDxsaSBrZXk9e2QuaWR9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbW9ubyB0ZXh0LXhzIHRleHQtZ3JheS03MDBcIj57ZC5jb2RlfTwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXgtMVwiPntkLnRpdGxlfTwvc3Bhbj5cbiAgICAgICAgICAgIHtkLmlzX3ByaW1hcnkgJiYgKFxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSBweC0xLjUgcHktMC41IHJvdW5kZWQgYmctZW1lcmFsZC0xMDAgdGV4dC1lbWVyYWxkLTgwMFwiPlByaW1hcnk8L3NwYW4+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvbGk+XG4gICAgICAgICkpfVxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsIkNvbnN1bHREeCIsImNvbnN1bHRhdGlvbklkIiwicm93cyIsInNldFJvd3MiLCJlcnIiLCJzZXRFcnIiLCJkZWFkIiwibG9hZCIsInUiLCJVUkwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsIm9yaWdpbiIsInNlYXJjaFBhcmFtcyIsInNldCIsInIiLCJmZXRjaCIsInRvU3RyaW5nIiwiY2FjaGUiLCJqIiwianNvbiIsIm9rIiwiZXJyb3IiLCJFcnJvciIsInN0YXR1cyIsIml0ZW1zIiwiZSIsIm1lc3NhZ2UiLCJkaXYiLCJjbGFzc05hbWUiLCJsZW5ndGgiLCJ1bCIsIm1hcCIsImQiLCJsaSIsInNwYW4iLCJjb2RlIiwidGl0bGUiLCJpc19wcmltYXJ5IiwiaWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/ConsultDx.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx":
/*!*************************************************************************!*\
  !*** ./app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx ***!
  \*************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ConsultationSection)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _StartConsultBar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./StartConsultBar */ \"(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/StartConsultBar.tsx\");\n/* harmony import */ var _NotesPanel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./NotesPanel */ \"(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/NotesPanel.tsx\");\n/* harmony import */ var _RxPanel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./RxPanel */ \"(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\");\n/* harmony import */ var _BranchPicker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./BranchPicker */ \"(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/BranchPicker.tsx\");\n/* harmony import */ var _FollowUpPanel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./FollowUpPanel */ \"(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\");\n/* harmony import */ var _FinishConsultButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./FinishConsultButton */ \"(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/FinishConsultButton.tsx\");\n/* harmony import */ var _ConsentModal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ConsentModal */ \"(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/ConsentModal.tsx\");\n/* harmony import */ var _MedicalCertificateDrawer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./MedicalCertificateDrawer */ \"(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n //  ensure this file exists\n\nfunction ConsultationSection(param) {\n    let { patientId, initialConsultationId = null } = param;\n    _s();\n    const [consultationId, setConsultationId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialConsultationId);\n    // consult meta\n    const [consultType, setConsultType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(undefined);\n    const [encounterId, setEncounterId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [metaLoading, setMetaLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // consent modal state\n    const [showConsent, setShowConsent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showMedCert, setShowMedCert] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ConsultationSection.useEffect\": ()=>{\n            if (initialConsultationId) setConsultationId(initialConsultationId);\n        }\n    }[\"ConsultationSection.useEffect\"], [\n        initialConsultationId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ConsultationSection.useEffect\": ()=>{\n            let aborted = false;\n            async function loadMeta() {\n                if (!consultationId) return;\n                setMetaLoading(true);\n                try {\n                    const r = await fetch(\"/api/claims/preview?consultation_id=\".concat(encodeURIComponent(consultationId)), {\n                        cache: \"no-store\"\n                    });\n                    const j = await r.json().catch({\n                        \"ConsultationSection.useEffect.loadMeta\": ()=>({})\n                    }[\"ConsultationSection.useEffect.loadMeta\"]);\n                    if (!aborted && r.ok) {\n                        var _j_consultation, _j_encounter;\n                        const t = j === null || j === void 0 ? void 0 : (_j_consultation = j.consultation) === null || _j_consultation === void 0 ? void 0 : _j_consultation.type;\n                        const encId = j === null || j === void 0 ? void 0 : (_j_encounter = j.encounter) === null || _j_encounter === void 0 ? void 0 : _j_encounter.id;\n                        setConsultType(t);\n                        setEncounterId(encId !== null && encId !== void 0 ? encId : null);\n                    }\n                } catch (e) {\n                /* ignore */ } finally{\n                    if (!aborted) setMetaLoading(false);\n                }\n            }\n            loadMeta();\n            return ({\n                \"ConsultationSection.useEffect\": ()=>{\n                    aborted = true;\n                }\n            })[\"ConsultationSection.useEffect\"];\n        }\n    }[\"ConsultationSection.useEffect\"], [\n        consultationId\n    ]);\n    const isFPE = String(consultType || \"\").toUpperCase() === \"FPE\";\n    const badgeText = consultType ? isFPE ? \"FPE\" : \"Follow-up\" : null;\n    const badgeClass = isFPE ? \"bg-emerald-100 text-emerald-800\" : \"bg-slate-200 text-slate-800\";\n    const canIssueMedCert = Boolean(consultationId && encounterId);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        className: \"space-y-4\",\n        children: [\n            !consultationId ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_StartConsultBar__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                patientId: patientId,\n                onStarted: (cid)=>setConsultationId(cid)\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\",\n                lineNumber: 71,\n                columnNumber: 9\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-wrap items-center gap-2 text-xs text-gray-600\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"inline-block rounded-full bg-emerald-100 text-emerald-700 px-2 py-0.5\",\n                        children: \"Consultation started\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\",\n                        lineNumber: 74,\n                        columnNumber: 11\n                    }, this),\n                    badgeText && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"inline-block rounded-full px-2 py-0.5 \".concat(badgeClass),\n                        children: badgeText\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\",\n                        lineNumber: 78,\n                        columnNumber: 13\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        children: [\n                            \"\\xb7 ID: \",\n                            consultationId\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\",\n                        lineNumber: 80,\n                        columnNumber: 11\n                    }, this),\n                    metaLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        children: \"\\xb7 loading\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\",\n                        lineNumber: 81,\n                        columnNumber: 27\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\",\n                lineNumber: 73,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"fieldset\", {\n                disabled: !consultationId,\n                className: \"rounded-xl border bg-white shadow-sm transition \".concat(!consultationId ? \"opacity-60\" : \"\"),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-wrap items-center justify-between gap-2 border-b px-4 py-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-sm font-semibold text-gray-700\",\n                                children: \"Consultation Workspace\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\",\n                                lineNumber: 90,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_BranchPicker__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                        consultationId: consultationId,\n                                        initialBranch: null\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\",\n                                        lineNumber: 92,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        type: \"button\",\n                                        onClick: ()=>setShowMedCert(true),\n                                        disabled: !canIssueMedCert,\n                                        title: canIssueMedCert ? \"Generate a medical certificate for this patient\" : \"Start the consult and ensure an encounter is linked to create a certificate\",\n                                        className: \"rounded-full border border-[#2e6468] px-3 py-1 text-xs font-semibold uppercase tracking-wide text-[#2e6468] disabled:border-gray-300 disabled:text-gray-400\",\n                                        children: \"Medical Certificate\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\",\n                                        lineNumber: 93,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\",\n                                lineNumber: 91,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\",\n                        lineNumber: 89,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"divide-y\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"font-medium text-gray-800 mb-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\",\n                                        lineNumber: 111,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_FollowUpPanel__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                        patientId: patientId,\n                                        consultationId: consultationId,\n                                        defaultBranch: undefined\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\",\n                                        lineNumber: 112,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\",\n                                lineNumber: 110,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"font-medium text-gray-800 mb-2\",\n                                        children: \"Doctor Notes\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\",\n                                        lineNumber: 116,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_NotesPanel__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                        patientId: patientId,\n                                        consultationId: consultationId,\n                                        modeDefault: \"markdown\",\n                                        autosave: true\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\",\n                                        lineNumber: 117,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\",\n                                lineNumber: 115,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"font-medium text-gray-800 mb-2\",\n                                        children: \"Prescription\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\",\n                                        lineNumber: 121,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_RxPanel__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                        patientId: patientId,\n                                        consultationId: consultationId,\n                                        onSigned: async ()=>{\n                                            // If we don't have encounterId yet, show modal anyway\n                                            if (!encounterId) {\n                                                setShowConsent(true);\n                                                return;\n                                            }\n                                            try {\n                                                const r = await fetch(\"/api/consents/exists?encounter_id=\".concat(encodeURIComponent(encounterId)), {\n                                                    cache: \"no-store\"\n                                                });\n                                                const j = await r.json();\n                                                if (j === null || j === void 0 ? void 0 : j.exists) {\n                                                    // Consent already captured earlier. Just refresh UI.\n                                                    window.location.reload();\n                                                } else {\n                                                    // No consent yet  open modal now\n                                                    setShowConsent(true);\n                                                }\n                                            } catch (e) {\n                                                // Network hiccup? Fallback to showing the modal.\n                                                setShowConsent(true);\n                                            }\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\",\n                                        lineNumber: 122,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\",\n                                lineNumber: 120,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\",\n                        lineNumber: 109,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\",\n                lineNumber: 85,\n                columnNumber: 7\n            }, this),\n            consultationId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_FinishConsultButton__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                consultationId: consultationId,\n                encounterId: encounterId !== null && encounterId !== void 0 ? encounterId : undefined,\n                onFinished: ()=>window.location.reload(),\n                //  when finishing without Rx, open consent first\n                onNeedConsent: ()=>setShowConsent(true)\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\",\n                lineNumber: 151,\n                columnNumber: 9\n            }, this),\n            consultationId && encounterId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ConsentModal__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                isOpen: showConsent,\n                onClose: ()=>setShowConsent(false),\n                consultationId: consultationId,\n                encounterId: encounterId,\n                patientId: patientId,\n                onSaved: async ()=>{\n                    // finalize only here (after consent saved)\n                    try {\n                        await fetch(\"/api/doctor/consultations/finalize\", {\n                            method: \"POST\",\n                            headers: {\n                                \"content-type\": \"application/json\"\n                            },\n                            body: JSON.stringify({\n                                consultation_id: consultationId,\n                                encounter_id: encounterId\n                            })\n                        });\n                    } catch (e) {}\n                    setShowConsent(false);\n                    window.location.reload();\n                }\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\",\n                lineNumber: 162,\n                columnNumber: 9\n            }, this),\n            showMedCert && consultationId && encounterId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MedicalCertificateDrawer__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                open: showMedCert,\n                onClose: ()=>setShowMedCert(false),\n                patientId: patientId,\n                consultationId: consultationId,\n                encounterId: encounterId,\n                onIssued: ()=>{\n                    setShowMedCert(false);\n                }\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\",\n                lineNumber: 184,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\",\n        lineNumber: 69,\n        columnNumber: 5\n    }, this);\n}\n_s(ConsultationSection, \"sAepGhEaJ8sO+OaJSIzsrmZ6GuU=\");\n_c = ConsultationSection;\nvar _c;\n$RefreshReg$(_c, \"ConsultationSection\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8oZG9jdG9yKS9kb2N0b3IvcGF0aWVudC9bcGF0aWVudElkXS9Db25zdWx0YXRpb25TZWN0aW9uLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUU0QztBQUNJO0FBQ1Y7QUFDTjtBQUNVO0FBQ0U7QUFDWTtBQUNkLENBQUMsNEJBQTRCO0FBQ0w7QUFFbkQsU0FBU1Usb0JBQW9CLEtBTTNDO1FBTjJDLEVBQzFDQyxTQUFTLEVBQ1RDLHdCQUF3QixJQUFJLEVBSTdCLEdBTjJDOztJQU8xQyxNQUFNLENBQUNDLGdCQUFnQkMsa0JBQWtCLEdBQUdiLCtDQUFRQSxDQUFnQlc7SUFFcEUsZUFBZTtJQUNmLE1BQU0sQ0FBQ0csYUFBYUMsZUFBZSxHQUFHZiwrQ0FBUUEsQ0FBMENnQjtJQUN4RixNQUFNLENBQUNDLGFBQWFDLGVBQWUsR0FBR2xCLCtDQUFRQSxDQUFnQjtJQUM5RCxNQUFNLENBQUNtQixhQUFhQyxlQUFlLEdBQUdwQiwrQ0FBUUEsQ0FBQztJQUUvQyxzQkFBc0I7SUFDdEIsTUFBTSxDQUFDcUIsYUFBYUMsZUFBZSxHQUFHdEIsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDdUIsYUFBYUMsZUFBZSxHQUFHeEIsK0NBQVFBLENBQUM7SUFFL0NELGdEQUFTQTt5Q0FBQztZQUNSLElBQUlZLHVCQUF1QkUsa0JBQWtCRjtRQUMvQzt3Q0FBRztRQUFDQTtLQUFzQjtJQUUxQlosZ0RBQVNBO3lDQUFDO1lBQ1IsSUFBSTBCLFVBQVU7WUFDZCxlQUFlQztnQkFDYixJQUFJLENBQUNkLGdCQUFnQjtnQkFDckJRLGVBQWU7Z0JBQ2YsSUFBSTtvQkFDRixNQUFNTyxJQUFJLE1BQU1DLE1BQ2QsdUNBQTBFLE9BQW5DQyxtQkFBbUJqQixrQkFDMUQ7d0JBQUVrQixPQUFPO29CQUFXO29CQUV0QixNQUFNQyxJQUFJLE1BQU1KLEVBQUVLLElBQUksR0FBR0MsS0FBSztrRUFBQyxJQUFPLEVBQUM7O29CQUN2QyxJ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QkssYUFBYUE7Z0JBQ2JrRSxVQUFVO29CQUNSM0QsZUFBZTtnQkFDakI7Ozs7Ozs7Ozs7OztBQUtWO0dBeEx3QmY7S0FBQUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb2Nob2xvL1Byb2plY3RzL3dlbGxzZXJ2LXBvcnRhbC9hcHBzL3dlYi9hcHAvKGRvY3RvcikvZG9jdG9yL3BhdGllbnQvW3BhdGllbnRJZF0vQ29uc3VsdGF0aW9uU2VjdGlvbi50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBTdGFydENvbnN1bHRCYXIgZnJvbSBcIi4vU3RhcnRDb25zdWx0QmFyXCI7XG5pbXBvcnQgTm90ZXNQYW5lbCBmcm9tIFwiLi9Ob3Rlc1BhbmVsXCI7XG5pbXBvcnQgUnhQYW5lbCBmcm9tIFwiLi9SeFBhbmVsXCI7XG5pbXBvcnQgQnJhbmNoUGlja2VyIGZyb20gXCIuL0JyYW5jaFBpY2tlclwiO1xuaW1wb3J0IEZvbGxvd1VwUGFuZWwgZnJvbSBcIi4vRm9sbG93VXBQYW5lbFwiO1xuaW1wb3J0IEZpbmlzaENvbnN1bHRCdXR0b24gZnJvbSBcIi4vRmluaXNoQ29uc3VsdEJ1dHRvblwiO1xuaW1wb3J0IENvbnNlbnRNb2RhbCBmcm9tIFwiLi9Db25zZW50TW9kYWxcIjsgLy8g4oaQIGVuc3VyZSB0aGlzIGZpbGUgZXhpc3RzXG5pbXBvcnQgTWVkaWNhbENlcnRpZmljYXRlRHJhd2VyIGZyb20gXCIuL01lZGljYWxDZXJ0aWZpY2F0ZURyYXdlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb25zdWx0YXRpb25TZWN0aW9uKHtcbiAgcGF0aWVudElkLFxuICBpbml0aWFsQ29uc3VsdGF0aW9uSWQgPSBudWxsLFxufToge1xuICBwYXRpZW50SWQ6IHN0cmluZztcbiAgaW5pdGlhbENvbnN1bHRhdGlvbklkPzogc3RyaW5nIHwgbnVsbDtcbn0pIHtcbiAgY29uc3QgW2NvbnN1bHRhdGlvbklkLCBzZXRDb25zdWx0YXRpb25JZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihpbml0aWFsQ29uc3VsdGF0aW9uSWQpO1xuXG4gIC8vIGNvbnN1bHQgbWV0YVxuICBjb25zdCBbY29uc3VsdFR5cGUsIHNldENvbnN1bHRUeXBlXSA9IHVzZVN0YXRlPFwiRlBFXCIgfCBcIkZvbGxvd1VwXCIgfCBzdHJpbmcgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG4gIGNvbnN0IFtlbmNvdW50ZXJJZCwgc2V0RW5jb3VudGVySWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFttZXRhTG9hZGluZywgc2V0TWV0YUxvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIGNvbnNlbnQgbW9kYWwgc3RhdGVcbiAgY29uc3QgW3Nob3dDb25zZW50LCBzZXRTaG93Q29uc2VudF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93TWVkQ2VydCwgc2V0U2hvd01lZENlcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGluaXRpYWxDb25zdWx0YXRpb25JZCkgc2V0Q29uc3VsdGF0aW9uSWQoaW5pdGlhbENvbnN1bHRhdGlvbklkKTtcbiAgfSwgW2luaXRpYWxDb25zdWx0YXRpb25JZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGFib3J0ZWQgPSBmYWxzZTtcbiAgICBhc3luYyBmdW5jdGlvbiBsb2FkTWV0YSgpIHtcbiAgICAgIGlmICghY29uc3VsdGF0aW9uSWQpIHJldHVybjtcbiAgICAgIHNldE1ldGFMb2FkaW5nKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgciA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgIGAvYXBpL2NsYWltcy9wcmV2aWV3P2NvbnN1bHRhdGlvbl9pZD0ke2VuY29kZVVSSUNvbXBvbmVudChjb25zdWx0YXRpb25JZCl9YCxcbiAgICAgICAgICB7IGNhY2hlOiBcIm5vLXN0b3JlXCIgfVxuICAgICAgICApO1xuICAgICAgICBjb25zdCBqID0gYXdhaXQgci5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmICghYWJvcnRlZCAmJiByLm9rKSB7XG4gICAgICAgICAgY29uc3QgdCA9IGo/LmNvbnN1bHRhdGlvbj8udHlwZSBhcyBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgICAgICAgY29uc3QgZW5jSWQgPSBqPy5lbmNvdW50ZXI/LmlkIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgICAgICBzZXRDb25zdWx0VHlwZSh0KTtcbiAgICAgICAgICBzZXRFbmNvdW50ZXJJZChlbmNJZCA/PyBudWxsKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8qIGlnbm9yZSAqL1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKCFhYm9ydGVkKSBzZXRNZXRhTG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxvYWRNZXRhKCk7XG4gICAgcmV0dXJuICgpID0+IHsgYWJvcnRlZCA9IHRydWU7IH07XG4gIH0sIFtjb25zdWx0YXRpb25JZF0pO1xuXG4gIGNvbnN0IGlzRlBFID0gU3RyaW5nKGNvbnN1bHRUeXBlIHx8IFwiXCIpLnRvVXBwZXJDYXNlKCkgPT09IFwiRlBFXCI7XG4gIGNvbnN0IGJhZGdlVGV4dCA9IGNvbnN1bHRUeXBlID8gKGlzRlBFID8gXCJGUEVcIiA6IFwiRm9sbG93LXVwXCIpIDogbnVsbDtcbiAgY29uc3QgYmFkZ2VDbGFzcyA9IGlzRlBFID8gXCJiZy1lbWVyYWxkLTEwMCB0ZXh0LWVtZXJhbGQtODAwXCIgOiBcImJnLXNsYXRlLTIwMCB0ZXh0LXNsYXRlLTgwMFwiO1xuXG4gIGNvbnN0IGNhbklzc3VlTWVkQ2VydCA9IEJvb2xlYW4oY29uc3VsdGF0aW9uSWQgJiYgZW5jb3VudGVySWQpO1xuXG4gIHJldHVybiAoXG4gICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICB7IWNvbnN1bHRhdGlvbklkID8gKFxuICAgICAgICA8U3RhcnRDb25zdWx0QmFyIHBhdGllbnRJZD17cGF0aWVudElkfSBvblN0YXJ0ZWQ9eyhjaWQpID0+IHNldENvbnN1bHRhdGlvbklkKGNpZCl9IC8+XG4gICAgICApIDogKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXhzIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtYmxvY2sgcm91bmRlZC1mdWxsIGJnLWVtZXJhbGQtMTAwIHRleHQtZW1lcmFsZC03MDAgcHgtMiBweS0wLjVcIj5cbiAgICAgICAgICAgIENvbnN1bHRhdGlvbiBzdGFydGVkXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtiYWRnZVRleHQgJiYgKFxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgaW5saW5lLWJsb2NrIHJvdW5kZWQtZnVsbCBweC0yIHB5LTAuNSAke2JhZGdlQ2xhc3N9YH0+e2JhZGdlVGV4dH08L3NwYW4+XG4gICAgICAgICAgKX1cbiAgICAgICAgICA8c3Bhbj7CtyBJRDoge2NvbnN1bHRhdGlvbklkfTwvc3Bhbj5cbiAgICAgICAgICB7bWV0YUxvYWRpbmcgJiYgPHNwYW4+wrcgbG9hZGluZ+KApjwvc3Bhbj59XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgPGZpZWxkc2V0XG4gICAgICAgIGRpc2FibGVkPXshY29uc3VsdGF0aW9uSWR9XG4gICAgICAgIGNsYXNzTmFtZT17YHJvdW5kZWQteGwgYm9yZGVyIGJnLXdoaXRlIHNoYWRvdy1zbSB0cmFuc2l0aW9uICR7IWNvbnN1bHRhdGlvbklkID8gXCJvcGFjaXR5LTYwXCIgOiBcIlwifWB9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMiBib3JkZXItYiBweC00IHB5LTNcIj5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtZ3JheS03MDBcIj5Db25zdWx0YXRpb24gV29ya3NwYWNlPC9oMj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICA8QnJhbmNoUGlja2VyIGNvbnN1bHRhdGlvbklkPXtjb25zdWx0YXRpb25JZH0gaW5pdGlhbEJyYW5jaD17bnVsbH0gLz5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dNZWRDZXJ0KHRydWUpfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17IWNhbklzc3VlTWVkQ2VydH1cbiAgICAgICAgICAgICAgdGl0bGU9e1xuICAgICAgICAgICAgICAgIGNhbklzc3VlTWVkQ2VydFxuICAgICAgICAgICAgICAgICAgPyBcIkdlbmVyYXRlIGEgbWVkaWNhbCBjZXJ0aWZpY2F0ZSBmb3IgdGhpcyBwYXRpZW50XCJcbiAgICAgICAgICAgICAgICAgIDogXCJTdGFydCB0aGUgY29uc3VsdCBhbmQgZW5zdXJlIGFuIGVuY291bnRlciBpcyBsaW5rZWQgdG8gY3JlYXRlIGEgY2VydGlmaWNhdGVcIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLVsjMmU2NDY4XSBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtWyMyZTY0NjhdIGRpc2FibGVkOmJvcmRlci1ncmF5LTMwMCBkaXNhYmxlZDp0ZXh0LWdyYXktNDAwXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgTWVkaWNhbCBDZXJ0aWZpY2F0ZVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGl2aWRlLXlcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNFwiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS04MDAgbWItMlwiPjwvaDM+XG4gICAgICAgICAgICA8Rm9sbG93VXBQYW5lbCBwYXRpZW50SWQ9e3BhdGllbnRJZH0gY29uc3VsdGF0aW9uSWQ9e2NvbnN1bHRhdGlvbklkfSBkZWZhdWx0QnJhbmNoPXt1bmRlZmluZWR9IC8+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNFwiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS04MDAgbWItMlwiPkRvY3RvciBOb3RlczwvaDM+XG4gICAgICAgICAgICA8Tm90ZXNQYW5lbCBwYXRpZW50SWQ9e3BhdGllbnRJZH0gY29uc3VsdGF0aW9uSWQ9e2NvbnN1bHRhdGlvbklkfSBtb2RlRGVmYXVsdD1cIm1hcmtkb3duXCIgYXV0b3NhdmUgLz5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00XCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTgwMCBtYi0yXCI+UHJlc2NyaXB0aW9uPC9oMz5cbiAgICAgICAgICAgIDxSeFBhbmVsXG4gICAgICAgICAgICAgIHBhdGllbnRJZD17cGF0aWVudElkfVxuICAgICAgICAgICAgICBjb25zdWx0YXRpb25JZD17Y29uc3VsdGF0aW9uSWR9XG4gICAgICAgICAgICAgIG9uU2lnbmVkPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBlbmNvdW50ZXJJZCB5ZXQsIHNob3cgbW9kYWwgYW55d2F5XG4gICAgICAgICAgICAgICAgaWYgKCFlbmNvdW50ZXJJZCkgeyBzZXRTaG93Q29uc2VudCh0cnVlKTsgcmV0dXJuOyB9XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgciA9IGF3YWl0IGZldGNoKGAvYXBpL2NvbnNlbnRzL2V4aXN0cz9lbmNvdW50ZXJfaWQ9JHtlbmNvZGVVUklDb21wb25lbnQoZW5jb3VudGVySWQpfWAsIHsgY2FjaGU6IFwibm8tc3RvcmVcIiB9KTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGogPSBhd2FpdCByLmpzb24oKTtcbiAgICAgICAgICAgICAgICAgIGlmIChqPy5leGlzdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29uc2VudCBhbHJlYWR5IGNhcHR1cmVkIGVhcmxpZXIuIEp1c3QgcmVmcmVzaCBVSS5cbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm8gY29uc2VudCB5ZXQg4oaSIG9wZW4gbW9kYWwgbm93XG4gICAgICAgICAgICAgICAgICAgIHNldFNob3dDb25zZW50KHRydWUpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgLy8gTmV0d29yayBoaWNjdXA/IEZhbGxiYWNrIHRvIHNob3dpbmcgdGhlIG1vZGFsLlxuICAgICAgICAgICAgICAgICAgc2V0U2hvd0NvbnNlbnQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZmllbGRzZXQ+XG5cbiAgICAgIHtjb25zdWx0YXRpb25JZCAmJiAoXG4gICAgICAgIDxGaW5pc2hDb25zdWx0QnV0dG9uXG4gICAgICAgICAgY29uc3VsdGF0aW9uSWQ9e2NvbnN1bHRhdGlvbklkfVxuICAgICAgICAgIGVuY291bnRlcklkPXtlbmNvdW50ZXJJZCA/PyB1bmRlZmluZWR9XG4gICAgICAgICAgb25GaW5pc2hlZD17KCkgPT4gd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpfVxuICAgICAgICAgIC8vIPCfkYcgd2hlbiBmaW5pc2hpbmcgd2l0aG91dCBSeCwgb3BlbiBjb25zZW50IGZpcnN0XG4gICAgICAgICAgb25OZWVkQ29uc2VudD17KCkgPT4gc2V0U2hvd0NvbnNlbnQodHJ1ZSl9XG4gICAgICAgIC8+XG4gICAgICApfVxuXG4gICAgICB7LyogQ29uc2VudCBtb2RhbCBmb3IgQk9USCBwYXRocyAoc2lnbiBSeCBPUiBmaW5pc2ggd2l0aG91dCBSeCkgKi99XG4gICAgICB7Y29uc3VsdGF0aW9uSWQgJiYgZW5jb3VudGVySWQgJiYgKFxuICAgICAgICA8Q29uc2VudE1vZGFsXG4gICAgICAgICAgaXNPcGVuPXtzaG93Q29uc2VudH1cbiAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRTaG93Q29uc2VudChmYWxzZSl9XG4gICAgICAgICAgY29uc3VsdGF0aW9uSWQ9e2NvbnN1bHRhdGlvbklkfVxuICAgICAgICAgIGVuY291bnRlcklkPXtlbmNvdW50ZXJJZH1cbiAgICAgICAgICBwYXRpZW50SWQ9e3BhdGllbnRJZH1cbiAgICAgICAgICBvblNhdmVkPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAvLyBmaW5hbGl6ZSBvbmx5IGhlcmUgKGFmdGVyIGNvbnNlbnQgc2F2ZWQpXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBhd2FpdCBmZXRjaChcIi9hcGkvZG9jdG9yL2NvbnN1bHRhdGlvbnMvZmluYWxpemVcIiwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogeyBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgY29uc3VsdGF0aW9uX2lkOiBjb25zdWx0YXRpb25JZCwgZW5jb3VudGVyX2lkOiBlbmNvdW50ZXJJZCB9KSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGNhdGNoIHt9XG4gICAgICAgICAgICBzZXRTaG93Q29uc2VudChmYWxzZSk7XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgICl9XG5cbiAgICAgIHtzaG93TWVkQ2VydCAmJiBjb25zdWx0YXRpb25JZCAmJiBlbmNvdW50ZXJJZCAmJiAoXG4gICAgICAgIDxNZWRpY2FsQ2VydGlmaWNhdGVEcmF3ZXJcbiAgICAgICAgICBvcGVuPXtzaG93TWVkQ2VydH1cbiAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRTaG93TWVkQ2VydChmYWxzZSl9XG4gICAgICAgICAgcGF0aWVudElkPXtwYXRpZW50SWR9XG4gICAgICAgICAgY29uc3VsdGF0aW9uSWQ9e2NvbnN1bHRhdGlvbklkfVxuICAgICAgICAgIGVuY291bnRlcklkPXtlbmNvdW50ZXJJZH1cbiAgICAgICAgICBvbklzc3VlZD17KCkgPT4ge1xuICAgICAgICAgICAgc2V0U2hvd01lZENlcnQoZmFsc2UpO1xuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgIDwvc2VjdGlvbj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsIlN0YXJ0Q29uc3VsdEJhciIsIk5vdGVzUGFuZWwiLCJSeFBhbmVsIiwiQnJhbmNoUGlja2VyIiwiRm9sbG93VXBQYW5lbCIsIkZpbmlzaENvbnN1bHRCdXR0b24iLCJDb25zZW50TW9kYWwiLCJNZWRpY2FsQ2VydGlmaWNhdGVEcmF3ZXIiLCJDb25zdWx0YXRpb25TZWN0aW9uIiwicGF0aWVudElkIiwiaW5pdGlhbENvbnN1bHRhdGlvbklkIiwiY29uc3VsdGF0aW9uSWQiLCJzZXRDb25zdWx0YXRpb25JZCIsImNvbnN1bHRUeXBlIiwic2V0Q29uc3VsdFR5cGUiLCJ1bmRlZmluZWQiLCJlbmNvdW50ZXJJZCIsInNldEVuY291bnRlcklkIiwibWV0YUxvYWRpbmciLCJzZXRNZXRhTG9hZGluZyIsInNob3dDb25zZW50Iiwic2V0U2hvd0NvbnNlbnQiLCJzaG93TWVkQ2VydCIsInNldFNob3dNZWRDZXJ0IiwiYWJvcnRlZCIsImxvYWRNZXRhIiwiciIsImZldGNoIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiY2FjaGUiLCJqIiwianNvbiIsImNhdGNoIiwib2siLCJ0IiwiY29uc3VsdGF0aW9uIiwidHlwZSIsImVuY0lkIiwiZW5jb3VudGVyIiwiaWQiLCJpc0ZQRSIsIlN0cmluZyIsInRvVXBwZXJDYXNlIiwiYmFkZ2VUZXh0IiwiYmFkZ2VDbGFzcyIsImNhbklzc3VlTWVkQ2VydCIsIkJvb2xlYW4iLCJzZWN0aW9uIiwiY2xhc3NOYW1lIiwib25TdGFydGVkIiwiY2lkIiwiZGl2Iiwic3BhbiIsImZpZWxkc2V0IiwiZGlzYWJsZWQiLCJoMiIsImluaXRpYWxCcmFuY2giLCJidXR0b24iLCJvbkNsaWNrIiwidGl0bGUiLCJoMyIsImRlZmF1bHRCcmFuY2giLCJtb2RlRGVmYXVsdCIsImF1dG9zYXZlIiwib25TaWduZWQiLCJleGlzdHMiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsIm9uRmluaXNoZWQiLCJvbk5lZWRDb25zZW50IiwiaXNPcGVuIiwib25DbG9zZSIsIm9uU2F2ZWQiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb25zdWx0YXRpb25faWQiLCJlbmNvdW50ZXJfaWQiLCJvcGVuIiwib25Jc3N1ZWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/ConsultationSection.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx":
/*!*******************************************************************!*\
  !*** ./app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx ***!
  \*******************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DiagnosisCard)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nfunction DiagnosisCard(param) {\n    let { consultationId } = param;\n    _s();\n    const [query, setQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [results, setResults] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [picks, setPicks] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [busy, setBusy] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [err, setErr] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const canEdit = Boolean(consultationId);\n    async function refresh() {\n        if (!consultationId) return;\n        const u = new URL(\"/api/consultations/diagnoses/list\", window.location.origin);\n        u.searchParams.set(\"consultation_id\", consultationId);\n        const r = await fetch(u.toString(), {\n            cache: \"no-store\"\n        });\n        const j = await r.json();\n        if (r.ok && !j.error) setPicks(j.items || []);\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"DiagnosisCard.useEffect\": ()=>{\n            setPicks([]);\n            void refresh();\n        }\n    }[\"DiagnosisCard.useEffect\"], [\n        consultationId\n    ]);\n    // Search\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"DiagnosisCard.useEffect\": ()=>{\n            let gone = false;\n            if (!query.trim()) {\n                setResults([]);\n                return;\n            }\n            const t = setTimeout({\n                \"DiagnosisCard.useEffect.t\": async ()=>{\n                    try {\n                        const u = new URL(\"/api/icd10/search\", window.location.origin);\n                        u.searchParams.set(\"q\", query.trim());\n                        const r = await fetch(u.toString(), {\n                            cache: \"no-store\"\n                        });\n                        const j = await r.json();\n                        if (!gone) setResults(r.ok && !j.error ? j.items || [] : []);\n                    } catch (e) {\n                        if (!gone) setResults([]);\n                    }\n                }\n            }[\"DiagnosisCard.useEffect.t\"], 250);\n            return ({\n                \"DiagnosisCard.useEffect\": ()=>{\n                    gone = true;\n                    clearTimeout(t);\n                }\n            })[\"DiagnosisCard.useEffect\"];\n        }\n    }[\"DiagnosisCard.useEffect\"], [\n        query\n    ]);\n    async function add(code, title) {\n        let makePrimary = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n        if (!consultationId) return;\n        setBusy(true);\n        setErr(null);\n        try {\n            const r = await fetch(\"/api/consultations/diagnoses/upsert\", {\n                method: \"POST\",\n                headers: {\n                    \"content-type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    consultation_id: consultationId,\n                    code,\n                    title,\n                    make_primary: makePrimary\n                })\n            });\n            const j = await r.json();\n            if (!r.ok || j.error) throw new Error((j === null || j === void 0 ? void 0 : j.error) || \"HTTP \".concat(r.status));\n            setQuery(\"\");\n            await refresh();\n        } catch (e) {\n            setErr((e === null || e === void 0 ? void 0 : e.message) || \"Failed to add diagnosis.\");\n        } finally{\n            setBusy(false);\n        }\n    }\n    async function remove(code) {\n        if (!consultationId) return;\n        setBusy(true);\n        setErr(null);\n        try {\n            const r = await fetch(\"/api/consultations/diagnoses/delete\", {\n                method: \"POST\",\n                headers: {\n                    \"content-type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    consultation_id: consultationId,\n                    code\n                })\n            });\n            const j = await r.json();\n            if (!r.ok || j.error) throw new Error((j === null || j === void 0 ? void 0 : j.error) || \"HTTP \".concat(r.status));\n            await refresh();\n        } catch (e) {\n            setErr((e === null || e === void 0 ? void 0 : e.message) || \"Failed to remove diagnosis.\");\n        } finally{\n            setBusy(false);\n        }\n    }\n    const primary = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"DiagnosisCard.useMemo[primary]\": ()=>{\n            var _picks_find;\n            return ((_picks_find = picks.find({\n                \"DiagnosisCard.useMemo[primary]\": (p)=>p.is_primary\n            }[\"DiagnosisCard.useMemo[primary]\"])) === null || _picks_find === void 0 ? void 0 : _picks_find.code) || \"\";\n        }\n    }[\"DiagnosisCard.useMemo[primary]\"], [\n        picks\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        className: \"rounded-xl border border-gray-200\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"px-4 py-3 border-b border-gray-100\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                    className: \"font-medium text-gray-800\",\n                    children: \"Diagnoses (ICD-10)\"\n                }, void 0, false, {\n                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx\",\n                    lineNumber: 104,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx\",\n                lineNumber: 103,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-4 space-y-4\",\n                children: !canEdit ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-sm text-gray-600\",\n                    children: \"Start the consultation to add diagnoses.\"\n                }, void 0, false, {\n                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx\",\n                    lineNumber: 109,\n                    columnNumber: 11\n                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex gap-2\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                value: query,\n                                onChange: (e)=>setQuery(e.target.value),\n                                placeholder: \"Search ICD-10 (code or title)\",\n                                className: \"flex-1 border rounded px-3 py-2 text-sm\",\n                                disabled: busy\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx\",\n                                lineNumber: 115,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx\",\n                            lineNumber: 114,\n                            columnNumber: 13\n                        }, this),\n                        results.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"rounded border bg-white max-h-56 overflow-auto\",\n                            children: results.map((r)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-start gap-2 px-3 py-2 border-t first:border-t-0\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-24 font-mono text-xs text-gray-700\",\n                                            children: r.code\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx\",\n                                            lineNumber: 128,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-1 text-sm\",\n                                            children: r.title\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx\",\n                                            lineNumber: 129,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    className: \"text-xs rounded border px-2 py-1\",\n                                                    onClick: ()=>add(r.code, r.title, false),\n                                                    disabled: busy,\n                                                    children: \"Add\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx\",\n                                                    lineNumber: 131,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    className: \"text-xs rounded border px-2 py-1\",\n                                                    onClick: ()=>add(r.code, r.title, true),\n                                                    disabled: busy,\n                                                    children: \"Add as Primary\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx\",\n                                                    lineNumber: 138,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx\",\n                                            lineNumber: 130,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, r.code, true, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx\",\n                                    lineNumber: 127,\n                                    columnNumber: 19\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx\",\n                            lineNumber: 125,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-2\",\n                            children: [\n                                picks.map((d)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-start gap-3 rounded border px-3 py-2 bg-white\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"flex items-center gap-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"radio\",\n                                                        name: \"primary_dx\",\n                                                        checked: d.code === primary,\n                                                        onChange: ()=>add(d.code, d.title, true),\n                                                        disabled: busy\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx\",\n                                                        lineNumber: 155,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"font-mono text-gray-700\",\n                                                        children: d.code\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx\",\n                                                        lineNumber: 162,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx\",\n                                                lineNumber: 154,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex-1 text-sm\",\n                                                children: d.title\n                                            }, void 0, false, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx\",\n                                                lineNumber: 164,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"text-xs rounded border px-2 py-1\",\n                                                onClick: ()=>remove(d.code),\n                                                disabled: busy,\n                                                children: \"Remove\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx\",\n                                                lineNumber: 165,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, d.id, true, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx\",\n                                        lineNumber: 153,\n                                        columnNumber: 17\n                                    }, this)),\n                                picks.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-sm text-gray-600\",\n                                    children: \"No diagnoses yet.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx\",\n                                    lineNumber: 171,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx\",\n                            lineNumber: 151,\n                            columnNumber: 13\n                        }, this),\n                        err && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-sm text-red-600\",\n                            children: err\n                        }, void 0, false, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx\",\n                            lineNumber: 175,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true)\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx\",\n                lineNumber: 107,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx\",\n        lineNumber: 102,\n        columnNumber: 5\n    }, this);\n}\n_s(DiagnosisCard, \"GSKorkW5ImkJebNYG0SkbeTxV84=\");\n_c = DiagnosisCard;\nvar _c;\n$RefreshReg$(_c, \"DiagnosisCard\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8oZG9jdG9yKS9kb2N0b3IvcGF0aWVudC9bcGF0aWVudElkXS9EaWFnbm9zaXNDYXJkLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFcUQ7QUFJdEMsU0FBU0csY0FBYyxLQUlyQztRQUpxQyxFQUNwQ0MsY0FBYyxFQUdmLEdBSnFDOztJQUtwQyxNQUFNLENBQUNDLE9BQU9DLFNBQVMsR0FBR0osK0NBQVFBLENBQUM7SUFDbkMsTUFBTSxDQUFDSyxTQUFTQyxXQUFXLEdBQUdOLCtDQUFRQSxDQUFvQyxFQUFFO0lBQzVFLE1BQU0sQ0FBQ08sT0FBT0MsU0FBUyxHQUFHUiwrQ0FBUUEsQ0FBTyxFQUFFO0lBQzNDLE1BQU0sQ0FBQ1MsTUFBTUMsUUFBUSxHQUFHViwrQ0FBUUEsQ0FBQztJQUNqQyxNQUFNLENBQUNXLEtBQUtDLE9BQU8sR0FBR1osK0NBQVFBLENBQWdCO0lBRTlDLE1BQU1hLFVBQVVDLFFBQVFaO0lBRXhCLGVBQWVhO1FBQ2IsSUFBSSxDQUFDYixnQkFBZ0I7UUFDckIsTUFBTWMsSUFBSSxJQUFJQyxJQUFJLHFDQUFxQ0MsT0FBT0MsUUFBUSxDQUFDQyxNQUFNO1FBQzdFSixFQUFFSyxZQUFZLENBQUNDLEdBQUcsQ0FBQyxtQkFBbUJwQjtRQUN0QyxNQUFNcUIsSUFBSSxNQUFNQyxNQUFNUixFQUFFUyxRQUFRLElBQUk7WUFBRUMsT0FBTztRQUFXO1FBQ3hELE1BQU1DLElBQUksTUFBTUosRUFBRUssSUFBSTtRQUN0QixJQUFJTCxFQUFFTSxFQUFFLElBQUksQ0FBQ0YsRUFBRUcsS0FBSyxFQUFFdEIsU0FBU21CLEVBQUVJLEtBQUssSUFBSSxFQUFFO0lBQzlDO0lBRUFqQyxnREFBU0E7bUNBQUM7WUFDUlUsU0FBUyxFQUFFO1lBQ1gsS0FBS087UUFDUDtrQ0FBRztRQUFDYjtLQUFlO0lBRW5CLFNBQVM7SUFDVEosZ0RBQVNBO21DQUFDO1lBQ1IsSUFBSWtDLE9BQU87WUFDWCxJQUFJLENBQUM3QixN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QUFNZixXQUFVOztrRUFDZiw4REFBQ0k7d0RBQ0NZLE1BQUs7d0RBQ0xDLE1BQUs7d0RBQ0xDLFNBQVNKLEVBQUVsQyxJQUFJLEtBQUtlO3dEQUNwQlcsVUFBVSxJQUFNM0IsSUFBSW1DLEVBQUVsQyxJQUFJLEVBQUVrQyxFQUFFakMsS0FBSyxFQUFFO3dEQUNyQzRCLFVBQVUxRDs7Ozs7O2tFQUVaLDhEQUFDb0U7d0RBQUtuQixXQUFVO2tFQUEyQmMsRUFBRWxDLElBQUk7Ozs7Ozs7Ozs7OzswREFFbkQsOERBQUN1QjtnREFBSUgsV0FBVTswREFBa0JjLEVBQUVqQyxLQUFLOzs7Ozs7MERBQ3hDLDhEQUFDK0I7Z0RBQU9aLFdBQVU7Z0RBQW1DYSxTQUFTLElBQU1uQixPQUFPb0IsRUFBRWxDLElBQUk7Z0RBQUc2QixVQUFVMUQ7MERBQU07Ozs7Ozs7dUNBWjVGK0QsRUFBRU0sRUFBRTs7Ozs7Z0NBaUJmdkUsTUFBTTZELE1BQU0sS0FBSyxtQkFDaEIsOERBQUNQO29DQUFJSCxXQUFVOzhDQUF3Qjs7Ozs7Ozs7Ozs7O3dCQUkxQy9DLHFCQUFPLDhEQUFDa0Q7NEJBQUlILFdBQVU7c0NBQXdCL0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNM0Q7R0E5S3dCVjtLQUFBQSIsInNvdXJjZXMiOlsiL1VzZXJzL3BvY2hvbG8vUHJvamVjdHMvd2VsbHNlcnYtcG9ydGFsL2FwcHMvd2ViL2FwcC8oZG9jdG9yKS9kb2N0b3IvcGF0aWVudC9bcGF0aWVudElkXS9EaWFnbm9zaXNDYXJkLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuXG50eXBlIER4ID0geyBpZDogc3RyaW5nOyBjb2RlOiBzdHJpbmc7IHRpdGxlOiBzdHJpbmc7IGlzX3ByaW1hcnk6IGJvb2xlYW47IGNyZWF0ZWRfYXQ6IHN0cmluZyB9O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEaWFnbm9zaXNDYXJkKHtcbiAgY29uc3VsdGF0aW9uSWQsXG59OiB7XG4gIGNvbnN1bHRhdGlvbklkOiBzdHJpbmcgfCBudWxsO1xufSkge1xuICBjb25zdCBbcXVlcnksIHNldFF1ZXJ5XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbcmVzdWx0cywgc2V0UmVzdWx0c10gPSB1c2VTdGF0ZTx7IGNvZGU6IHN0cmluZzsgdGl0bGU6IHN0cmluZyB9W10+KFtdKTtcbiAgY29uc3QgW3BpY2tzLCBzZXRQaWNrc10gPSB1c2VTdGF0ZTxEeFtdPihbXSk7XG4gIGNvbnN0IFtidXN5LCBzZXRCdXN5XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Vyciwgc2V0RXJyXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IGNhbkVkaXQgPSBCb29sZWFuKGNvbnN1bHRhdGlvbklkKTtcblxuICBhc3luYyBmdW5jdGlvbiByZWZyZXNoKCkge1xuICAgIGlmICghY29uc3VsdGF0aW9uSWQpIHJldHVybjtcbiAgICBjb25zdCB1ID0gbmV3IFVSTChcIi9hcGkvY29uc3VsdGF0aW9ucy9kaWFnbm9zZXMvbGlzdFwiLCB3aW5kb3cubG9jYXRpb24ub3JpZ2luKTtcbiAgICB1LnNlYXJjaFBhcmFtcy5zZXQoXCJjb25zdWx0YXRpb25faWRcIiwgY29uc3VsdGF0aW9uSWQpO1xuICAgIGNvbnN0IHIgPSBhd2FpdCBmZXRjaCh1LnRvU3RyaW5nKCksIHsgY2FjaGU6IFwibm8tc3RvcmVcIiB9KTtcbiAgICBjb25zdCBqID0gYXdhaXQgci5qc29uKCk7XG4gICAgaWYgKHIub2sgJiYgIWouZXJyb3IpIHNldFBpY2tzKGouaXRlbXMgfHwgW10pO1xuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRQaWNrcyhbXSk7XG4gICAgdm9pZCByZWZyZXNoKCk7XG4gIH0sIFtjb25zdWx0YXRpb25JZF0pO1xuXG4gIC8vIFNlYXJjaFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBnb25lID0gZmFsc2U7XG4gICAgaWYgKCFxdWVyeS50cmltKCkpIHtcbiAgICAgIHNldFJlc3VsdHMoW10pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0ID0gc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB1ID0gbmV3IFVSTChcIi9hcGkvaWNkMTAvc2VhcmNoXCIsIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pO1xuICAgICAgICB1LnNlYXJjaFBhcmFtcy5zZXQoXCJxXCIsIHF1ZXJ5LnRyaW0oKSk7XG4gICAgICAgIGNvbnN0IHIgPSBhd2FpdCBmZXRjaCh1LnRvU3RyaW5nKCksIHsgY2FjaGU6IFwibm8tc3RvcmVcIiB9KTtcbiAgICAgICAgY29uc3QgaiA9IGF3YWl0IHIuanNvbigpO1xuICAgICAgICBpZiAoIWdvbmUpIHNldFJlc3VsdHMoci5vayAmJiAhai5lcnJvciA/IGouaXRlbXMgfHwgW10gOiBbXSk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgaWYgKCFnb25lKSBzZXRSZXN1bHRzKFtdKTtcbiAgICAgIH1cbiAgICB9LCAyNTApO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBnb25lID0gdHJ1ZTtcbiAgICAgIGNsZWFyVGltZW91dCh0KTtcbiAgICB9O1xuICB9LCBbcXVlcnldKTtcblxuICBhc3luYyBmdW5jdGlvbiBhZGQoY29kZTogc3RyaW5nLCB0aXRsZTogc3RyaW5nLCBtYWtlUHJpbWFyeSA9IGZhbHNlKSB7XG4gICAgaWYgKCFjb25zdWx0YXRpb25JZCkgcmV0dXJuO1xuICAgIHNldEJ1c3kodHJ1ZSk7XG4gICAgc2V0RXJyKG51bGwpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByID0gYXdhaXQgZmV0Y2goXCIvYXBpL2NvbnN1bHRhdGlvbnMvZGlhZ25vc2VzL3Vwc2VydFwiLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHsgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBjb25zdWx0YXRpb25faWQ6IGNvbnN1bHRhdGlvbklkLCBjb2RlLCB0aXRsZSwgbWFrZV9wcmltYXJ5OiBtYWtlUHJpbWFyeSB9KSxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgaiA9IGF3YWl0IHIuanNvbigpO1xuICAgICAgaWYgKCFyLm9rIHx8IGouZXJyb3IpIHRocm93IG5ldyBFcnJvcihqPy5lcnJvciB8fCBgSFRUUCAke3Iuc3RhdHVzfWApO1xuICAgICAgc2V0UXVlcnkoXCJcIik7XG4gICAgICBhd2FpdCByZWZyZXNoKCk7XG4gICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICBzZXRFcnIoZT8ubWVzc2FnZSB8fCBcIkZhaWxlZCB0byBhZGQgZGlhZ25vc2lzLlwiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0QnVzeShmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKGNvZGU6IHN0cmluZykge1xuICAgIGlmICghY29uc3VsdGF0aW9uSWQpIHJldHVybjtcbiAgICBzZXRCdXN5KHRydWUpO1xuICAgIHNldEVycihudWxsKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgciA9IGF3YWl0IGZldGNoKFwiL2FwaS9jb25zdWx0YXRpb25zL2RpYWdub3Nlcy9kZWxldGVcIiwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7IFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgY29uc3VsdGF0aW9uX2lkOiBjb25zdWx0YXRpb25JZCwgY29kZSB9KSxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgaiA9IGF3YWl0IHIuanNvbigpO1xuICAgICAgaWYgKCFyLm9rIHx8IGouZXJyb3IpIHRocm93IG5ldyBFcnJvcihqPy5lcnJvciB8fCBgSFRUUCAke3Iuc3RhdHVzfWApO1xuICAgICAgYXdhaXQgcmVmcmVzaCgpO1xuICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgc2V0RXJyKGU/Lm1lc3NhZ2UgfHwgXCJGYWlsZWQgdG8gcmVtb3ZlIGRpYWdub3Npcy5cIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldEJ1c3koZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHByaW1hcnkgPSB1c2VNZW1vKCgpID0+IHBpY2tzLmZpbmQocCA9PiBwLmlzX3ByaW1hcnkpPy5jb2RlIHx8IFwiXCIsIFtwaWNrc10pO1xuXG4gIHJldHVybiAoXG4gICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwicm91bmRlZC14bCBib3JkZXIgYm9yZGVyLWdyYXktMjAwXCI+XG4gICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cInB4LTQgcHktMyBib3JkZXItYiBib3JkZXItZ3JheS0xMDBcIj5cbiAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS04MDBcIj5EaWFnbm9zZXMgKElDRC0xMCk8L2gzPlxuICAgICAgPC9oZWFkZXI+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IHNwYWNlLXktNFwiPlxuICAgICAgICB7IWNhbkVkaXQgPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgIFN0YXJ0IHRoZSBjb25zdWx0YXRpb24gdG8gYWRkIGRpYWdub3Nlcy5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHZhbHVlPXtxdWVyeX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFF1ZXJ5KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaCBJQ0QtMTAgKGNvZGUgb3IgdGl0bGUp4oCmXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgYm9yZGVyIHJvdW5kZWQgcHgtMyBweS0yIHRleHQtc21cIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtidXN5fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHtyZXN1bHRzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIGJnLXdoaXRlIG1heC1oLTU2IG92ZXJmbG93LWF1dG9cIj5cbiAgICAgICAgICAgICAgICB7cmVzdWx0cy5tYXAoKHIpID0+IChcbiAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtyLmNvZGV9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTIgcHgtMyBweS0yIGJvcmRlci10IGZpcnN0OmJvcmRlci10LTBcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTI0IGZvbnQtbW9ubyB0ZXh0LXhzIHRleHQtZ3JheS03MDBcIj57ci5jb2RlfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSB0ZXh0LXNtXCI+e3IudGl0bGV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQteHMgcm91bmRlZCBib3JkZXIgcHgtMiBweS0xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGFkZChyLmNvZGUsIHIudGl0bGUsIGZhbHNlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtidXN5fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIEFkZFxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQteHMgcm91bmRlZCBib3JkZXIgcHgtMiBweS0xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGFkZChyLmNvZGUsIHIudGl0bGUsIHRydWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2J1c3l9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgQWRkIGFzIFByaW1hcnlcbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICB7cGlja3MubWFwKChkKSA9PiAoXG4gICAgICAgICAgICAgICAgPGRpdiBrZXk9e2QuaWR9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTMgcm91bmRlZCBib3JkZXIgcHgtMyBweS0yIGJnLXdoaXRlXCI+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJwcmltYXJ5X2R4XCJcbiAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtkLmNvZGUgPT09IHByaW1hcnl9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+IGFkZChkLmNvZGUsIGQudGl0bGUsIHRydWUpfVxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtidXN5fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1vbm8gdGV4dC1ncmF5LTcwMFwiPntkLmNvZGV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIHRleHQtc21cIj57ZC50aXRsZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwidGV4dC14cyByb3VuZGVkIGJvcmRlciBweC0yIHB5LTFcIiBvbkNsaWNrPXsoKSA9PiByZW1vdmUoZC5jb2RlKX0gZGlzYWJsZWQ9e2J1c3l9PlxuICAgICAgICAgICAgICAgICAgICBSZW1vdmVcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAge3BpY2tzLmxlbmd0aCA9PT0gMCAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5ObyBkaWFnbm9zZXMgeWV0LjwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHtlcnIgJiYgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcmVkLTYwMFwiPntlcnJ9PC9kaXY+fVxuICAgICAgICAgIDwvPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgPC9zZWN0aW9uPlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VTdGF0ZSIsIkRpYWdub3Npc0NhcmQiLCJjb25zdWx0YXRpb25JZCIsInF1ZXJ5Iiwic2V0UXVlcnkiLCJyZXN1bHRzIiwic2V0UmVzdWx0cyIsInBpY2tzIiwic2V0UGlja3MiLCJidXN5Iiwic2V0QnVzeSIsImVyciIsInNldEVyciIsImNhbkVkaXQiLCJCb29sZWFuIiwicmVmcmVzaCIsInUiLCJVUkwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsIm9yaWdpbiIsInNlYXJjaFBhcmFtcyIsInNldCIsInIiLCJmZXRjaCIsInRvU3RyaW5nIiwiY2FjaGUiLCJqIiwianNvbiIsIm9rIiwiZXJyb3IiLCJpdGVtcyIsImdvbmUiLCJ0cmltIiwidCIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJhZGQiLCJjb2RlIiwidGl0bGUiLCJtYWtlUHJpbWFyeSIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnN1bHRhdGlvbl9pZCIsIm1ha2VfcHJpbWFyeSIsIkVycm9yIiwic3RhdHVzIiwiZSIsIm1lc3NhZ2UiLCJyZW1vdmUiLCJwcmltYXJ5IiwiZmluZCIsInAiLCJpc19wcmltYXJ5Iiwic2VjdGlvbiIsImNsYXNzTmFtZSIsImhlYWRlciIsImgzIiwiZGl2IiwiaW5wdXQiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwidGFyZ2V0IiwicGxhY2Vob2xkZXIiLCJkaXNhYmxlZCIsImxlbmd0aCIsIm1hcCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkIiwibGFiZWwiLCJ0eXBlIiwibmFtZSIsImNoZWNrZWQiLCJzcGFuIiwiaWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/DiagnosisPanel.tsx":
/*!********************************************************************!*\
  !*** ./app/(doctor)/doctor/patient/[patientId]/DiagnosisPanel.tsx ***!
  \********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DiagnosisPanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _DiagnosisCard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DiagnosisCard */ \"(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/DiagnosisCard.tsx\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/api/navigation.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\nfunction DiagnosisPanel(param) {\n    let { patientId, initialConsultationId } = param;\n    _s();\n    const sp = (0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.useSearchParams)();\n    // Pick up ?c=... if present (e.g. coming from queue resume)\n    const urlCid = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"DiagnosisPanel.useMemo[urlCid]\": ()=>{\n            const c = sp.get(\"c\");\n            return c && c.trim() ? c.trim() : null;\n        }\n    }[\"DiagnosisPanel.useMemo[urlCid]\"], [\n        sp\n    ]);\n    const [cid, setCid] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(urlCid || initialConsultationId || null);\n    const [busy, setBusy] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [err, setErr] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    async function refreshCid() {\n        try {\n            setBusy(true);\n            setErr(null);\n            const u = new URL(\"/api/consultations/resolve-id\", window.location.origin);\n            u.searchParams.set(\"patient_id\", patientId);\n            u.searchParams.set(\"scope\", \"latest\"); //  not restricted to today\n            // if you ever want branch scoping: u.searchParams.set(\"branchOnly\", \"1\");\n            const r = await fetch(u.toString(), {\n                cache: \"no-store\"\n            });\n            const j = await r.json();\n            if (!r.ok || j.error) throw new Error((j === null || j === void 0 ? void 0 : j.error) || \"HTTP \".concat(r.status));\n            setCid(j.consultation_id || null);\n        } catch (e) {\n            setErr((e === null || e === void 0 ? void 0 : e.message) || \"Failed to resolve consultation.\");\n        } finally{\n            setBusy(false);\n        }\n    }\n    // If URL param appears later (e.g., navigation), adopt it\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"DiagnosisPanel.useEffect\": ()=>{\n            if (urlCid && urlCid !== cid) setCid(urlCid);\n        }\n    }[\"DiagnosisPanel.useEffect\"], [\n        urlCid\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-3\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_DiagnosisCard__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                consultationId: cid\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisPanel.tsx\",\n                lineNumber: 53,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center gap-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        className: \"rounded border px-2 py-1 text-xs\",\n                        onClick: refreshCid,\n                        disabled: busy,\n                        title: \"Pick up the consultation started in the Notes panel\",\n                        children: busy ? \"Checking\" : \"Refresh consultation link\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisPanel.tsx\",\n                        lineNumber: 55,\n                        columnNumber: 9\n                    }, this),\n                    err && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-xs text-red-600\",\n                        children: err\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisPanel.tsx\",\n                        lineNumber: 64,\n                        columnNumber: 17\n                    }, this),\n                    !cid && !err && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-xs text-gray-500\",\n                        children: [\n                            \"Tip: Press \",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                                children: \"Start consultation\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisPanel.tsx\",\n                                lineNumber: 67,\n                                columnNumber: 24\n                            }, this),\n                            \" above, then click Refresh.\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisPanel.tsx\",\n                        lineNumber: 66,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisPanel.tsx\",\n                lineNumber: 54,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/DiagnosisPanel.tsx\",\n        lineNumber: 52,\n        columnNumber: 5\n    }, this);\n}\n_s(DiagnosisPanel, \"dmHDiUYgePvGb0lMv7jAqS/S1Zc=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_3__.useSearchParams\n    ];\n});\n_c = DiagnosisPanel;\nvar _c;\n$RefreshReg$(_c, \"DiagnosisPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8oZG9jdG9yKS9kb2N0b3IvcGF0aWVudC9bcGF0aWVudElkXS9EaWFnbm9zaXNQYW5lbC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFcUQ7QUFDVDtBQUNNO0FBRW5DLFNBQVNLLGVBQWUsS0FNdEM7UUFOc0MsRUFDckNDLFNBQVMsRUFDVEMscUJBQXFCLEVBSXRCLEdBTnNDOztJQU9yQyxNQUFNQyxLQUFLSixnRUFBZUE7SUFDMUIsNERBQTREO0lBQzVELE1BQU1LLFNBQVNSLDhDQUFPQTswQ0FBQztZQUNyQixNQUFNUyxJQUFJRixHQUFHRyxHQUFHLENBQUM7WUFDakIsT0FBT0QsS0FBS0EsRUFBRUUsSUFBSSxLQUFLRixFQUFFRSxJQUFJLEtBQUs7UUFDcEM7eUNBQUc7UUFBQ0o7S0FBRztJQUVQLE1BQU0sQ0FBQ0ssS0FBS0MsT0FBTyxHQUFHWiwrQ0FBUUEsQ0FDNUJPLFVBQVVGLHlCQUF5QjtJQUVyQyxNQUFNLENBQUNRLE1BQU1DLFFBQVEsR0FBR2QsK0NBQVFBLENBQUM7SUFDakMsTUFBTSxDQUFDZSxLQUFLQyxPQUFPLEdBQUdoQiwrQ0FBUUEsQ0FBZ0I7SUFFOUMsZUFBZWlCO1FBQ2IsSUFBSTtZQUNBSCxRQUFRO1lBQ1JFLE9BQU87WUFDUCxNQUFNRSxJQUFJLElBQUlDLElBQUksaUNBQWlDQyxPQUFPQyxRQUFRLENBQUNDLE1BQU07WUFDekVKLEVBQUVLLFlBQVksQ0FBQ0MsR0FBRyxDQUFDLGNBQWNwQjtZQUNqQ2MsRUFBRUssWUFBWSxDQUFDQyxHQUFHLENBQUMsU0FBUyxXQUFhLDRCQUE0QjtZQUNyRSwwRUFBMEU7WUFDMUUsTUFBTUMsSUFBSSxNQUFNQyxNQUFNUixFQUFFUyxRQUFRLElBQUk7Z0JBQUVDLE9BQU87WUFBVztZQUN4RCxNQUFNQyxJQUFJLE1BQU1KLEVBQUVLLElBQUk7WUFDdEIsSUFBSSxDQUFDTCxFQUFFTSxFQUFFLElBQUlGLEVBQUVHLEtBQUssRUFBRSxNQUFNLElBQUlDLE1BQU1KLENBQUFBLGNBQUFBLHdCQUFBQSxFQUFHRyxLQUFLLEtBQUksUUFBaUIsT0FBVFAsRUFBRVMsTUFBTTtZQUNsRXRCLE9BQU9pQixFQUFFTSxlQUFlLElBQUk7UUFDaEMsRUFBRSxPQUFPQyxHQUFRO1lBQ2JwQixPQUFPb0IsQ0FBQUEsY0FBQUEsd0JBQUFBLEVBQUdDLE9BQU8sS0FBSTtRQUN6QixTQUFVO1lBQ052QixRQUFRO1FBQ1o7SUFDQTtJQUVGLDBEQUEwRDtJQUMxRGhCLGdEQUFTQTtvQ0FBQztZQUNSLElBQUlTLFVBQVVBLFdBQVdJLEtBQUtDLE9BQU9MO1FBQ3ZDO21DQUFHO1FBQUNBO0tBQU87SUFFWCxxQkFDRSw4REFBQytCO1FBQUlDLFdBQVU7OzBCQUNiLDhEQUFDdEMsc0RBQWFBO2dCQUFDdUMsZ0JBQWdCN0I7Ozs7OzswQkFDL0IsOERBQUMyQjtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNFO3dCQUNDQyxNQUFLO3dCQUNMSCxXQUFVO3dCQUNWSSxTQUFTMUI7d0JBQ1QyQixVQUFVL0I7d0JBQ1ZnQyxPQUFNO2tDQUVMaEMsT0FBTyxjQUFjOzs7Ozs7b0JBRXZCRSxxQkFBTyw4REFBQytCO3dCQUFLUCxXQUFVO2tDQUF3QnhCOzs7Ozs7b0JBQy9DLENBQUNKLE9BQU8sQ0FBQ0kscUJBQ1IsOERBQUMrQjt3QkFBS1AsV0FBVTs7NEJBQXdCOzBDQUMzQiw4REFBQ1E7MENBQUU7Ozs7Ozs0QkFBc0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNaEQ7R0FsRXdCNUM7O1FBT1hELDREQUFlQTs7O0tBUEpDIiwic291cmNlcyI6WyIvVXNlcnMvcG9jaG9sby9Qcm9qZWN0cy93ZWxsc2Vydi1wb3J0YWwvYXBwcy93ZWIvYXBwLyhkb2N0b3IpL2RvY3Rvci9wYXRpZW50L1twYXRpZW50SWRdL0RpYWdub3Npc1BhbmVsLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IERpYWdub3Npc0NhcmQgZnJvbSBcIi4vRGlhZ25vc2lzQ2FyZFwiO1xuaW1wb3J0IHsgdXNlU2VhcmNoUGFyYW1zIH0gZnJvbSBcIm5leHQvbmF2aWdhdGlvblwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEaWFnbm9zaXNQYW5lbCh7XG4gIHBhdGllbnRJZCxcbiAgaW5pdGlhbENvbnN1bHRhdGlvbklkLFxufToge1xuICBwYXRpZW50SWQ6IHN0cmluZztcbiAgaW5pdGlhbENvbnN1bHRhdGlvbklkOiBzdHJpbmcgfCBudWxsO1xufSkge1xuICBjb25zdCBzcCA9IHVzZVNlYXJjaFBhcmFtcygpO1xuICAvLyBQaWNrIHVwID9jPS4uLiBpZiBwcmVzZW50IChlLmcuIGNvbWluZyBmcm9tIHF1ZXVlIHJlc3VtZSlcbiAgY29uc3QgdXJsQ2lkID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgYyA9IHNwLmdldChcImNcIik7XG4gICAgcmV0dXJuIGMgJiYgYy50cmltKCkgPyBjLnRyaW0oKSA6IG51bGw7XG4gIH0sIFtzcF0pO1xuXG4gIGNvbnN0IFtjaWQsIHNldENpZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihcbiAgICB1cmxDaWQgfHwgaW5pdGlhbENvbnN1bHRhdGlvbklkIHx8IG51bGxcbiAgKTtcbiAgY29uc3QgW2J1c3ksIHNldEJ1c3ldID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyLCBzZXRFcnJdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgYXN5bmMgZnVuY3Rpb24gcmVmcmVzaENpZCgpIHtcbiAgICB0cnkge1xuICAgICAgICBzZXRCdXN5KHRydWUpO1xuICAgICAgICBzZXRFcnIobnVsbCk7XG4gICAgICAgIGNvbnN0IHUgPSBuZXcgVVJMKFwiL2FwaS9jb25zdWx0YXRpb25zL3Jlc29sdmUtaWRcIiwgd2luZG93LmxvY2F0aW9uLm9yaWdpbik7XG4gICAgICAgIHUuc2VhcmNoUGFyYW1zLnNldChcInBhdGllbnRfaWRcIiwgcGF0aWVudElkKTtcbiAgICAgICAgdS5zZWFyY2hQYXJhbXMuc2V0KFwic2NvcGVcIiwgXCJsYXRlc3RcIik7ICAgLy8g4oaQIG5vdCByZXN0cmljdGVkIHRvIHRvZGF5XG4gICAgICAgIC8vIGlmIHlvdSBldmVyIHdhbnQgYnJhbmNoIHNjb3Bpbmc6IHUuc2VhcmNoUGFyYW1zLnNldChcImJyYW5jaE9ubHlcIiwgXCIxXCIpO1xuICAgICAgICBjb25zdCByID0gYXdhaXQgZmV0Y2godS50b1N0cmluZygpLCB7IGNhY2hlOiBcIm5vLXN0b3JlXCIgfSk7XG4gICAgICAgIGNvbnN0IGogPSBhd2FpdCByLmpzb24oKTtcbiAgICAgICAgaWYgKCFyLm9rIHx8IGouZXJyb3IpIHRocm93IG5ldyBFcnJvcihqPy5lcnJvciB8fCBgSFRUUCAke3Iuc3RhdHVzfWApO1xuICAgICAgICBzZXRDaWQoai5jb25zdWx0YXRpb25faWQgfHwgbnVsbCk7XG4gICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICAgIHNldEVycihlPy5tZXNzYWdlIHx8IFwiRmFpbGVkIHRvIHJlc29sdmUgY29uc3VsdGF0aW9uLlwiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KGZhbHNlKTtcbiAgICB9XG4gICAgfVxuXG4gIC8vIElmIFVSTCBwYXJhbSBhcHBlYXJzIGxhdGVyIChlLmcuLCBuYXZpZ2F0aW9uKSwgYWRvcHQgaXRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodXJsQ2lkICYmIHVybENpZCAhPT0gY2lkKSBzZXRDaWQodXJsQ2lkKTtcbiAgfSwgW3VybENpZF0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgIDxEaWFnbm9zaXNDYXJkIGNvbnN1bHRhdGlvbklkPXtjaWR9IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBweC0yIHB5LTEgdGV4dC14c1wiXG4gICAgICAgICAgb25DbGljaz17cmVmcmVzaENpZH1cbiAgICAgICAgICBkaXNhYmxlZD17YnVzeX1cbiAgICAgICAgICB0aXRsZT1cIlBpY2sgdXAgdGhlIGNvbnN1bHRhdGlvbiBzdGFydGVkIGluIHRoZSBOb3RlcyBwYW5lbFwiXG4gICAgICAgID5cbiAgICAgICAgICB7YnVzeSA/IFwiQ2hlY2tpbmfigKZcIiA6IFwiUmVmcmVzaCBjb25zdWx0YXRpb24gbGlua1wifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAge2VyciAmJiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtcmVkLTYwMFwiPntlcnJ9PC9zcGFuPn1cbiAgICAgICAgeyFjaWQgJiYgIWVyciAmJiAoXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICBUaXA6IFByZXNzIDxiPlN0YXJ0IGNvbnN1bHRhdGlvbjwvYj4gYWJvdmUsIHRoZW4gY2xpY2sgUmVmcmVzaC5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlU3RhdGUiLCJEaWFnbm9zaXNDYXJkIiwidXNlU2VhcmNoUGFyYW1zIiwiRGlhZ25vc2lzUGFuZWwiLCJwYXRpZW50SWQiLCJpbml0aWFsQ29uc3VsdGF0aW9uSWQiLCJzcCIsInVybENpZCIsImMiLCJnZXQiLCJ0cmltIiwiY2lkIiwic2V0Q2lkIiwiYnVzeSIsInNldEJ1c3kiLCJlcnIiLCJzZXRFcnIiLCJyZWZyZXNoQ2lkIiwidSIsIlVSTCIsIndpbmRvdyIsImxvY2F0aW9uIiwib3JpZ2luIiwic2VhcmNoUGFyYW1zIiwic2V0IiwiciIsImZldGNoIiwidG9TdHJpbmciLCJjYWNoZSIsImoiLCJqc29uIiwib2siLCJlcnJvciIsIkVycm9yIiwic3RhdHVzIiwiY29uc3VsdGF0aW9uX2lkIiwiZSIsIm1lc3NhZ2UiLCJkaXYiLCJjbGFzc05hbWUiLCJjb25zdWx0YXRpb25JZCIsImJ1dHRvbiIsInR5cGUiLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJ0aXRsZSIsInNwYW4iLCJiIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/DiagnosisPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/FinishConsultButton.tsx":
/*!*************************************************************************!*\
  !*** ./app/(doctor)/doctor/patient/[patientId]/FinishConsultButton.tsx ***!
  \*************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ FinishConsultButton)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nfunction FinishConsultButton(param) {\n    let { consultationId, encounterId, onFinished, onNeedConsent } = param;\n    _s();\n    const [rxState, setRxState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"none\");\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [err, setErr] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    async function loadRxState() {\n        try {\n            var _j_prescription;\n            setErr(null);\n            const r = await fetch(\"/api/claims/preview?consultation_id=\".concat(encodeURIComponent(consultationId)), {\n                cache: \"no-store\"\n            });\n            const j = await r.json().catch(()=>({}));\n            if (!r.ok) throw new Error((j === null || j === void 0 ? void 0 : j.error) || \"HTTP \".concat(r.status));\n            if ((j === null || j === void 0 ? void 0 : (_j_prescription = j.prescription) === null || _j_prescription === void 0 ? void 0 : _j_prescription.status) === \"signed\") setRxState(\"signed\");\n            else if (j === null || j === void 0 ? void 0 : j.prescription) setRxState(\"draft\");\n            else setRxState(\"none\");\n        } catch (e) {\n            setErr((e === null || e === void 0 ? void 0 : e.message) || \"Failed to check prescription state.\");\n        }\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"FinishConsultButton.useEffect\": ()=>{\n            if (consultationId) loadRxState();\n        }\n    }[\"FinishConsultButton.useEffect\"], [\n        consultationId\n    ]);\n    async function requestFinishWithoutRx() {\n        if (!consultationId || !encounterId) return;\n        if (!confirm(\"Mark this consultation as DONE (no prescription)?\")) return;\n        //  Do NOT finalize here. Ask parent to open consent.\n        onNeedConsent();\n    }\n    // ---- UI states ----\n    if (rxState === \"signed\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"px-4 py-3 bg-gray-50 border-t flex items-center justify-between\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-xs text-gray-500\",\n                    children: \"Prescription signed  consultation is finished.\"\n                }, void 0, false, {\n                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FinishConsultButton.tsx\",\n                    lineNumber: 55,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"inline-flex items-center rounded-full bg-emerald-100 text-emerald-800 px-2 py-1 text-xs\",\n                    children: \"Finished (Rx signed)\"\n                }, void 0, false, {\n                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FinishConsultButton.tsx\",\n                    lineNumber: 58,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FinishConsultButton.tsx\",\n            lineNumber: 54,\n            columnNumber: 7\n        }, this);\n    }\n    if (rxState === \"draft\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"px-4 py-3 bg-gray-50 border-t\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-xs text-gray-500\",\n                            children: \"A prescription draft exists. Sign it or delete the draft to finish.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FinishConsultButton.tsx\",\n                            lineNumber: 69,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            type: \"button\",\n                            disabled: true,\n                            className: \"rounded-md border border-gray-300 px-3 py-1.5 text-sm bg-gray-200 text-gray-600 cursor-not-allowed\",\n                            title: \"A prescription draft exists. Sign it or delete the draft to finish.\",\n                            children: \"Finish\"\n                        }, void 0, false, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FinishConsultButton.tsx\",\n                            lineNumber: 72,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FinishConsultButton.tsx\",\n                    lineNumber: 68,\n                    columnNumber: 9\n                }, this),\n                err && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-2 text-xs text-red-600\",\n                    children: err\n                }, void 0, false, {\n                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FinishConsultButton.tsx\",\n                    lineNumber: 81,\n                    columnNumber: 17\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FinishConsultButton.tsx\",\n            lineNumber: 67,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"px-4 py-3 bg-gray-50 border-t\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-xs text-gray-500\",\n                        children: \"No medicines to prescribe? You can complete the consult here (consent required).\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FinishConsultButton.tsx\",\n                        lineNumber: 89,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        onClick: requestFinishWithoutRx,\n                        disabled: loading || !consultationId || !encounterId,\n                        className: \"rounded-md border border-gray-300 px-3 py-1.5 text-sm hover:bg-white disabled:opacity-50\",\n                        title: !encounterId ? \"Preparing\" : \"Finish consultation without a prescription\",\n                        children: loading ? \"Finishing\" : \"Finish without Rx\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FinishConsultButton.tsx\",\n                        lineNumber: 92,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FinishConsultButton.tsx\",\n                lineNumber: 88,\n                columnNumber: 7\n            }, this),\n            err && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-2 text-xs text-red-600\",\n                children: err\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FinishConsultButton.tsx\",\n                lineNumber: 102,\n                columnNumber: 15\n            }, this),\n            !encounterId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-2 text-xs text-gray-500\",\n                children: \"(Loading encounter please wait a moment)\"\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FinishConsultButton.tsx\",\n                lineNumber: 104,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FinishConsultButton.tsx\",\n        lineNumber: 87,\n        columnNumber: 5\n    }, this);\n}\n_s(FinishConsultButton, \"qmElXvwmCmY7BWVPbLs0xF8etgs=\");\n_c = FinishConsultButton;\nvar _c;\n$RefreshReg$(_c, \"FinishConsultButton\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8oZG9jdG9yKS9kb2N0b3IvcGF0aWVudC9bcGF0aWVudElkXS9GaW5pc2hDb25zdWx0QnV0dG9uLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFNEM7QUFJN0IsU0FBU0Usb0JBQW9CLEtBVTNDO1FBVjJDLEVBQzFDQyxjQUFjLEVBQ2RDLFdBQVcsRUFDWEMsVUFBVSxFQUNWQyxhQUFhLEVBTWQsR0FWMkM7O0lBVzFDLE1BQU0sQ0FBQ0MsU0FBU0MsV0FBVyxHQUFHUCwrQ0FBUUEsQ0FBVTtJQUNoRCxNQUFNLENBQUNRLFNBQVNDLFdBQVcsR0FBR1QsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDVSxLQUFLQyxPQUFPLEdBQUdYLCtDQUFRQSxDQUFnQjtJQUU5QyxlQUFlWTtRQUNiLElBQUk7Z0JBU0VDO1lBUkpGLE9BQU87WUFDUCxNQUFNRyxJQUFJLE1BQU1DLE1BQ2QsdUNBQTBFLE9BQW5DQyxtQkFBbUJkLGtCQUMxRDtnQkFBRWUsT0FBTztZQUFXO1lBRXRCLE1BQU1KLElBQUksTUFBTUMsRUFBRUksSUFBSSxHQUFHQyxLQUFLLENBQUMsSUFBTyxFQUFDO1lBQ3ZDLElBQUksQ0FBQ0wsRUFBRU0sRUFBRSxFQUFFLE1BQU0sSUFBSUMsTUFBTVIsQ0FBQUEsY0FBQUEsd0JBQUFBLEVBQUdTLEtBQUssS0FBSSxRQUFpQixPQUFUUixFQUFFUyxNQUFNO1lBRXZELElBQUlWLENBQUFBLGNBQUFBLHlCQUFBQSxrQkFBQUEsRUFBR1csWUFBWSxjQUFmWCxzQ0FBQUEsZ0JBQWlCVSxNQUFNLE1BQUssVUFBVWhCLFdBQVc7aUJBQ2hELElBQUlNLGNBQUFBLHdCQUFBQSxFQUFHVyxZQUFZLEVBQUVqQixXQUFXO2lCQUNoQ0EsV0FBVztRQUNsQixFQUFFLE9BQU9rQixHQUFRO1lBQ2ZkLE9BQU9jLENBQUFBLGNBQUFBLHdCQUFBQSxFQUFHQyxPQUFPLEtBQUk7UUFDdkI7SUFDRjtJQUVBM0IsZ0RBQVNBO3lDQUFDO1lBQ1IsSUFBSUcsZ0JBQWdCVTtRQUN0Qjt3Q0FBRztRQUFDVjtLQUFlO0lBRW5CLGVBQWV5QjtRQUNiLElBQUksQ0FBQ3pCLGtCQUFrQixDQUFDQyxhQUFhO1FBQ3JDLElBQUksQ0FBQ3lCLFFBQVEsc0RBQXNEO1FBQ25FLHVEQUF1RDtRQUN2RHZCO0lBQ0Y7SUFFQSxzQkFBc0I7SUFDdEIsSUFBSUMsWUFBWSxVQUFVO1FBQ3hCLHFCQUNFLDhEQUFDdUI7WUFBSUMsV0FBVTs7OEJBQ2IsOERBQUNEO29CQUFJQyxXQUFVOzhCQUF3Qjs7Ozs7OzhCQUd2Qyw4REFBQ0M7b0JBQUtELFdBQVU7OEJBQTBGOzs7Ozs7Ozs7Ozs7SUFLaEg7SUFFQSxJQUFJeEIsWUFBWSxTQUFTO1FBQ3ZCLHFCQUNFLDhEQUFDdUI7WUFBSUMsV0FBVTs7OEJBQ2IsOERBQUNEO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0Q7NEJBQUlDLFdBQVU7c0NBQXdCOzs7Ozs7c0NBR3ZDLDhEQUFDRTs0QkFDQ0MsTUFBSzs0QkFDTEMsUUFBUTs0QkFDUkosV0FBVTs0QkFDVkssT0FBTTtzQ0FDUDs7Ozs7Ozs7Ozs7O2dCQUlGekIscUJBQU8sOERBQUNtQjtvQkFBSUMsV0FBVTs4QkFBNkJwQjs7Ozs7Ozs7Ozs7O0lBRzFEO0lBRUEscUJBQ0UsOERBQUNtQjtRQUFJQyxXQUFVOzswQkFDYiw4REFBQ0Q7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDRDt3QkFBSUMsV0FBVTtrQ0FBd0I7Ozs7OztrQ0FHdkMsOERBQUNFO3dCQUNDQyxNQUFLO3dCQUNMRyxTQUFTVDt3QkFDVE8sVUFBVTFCLFdBQVcsQ0FBQ04sa0JBQWtCLENBQUNDO3dCQUN6QzJCLFdBQVU7d0JBQ1ZLLE9BQU8sQ0FBQ2hDLGNBQWMsZUFBZTtrQ0FFcENLLFVBQVUsZUFBZTs7Ozs7Ozs7Ozs7O1lBRzdCRSxxQkFBTyw4REFBQ21CO2dCQUFJQyxXQUFVOzBCQUE2QnBCOzs7Ozs7WUFDbkQsQ0FBQ1AsNkJBQ0EsOERBQUMwQjtnQkFBSUMsV0FBVTswQkFBNkI7Ozs7Ozs7Ozs7OztBQU1wRDtHQXZHd0I3QjtLQUFBQSIsInNvdXJjZXMiOlsiL1VzZXJzL3BvY2hvbG8vUHJvamVjdHMvd2VsbHNlcnYtcG9ydGFsL2FwcHMvd2ViL2FwcC8oZG9jdG9yKS9kb2N0b3IvcGF0aWVudC9bcGF0aWVudElkXS9GaW5pc2hDb25zdWx0QnV0dG9uLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuXG50eXBlIFJ4U3RhdGUgPSBcIm5vbmVcIiB8IFwiZHJhZnRcIiB8IFwic2lnbmVkXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEZpbmlzaENvbnN1bHRCdXR0b24oe1xuICBjb25zdWx0YXRpb25JZCxcbiAgZW5jb3VudGVySWQsICAgICAgICAgIC8vIGtlcHQgc28gcGFyZW50IGNhbiBmaW5hbGl6ZSBhZnRlciBjb25zZW50XG4gIG9uRmluaXNoZWQsICAgICAgICAgICAvLyBrZXB0IChwYXJlbnQgY2FuIHN0aWxsIHJlbG9hZCBhZnRlciBmdWxsIGZsb3cpXG4gIG9uTmVlZENvbnNlbnQsICAgICAgICAvLyDwn5GIIE5FVzogcGFyZW50IG9wZW5zIENvbnNlbnRNb2RhbFxufToge1xuICBjb25zdWx0YXRpb25JZDogc3RyaW5nO1xuICBlbmNvdW50ZXJJZD86IHN0cmluZztcbiAgb25GaW5pc2hlZD86ICgpID0+IHZvaWQ7XG4gIG9uTmVlZENvbnNlbnQ6ICgpID0+IHZvaWQ7ICAgLy8gcmVxdWlyZWQgZm9yIGNvbnNlbnQtZmlyc3QgZmxvd1xufSkge1xuICBjb25zdCBbcnhTdGF0ZSwgc2V0UnhTdGF0ZV0gPSB1c2VTdGF0ZTxSeFN0YXRlPihcIm5vbmVcIik7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Vyciwgc2V0RXJyXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIGFzeW5jIGZ1bmN0aW9uIGxvYWRSeFN0YXRlKCkge1xuICAgIHRyeSB7XG4gICAgICBzZXRFcnIobnVsbCk7XG4gICAgICBjb25zdCByID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAvYXBpL2NsYWltcy9wcmV2aWV3P2NvbnN1bHRhdGlvbl9pZD0ke2VuY29kZVVSSUNvbXBvbmVudChjb25zdWx0YXRpb25JZCl9YCxcbiAgICAgICAgeyBjYWNoZTogXCJuby1zdG9yZVwiIH1cbiAgICAgICk7XG4gICAgICBjb25zdCBqID0gYXdhaXQgci5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICBpZiAoIXIub2spIHRocm93IG5ldyBFcnJvcihqPy5lcnJvciB8fCBgSFRUUCAke3Iuc3RhdHVzfWApO1xuXG4gICAgICBpZiAoaj8ucHJlc2NyaXB0aW9uPy5zdGF0dXMgPT09IFwic2lnbmVkXCIpIHNldFJ4U3RhdGUoXCJzaWduZWRcIik7XG4gICAgICBlbHNlIGlmIChqPy5wcmVzY3JpcHRpb24pIHNldFJ4U3RhdGUoXCJkcmFmdFwiKTtcbiAgICAgIGVsc2Ugc2V0UnhTdGF0ZShcIm5vbmVcIik7XG4gICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICBzZXRFcnIoZT8ubWVzc2FnZSB8fCBcIkZhaWxlZCB0byBjaGVjayBwcmVzY3JpcHRpb24gc3RhdGUuXCIpO1xuICAgIH1cbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbnN1bHRhdGlvbklkKSBsb2FkUnhTdGF0ZSgpO1xuICB9LCBbY29uc3VsdGF0aW9uSWRdKTtcblxuICBhc3luYyBmdW5jdGlvbiByZXF1ZXN0RmluaXNoV2l0aG91dFJ4KCkge1xuICAgIGlmICghY29uc3VsdGF0aW9uSWQgfHwgIWVuY291bnRlcklkKSByZXR1cm47XG4gICAgaWYgKCFjb25maXJtKFwiTWFyayB0aGlzIGNvbnN1bHRhdGlvbiBhcyBET05FIChubyBwcmVzY3JpcHRpb24pP1wiKSkgcmV0dXJuO1xuICAgIC8vIPCflLQgRG8gTk9UIGZpbmFsaXplIGhlcmUuIEFzayBwYXJlbnQgdG8gb3BlbiBjb25zZW50LlxuICAgIG9uTmVlZENvbnNlbnQoKTtcbiAgfVxuXG4gIC8vIC0tLS0gVUkgc3RhdGVzIC0tLS1cbiAgaWYgKHJ4U3RhdGUgPT09IFwic2lnbmVkXCIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC00IHB5LTMgYmctZ3JheS01MCBib3JkZXItdCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICBQcmVzY3JpcHRpb24gc2lnbmVkIOKAlCBjb25zdWx0YXRpb24gaXMgZmluaXNoZWQuXG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgcm91bmRlZC1mdWxsIGJnLWVtZXJhbGQtMTAwIHRleHQtZW1lcmFsZC04MDAgcHgtMiBweS0xIHRleHQteHNcIj5cbiAgICAgICAgICBGaW5pc2hlZCAoUnggc2lnbmVkKVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKHJ4U3RhdGUgPT09IFwiZHJhZnRcIikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTQgcHktMyBiZy1ncmF5LTUwIGJvcmRlci10XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBzbTpmbGV4LXJvdyBzbTppdGVtcy1jZW50ZXIgc206anVzdGlmeS1iZXR3ZWVuIGdhcC0yXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgIEEgcHJlc2NyaXB0aW9uIGRyYWZ0IGV4aXN0cy4gU2lnbiBpdCBvciBkZWxldGUgdGhlIGRyYWZ0IHRvIGZpbmlzaC5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLW1kIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcHgtMyBweS0xLjUgdGV4dC1zbSBiZy1ncmF5LTIwMCB0ZXh0LWdyYXktNjAwIGN1cnNvci1ub3QtYWxsb3dlZFwiXG4gICAgICAgICAgICB0aXRsZT1cIkEgcHJlc2NyaXB0aW9uIGRyYWZ0IGV4aXN0cy4gU2lnbiBpdCBvciBkZWxldGUgdGhlIGRyYWZ0IHRvIGZpbmlzaC5cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIEZpbmlzaFxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge2VyciAmJiA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgdGV4dC14cyB0ZXh0LXJlZC02MDBcIj57ZXJyfTwvZGl2Pn1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtNCBweS0zIGJnLWdyYXktNTAgYm9yZGVyLXRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBzbTpmbGV4LXJvdyBzbTppdGVtcy1jZW50ZXIgc206anVzdGlmeS1iZXR3ZWVuIGdhcC0yXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgTm8gbWVkaWNpbmVzIHRvIHByZXNjcmliZT8gWW91IGNhbiBjb21wbGV0ZSB0aGUgY29uc3VsdCBoZXJlIChjb25zZW50IHJlcXVpcmVkKS5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICBvbkNsaWNrPXtyZXF1ZXN0RmluaXNoV2l0aG91dFJ4fVxuICAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nIHx8ICFjb25zdWx0YXRpb25JZCB8fCAhZW5jb3VudGVySWR9XG4gICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHB4LTMgcHktMS41IHRleHQtc20gaG92ZXI6Ymctd2hpdGUgZGlzYWJsZWQ6b3BhY2l0eS01MFwiXG4gICAgICAgICAgdGl0bGU9eyFlbmNvdW50ZXJJZCA/IFwiUHJlcGFyaW5n4oCmXCIgOiBcIkZpbmlzaCBjb25zdWx0YXRpb24gd2l0aG91dCBhIHByZXNjcmlwdGlvblwifVxuICAgICAgICA+XG4gICAgICAgICAge2xvYWRpbmcgPyBcIkZpbmlzaGluZ+KAplwiIDogXCJGaW5pc2ggd2l0aG91dCBSeFwifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICAge2VyciAmJiA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgdGV4dC14cyB0ZXh0LXJlZC02MDBcIj57ZXJyfTwvZGl2Pn1cbiAgICAgIHshZW5jb3VudGVySWQgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgdGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgKExvYWRpbmcgZW5jb3VudGVy4oCmIHBsZWFzZSB3YWl0IGEgbW9tZW50KVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJGaW5pc2hDb25zdWx0QnV0dG9uIiwiY29uc3VsdGF0aW9uSWQiLCJlbmNvdW50ZXJJZCIsIm9uRmluaXNoZWQiLCJvbk5lZWRDb25zZW50IiwicnhTdGF0ZSIsInNldFJ4U3RhdGUiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVyciIsInNldEVyciIsImxvYWRSeFN0YXRlIiwiaiIsInIiLCJmZXRjaCIsImVuY29kZVVSSUNvbXBvbmVudCIsImNhY2hlIiwianNvbiIsImNhdGNoIiwib2siLCJFcnJvciIsImVycm9yIiwic3RhdHVzIiwicHJlc2NyaXB0aW9uIiwiZSIsIm1lc3NhZ2UiLCJyZXF1ZXN0RmluaXNoV2l0aG91dFJ4IiwiY29uZmlybSIsImRpdiIsImNsYXNzTmFtZSIsInNwYW4iLCJidXR0b24iLCJ0eXBlIiwiZGlzYWJsZWQiLCJ0aXRsZSIsIm9uQ2xpY2siXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/FinishConsultButton.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx":
/*!*******************************************************************!*\
  !*** ./app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx ***!
  \*******************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ FollowUpPanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_hubs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/hubs */ \"(app-pages-browser)/./lib/hubs.ts\");\n/* harmony import */ var _LabTestQuickSearch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LabTestQuickSearch */ \"(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\nfunction parseExpectedTokens(raw) {\n    return (raw || \"\").split(\",\").map((s)=>s.trim()).filter(Boolean);\n}\nfunction FollowUpPanel(param) {\n    let { patientId, consultationId, defaultBranch } = param;\n    _s();\n    const [active, setActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [history, setHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [attachChecked, setAttachChecked] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showNew, setShowNew] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // new follow-up fields\n    const [due, setDue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [branch, setBranch] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(defaultBranch !== null && defaultBranch !== void 0 ? defaultBranch : \"\");\n    const [intended, setIntended] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [tests, setTests] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [busy, setBusy] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [err, setErr] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const canSave = consultationId && (attachChecked || due);\n    const activeExpectedTokens = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"FollowUpPanel.useMemo[activeExpectedTokens]\": ()=>parseExpectedTokens(active === null || active === void 0 ? void 0 : active.expected_tests)\n    }[\"FollowUpPanel.useMemo[activeExpectedTokens]\"], [\n        active === null || active === void 0 ? void 0 : active.expected_tests\n    ]);\n    async function load() {\n        setErr(null);\n        try {\n            const res = await fetch(\"/api/followups/list?start=1900-01-01&end=2100-01-01\");\n            const json = await res.json();\n            if (json.error) throw new Error(json.error);\n            var _json_followups;\n            const all = ((_json_followups = json.followups) !== null && _json_followups !== void 0 ? _json_followups : []).filter((f)=>f.patient_id === patientId);\n            var _all_find;\n            const act = (_all_find = all.find((f)=>f.status === \"scheduled\")) !== null && _all_find !== void 0 ? _all_find : null;\n            const hist = all.filter((f)=>f.status !== \"scheduled\").slice(-3).reverse();\n            setActive(act);\n            setHistory(hist);\n        } catch (e) {\n            setErr((e === null || e === void 0 ? void 0 : e.message) || \"Failed to load follow-ups\");\n        }\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"FollowUpPanel.useEffect\": ()=>{\n            load();\n        }\n    }[\"FollowUpPanel.useEffect\"], [\n        patientId\n    ]);\n    async function onSave() {\n        if (!consultationId) return;\n        setBusy(true);\n        setErr(null);\n        try {\n            // complete current if checkbox ticked\n            if (attachChecked && (active === null || active === void 0 ? void 0 : active.id)) {\n                const r = await fetch(\"/api/followups/attach\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        followup_id: active.id,\n                        closed_by_consultation_id: consultationId\n                    })\n                });\n                const j = await r.json();\n                if (j.error) throw new Error(j.error);\n            }\n            // new follow-up\n            if (due) {\n                const r = await fetch(\"/api/followups/upsert\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        patient_id: patientId,\n                        created_from_consultation_id: consultationId,\n                        return_branch: branch || null,\n                        due_date: due,\n                        intended_outcome: intended,\n                        expected_tests: tests\n                    })\n                });\n                const j = await r.json();\n                if (j.error) throw new Error(j.error);\n                setDue(\"\");\n                setIntended(\"\");\n                setTests(\"\");\n            }\n            setAttachChecked(false);\n            setShowNew(false);\n            await load();\n        } catch (e) {\n            setErr((e === null || e === void 0 ? void 0 : e.message) || \"Save failed\");\n        } finally{\n            setBusy(false);\n        }\n    }\n    var _active_cancel_reason;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"rounded-xl border p-4 shadow-card\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center gap-2 mb-2\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                    className: \"font-semibold\",\n                    children: \"Follow-Ups\"\n                }, void 0, false, {\n                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                    lineNumber: 121,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                lineNumber: 120,\n                columnNumber: 7\n            }, this),\n            !active && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-sm text-gray-600 mb-3\",\n                children: \"No active scheduled follow-up.\"\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                lineNumber: 126,\n                columnNumber: 9\n            }, this),\n            active && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-4 space-y-1 text-sm\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"font-medium\",\n                                children: \"Scheduled:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                                lineNumber: 133,\n                                columnNumber: 13\n                            }, this),\n                            \" \",\n                            active.due_date,\n                            active.return_branch ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    \" \\xb7 \",\n                                    active.return_branch\n                                ]\n                            }, void 0, true) : null\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                        lineNumber: 132,\n                        columnNumber: 11\n                    }, this),\n                    active.intended_outcome && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"font-medium\",\n                                children: \"Intended:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                                lineNumber: 137,\n                                columnNumber: 18\n                            }, this),\n                            \" \",\n                            active.intended_outcome\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                        lineNumber: 137,\n                        columnNumber: 13\n                    }, this),\n                    activeExpectedTokens.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"font-medium\",\n                                children: \"Tests:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                                lineNumber: 141,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-1 flex flex-wrap gap-1.5\",\n                                children: activeExpectedTokens.map((tok)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"rounded-full border border-gray-200 bg-gray-50 px-2 py-0.5 text-xs font-mono\",\n                                        children: tok\n                                    }, tok, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                                        lineNumber: 144,\n                                        columnNumber: 19\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                                lineNumber: 142,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                        lineNumber: 140,\n                        columnNumber: 13\n                    }, this),\n                    active.status === \"canceled\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-red-600\",\n                        children: [\n                            \"Canceled (\",\n                            (_active_cancel_reason = active.cancel_reason) !== null && _active_cancel_reason !== void 0 ? _active_cancel_reason : \"\",\n                            \")\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                        lineNumber: 155,\n                        columnNumber: 13\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                        className: \"flex items-center gap-2 mt-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"checkbox\",\n                                checked: attachChecked,\n                                onChange: (e)=>setAttachChecked(e.target.checked),\n                                disabled: !consultationId\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                                lineNumber: 158,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-sm\",\n                                children: \"Mark this consult as the follow-up\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                                lineNumber: 164,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                        lineNumber: 157,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                lineNumber: 131,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                type: \"button\",\n                onClick: ()=>setShowNew((prev)=>!prev),\n                className: \"group mb-3 inline-flex items-center gap-2 rounded-full border border-[#44969b]/60 bg-[#44969b]/5 px-3 py-1 text-[11px] font-semibold uppercase tracking-wide text-[#2e6468] select-none\",\n                \"aria-expanded\": showNew,\n                \"aria-controls\": \"doctor-followup-form\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"inline-flex h-5 w-5 items-center justify-center rounded-full bg-white text-[#2e6468] shadow-sm transition-transform duration-200\",\n                        style: {\n                            transform: showNew ? \"rotate(90deg)\" : \"rotate(0deg)\"\n                        },\n                        \"aria-hidden\": true,\n                        children: \"\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                        lineNumber: 177,\n                        columnNumber: 9\n                    }, this),\n                    showNew ? \"Hide follow-up form\" : \"Make new follow-up\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                lineNumber: 170,\n                columnNumber: 7\n            }, this),\n            showNew && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                id: \"doctor-followup-form\",\n                className: \"grid grid-cols-1 md:grid-cols-2 gap-2 mb-2 pl-4 border-l border-gray-200\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"block text-xs text-gray-600 mb-1\",\n                                children: \"Return date\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                                lineNumber: 193,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"date\",\n                                value: due,\n                                onChange: (e)=>setDue(e.target.value),\n                                className: \"w-full border rounded px-2 py-1 text-sm\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                                lineNumber: 194,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                        lineNumber: 192,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"block text-xs text-gray-600 mb-1\",\n                                children: \"Return branch\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                                lineNumber: 202,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                className: \"w-full border rounded px-2 py-1 text-sm\",\n                                value: branch,\n                                onChange: (e)=>setBranch(e.target.value),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"\",\n                                        children: \"Select\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                                        lineNumber: 208,\n                                        columnNumber: 15\n                                    }, this),\n                                    _lib_hubs__WEBPACK_IMPORTED_MODULE_2__.BRANCHES.map((b)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: b,\n                                            children: b\n                                        }, b, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                                            lineNumber: 210,\n                                            columnNumber: 17\n                                        }, this))\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                                lineNumber: 203,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                        lineNumber: 201,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"md:col-span-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"block text-xs text-gray-600 mb-1\",\n                                children: \"Intended outcome\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                                lineNumber: 215,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"text\",\n                                value: intended,\n                                onChange: (e)=>setIntended(e.target.value),\n                                placeholder: \"e.g., Lower LDL if statin effective\",\n                                className: \"w-full border rounded px-2 py-1 text-sm\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                                lineNumber: 216,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                        lineNumber: 214,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"md:col-span-2\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_LabTestQuickSearch__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                            value: tests,\n                            onChange: setTests\n                        }, void 0, false, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                            lineNumber: 225,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                        lineNumber: 224,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                lineNumber: 188,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-2 flex items-center gap-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        onClick: onSave,\n                        disabled: !canSave || busy,\n                        className: \"rounded bg-[#44969b] text-white px-3 py-2 text-sm disabled:opacity-50\",\n                        children: busy ? \"Saving\" : \"Save Follow-Up Changes\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                        lineNumber: 232,\n                        columnNumber: 9\n                    }, this),\n                    err && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-sm text-red-600\",\n                        children: err\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                        lineNumber: 240,\n                        columnNumber: 17\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                lineNumber: 231,\n                columnNumber: 7\n            }, this),\n            history.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-xs text-gray-500 mb-1\",\n                        children: \"Recent history\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                        lineNumber: 246,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                        className: \"text-sm space-y-1\",\n                        children: history.map((h)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: [\n                                    h.due_date,\n                                    \" \\xb7 \",\n                                    h.status,\n                                    h.intended_outcome ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                        children: [\n                                            \" \\xb7 \",\n                                            h.intended_outcome\n                                        ]\n                                    }, void 0, true) : null\n                                ]\n                            }, h.id, true, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                                lineNumber: 249,\n                                columnNumber: 15\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                        lineNumber: 247,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n                lineNumber: 245,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\",\n        lineNumber: 119,\n        columnNumber: 5\n    }, this);\n}\n_s(FollowUpPanel, \"RbXcqrCBmHp92FISKi9oqBCYiDw=\");\n_c = FollowUpPanel;\nvar _c;\n$RefreshReg$(_c, \"FollowUpPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8oZG9jdG9yKS9kb2N0b3IvcGF0aWVudC9bcGF0aWVudElkXS9Gb2xsb3dVcFBhbmVsLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUNxRDtBQUNmO0FBQ2dCO0FBWXRELFNBQVNLLG9CQUFvQkMsR0FBbUI7SUFDOUMsT0FBTyxDQUFDQSxPQUFPLEVBQUMsRUFDYkMsS0FBSyxDQUFDLEtBQ05DLEdBQUcsQ0FBQyxDQUFDQyxJQUFNQSxFQUFFQyxJQUFJLElBQ2pCQyxNQUFNLENBQUNDO0FBQ1o7QUFFZSxTQUFTQyxjQUFjLEtBUXJDO1FBUnFDLEVBQ3BDQyxTQUFTLEVBQ1RDLGNBQWMsRUFDZEMsYUFBYSxFQUtkLEdBUnFDOztJQVNwQyxNQUFNLENBQUNDLFFBQVFDLFVBQVUsR0FBR2hCLCtDQUFRQSxDQUFrQjtJQUN0RCxNQUFNLENBQUNpQixTQUFTQyxXQUFXLEdBQUdsQiwrQ0FBUUEsQ0FBYSxFQUFFO0lBQ3JELE1BQU0sQ0FBQ21CLGVBQWVDLGlCQUFpQixHQUFHcEIsK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDcUIsU0FBU0MsV0FBVyxHQUFHdEIsK0NBQVFBLENBQUM7SUFFdkMsdUJBQXVCO0lBQ3ZCLE1BQU0sQ0FBQ3VCLEtBQUtDLE9BQU8sR0FBR3hCLCtDQUFRQSxDQUFDO0lBQy9CLE1BQU0sQ0FBQ3lCLFFBQVFDLFVBQVUsR0FBRzFCLCtDQUFRQSxDQUFDYywwQkFBQUEsMkJBQUFBLGdCQUFpQjtJQUN0RCxNQUFNLENBQUNhLFVBQVVDLFlBQVksR0FBRzVCLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQzZCLE9BQU9DLFNBQVMsR0FBRzlCLCtDQUFRQSxDQUFDO0lBQ25DLE1BQU0sQ0FBQytCLE1BQU1DLFFBQVEsR0FBR2hDLCtDQUFRQSxDQUFDO0lBQ2pDLE1BQU0sQ0FBQ2lDLEtBQUtDLE9BQU8sR0FBR2xDLCtDQUFRQSxDQUFnQjtJQUM5QyxNQUFNbUMsVUFBVXRCLGtCQUFtQk0sQ0FBQUEsaUJBQWlCSSxHQUFFO0lBQ3RELE1BQU1hLHVCQUF1QnJDLDhDQUFPQTt1REFDbEMsSUFBTUksb0JBQW9CWSxtQkFBQUEsNkJBQUFBLE9BQVFzQixjQUFjO3NEQUNoRDtRQUFDdEIsbUJBQUFBLDZCQUFBQSxPQUFRc0IsY0FBYztLQUFDO0lBRzFCLGVBQWVDO1FBQ2JKLE9BQU87UUFDUCxJQUFJO1lBQ0YsTUFBTUssTUFBTSxNQUFNQyxNQUFPO1lBQ3pCLE1BQU1DLE9BQU8sTUFBTUYsSUFBSUUsSUFBSTtZQUMzQixJQUFJQSxLQUFLQyxLQUFLLEVBQUUsTUFBTSxJQUFJQyxNQUFNRixLQUFLQyxLQUFLO2dCQUNqQkQ7WUFBekIsTUFBTUcsTUFBa0IsQ0FBQ0gsQ0FBQUEsa0JBQUFBLEtBQUtJLFNBQVMsY0FBZEosNkJBQUFBLGtCQUFrQixFQUFFLEVBQUVoQyxNQUFNLENBQUMsQ0FBQ3FDLElBQVdBLEVBQUVDLFVBQVUsS0FBS25DO2dCQUN2RWdDO1lBQVosTUFBTUksTUFBTUosQ0FBQUEsWUFBQUEsSUFBSUssSUFBSSxDQUFDLENBQUNILElBQU1BLEVBQUVJLE1BQU0sS0FBSywwQkFBN0JOLHVCQUFBQSxZQUE2QztZQUN6RCxNQUFNTyxPQUFPUCxJQUNWbkMsTUFBTSxDQUFDLENBQUNxQyxJQUFNQSxFQUFFSSxNQUFNLEtBQUssYUFDM0JFLEtBQUssQ0FBQyxDQUFDLEdBQ1BDLE9BQU87WUFDVnJDLFVBQVVnQztZQUNWOUIsV0FBV2lDO1FBQ2IsRUFBRSxPQUFPRyxHQUFRO1lBQ2ZwQixPQUFPb0IsQ0FBQUEsY0FBQUEsd0JBQUFBLEVBQUdDLE9BQU8sS0FBSTtRQUN2QjtJQUNGO0lBRUF6RCxnREFBU0E7bUNBQUM7WUFBUXdDO1FBQVE7a0NBQUc7UUFBQzFCO0tBQVU7SUFFeEMsZUFBZTRDO1FBQ2IsSUFBSSxDQUFDM0MsZ0JBQWdCO1FBQ3JCbUIsUUFBUTtRQUFPRSxPQUFPO1FBQ3RCLElBQUk7WUFDRixzQ0FBc0M7WUFDdEMsSUFBSWYsa0JBQWlCSixtQkFBQUEsNkJBQUFBLE9BQVEwQyxFQUFFLEdBQUU7Z0JBQy9CLE1BQU1DLElBQUksTUFBTWxCLE1BQU0seUJBQXlCO29CQUM3Q21CLFFBQVE7b0JBQ1JDLFNBQVM7d0JBQUUsZ0JBQWdCO29CQUFtQjtvQkFDOUNDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQzt3QkFDbkJDLGFBQWFqRCxPQUFPMEMsRUFBRTt3QkFDdEJRLDJCQUEyQnBEO29CQUM3QjtnQkFDRjtnQkFDQSxNQUFNcUQsSUFBSSxNQUFNUixFQUFFakIsSUFBSTtnQkFDdEIsSUFBSXlCLEVBQUV4QixLQUFLLEVBQUUsTUFBTSxJQUFJQyxNQUFNdUIsRUFBRXhCLEtBQUs7WUFDdEM7WUFFQSxnQkFBZ0I7WUFDaEIsSUFBSW5CLEtBQUs7Z0JBQ1AsTUFBTW1DLElBQUksTUFBTWxCLE1BQU0seUJBQXlCO29CQUM3Q21CLFFBQVE7b0JBQ1JDLFNBQVM7d0JBQUUsZ0JBQWdCO29CQUFtQjtvQkFDOUNDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQzt3QkFDbkJoQixZQUFZbkM7d0JBQ1p1RCw4QkFBOEJ0RDt3QkFDOUJ1RCxlQUFlM0MsVUFBVTt3QkFDekI0QyxVQUFVOUM7d0JBQ1YrQyxrQkFBa0IzQzt3QkFDbEJVLGdCQUFnQlI7b0JBQ2xCO2dCQUNGO2dCQUNBLE1BQU1xQyxJQUFJLE1BQU1SLEVBQUVqQixJQUFJO2dCQUN0QixJQUFJeUIsRUFBRXhCLEtBQUssRUFBRSxNQUFNLElBQUlDLE1BQU11QixFQUFFeEIsS0FBSztnQkFDcENsQixPQUFPO2dCQUFLSSxZQUFZO2dCQUFLRSxTQUFTO1lBQ3hDO1lBRUFWLGlCQUFpQjtZQUNqQkUsV0FBVztZQUNYLE1BQU1nQjtRQUNSLEVBQUUsT0FBT2dCLEdBQVE7WUFDZnBCLE9BQU9vQixDQUFBQSxjQUFBQSx3QkFBQUEsRUFBR0MsT0FBTyxLQUFJO1FBQ3ZCLFNBQVU7WUFDUnZCLFFBQVE7UUFDVjtJQUNGO1FBdUNtRGpCO0lBckNuRCxxQkFDRSw4REFBQ3dEO1FBQUlDLFdBQVU7OzBCQUNiLDhEQUFDRDtnQkFBSUMsV0FBVTswQkFDYiw0RUFBQ0M7b0JBQUdELFdBQVU7OEJBQWdCOzs7Ozs7Ozs7OztZQUkvQixDQUFDekQsd0JBQ0EsOERBQUN3RDtnQkFBSUMsV0FBVTswQkFBNkI7Ozs7OztZQUk3Q3pELHdCQUNDLDhEQUFDd0Q7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDRDs7MENBQ0MsOERBQUNHO2dDQUFLRixXQUFVOzBDQUFjOzs7Ozs7NEJBQWlCOzRCQUFFekQsT0FBT3NELFFBQVE7NEJBQy9EdEQsT0FBT3FELGFBQWEsaUJBQUc7O29DQUFFO29DQUFJckQsT0FBT3FELGFBQWE7OytDQUFPOzs7Ozs7O29CQUUxRHJELE9BQU91RCxnQkFBZ0Isa0JBQ3RCLDhEQUFDQzs7MENBQUksOERBQUNHO2dDQUFLRixXQUFVOzBDQUFjOzs7Ozs7NEJBQWdCOzRCQUFFekQsT0FBT3VELGdCQUFnQjs7Ozs7OztvQkFFN0VsQyxxQkFBcUJ1QyxNQUFNLEdBQUcsbUJBQzdCLDhEQUFDSjs7MENBQ0MsOERBQUNHO2dDQUFLRixXQUFVOzBDQUFjOzs7Ozs7MENBQzlCLDhEQUFDRDtnQ0FBSUMsV0FBVTswQ0FDWnBDLHFCQUFxQjlCLEdBQUcsQ0FBQyxDQUFDc0Usb0JBQ3pCLDhEQUFDRjt3Q0FFQ0YsV0FBVTtrREFFVEk7dUNBSElBOzs7Ozs7Ozs7Ozs7Ozs7O29CQVNkN0QsT0FBT21DLE1BQU0sS0FBSyw0QkFDakIsOERBQUNxQjt3QkFBSUMsV0FBVTs7NEJBQWU7NEJBQVd6RCxDQUFBQSx3QkFBQUEsT0FBTzhELGFBQWEsY0FBcEI5RCxtQ0FBQUEsd0JBQXdCOzRCQUFJOzs7Ozs7O2tDQUV2RSw4REFBQytEO3dCQUFNTixXQUFVOzswQ0FDZiw4REFBQ087Z0NBQ0NDLE1BQUs7Z0NBQ0xDLFNBQVM5RDtnQ0FDVCtELFVBQVUsQ0FBQzVCLElBQU1sQyxpQkFBaUJrQyxFQUFFNkIsTUFBTSxDQUFDRixPQUFPO2dDQUNsREcsVUFBVSxDQUFDdkU7Ozs7OzswQ0FFYiw4REFBQzZEO2dDQUFLRixXQUFVOzBDQUFVOzs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBTWhDLDhEQUFDYTtnQkFDQ0wsTUFBSztnQkFDTE0sU0FBUyxJQUFNaEUsV0FBVyxDQUFDaUUsT0FBUyxDQUFDQTtnQkFDckNmLFdBQVU7Z0JBQ1ZnQixpQkFBZW5FO2dCQUNmb0UsaUJBQWM7O2tDQUVkLDhEQUFDZjt3QkFDQ0YsV0FBVTt3QkFDVmtCLE9BQU87NEJBQUVDLFdBQVd0RSxVQUFVLGtCQUFrQjt3QkFBZTt3QkFDL0R1RSxhQUFXO2tDQUNaOzs7Ozs7b0JBR0F2RSxVQUFVLHdCQUF3Qjs7Ozs7OztZQUdwQ0EseUJBQ0MsOERBQUNrRDtnQkFDQ2QsSUFBRztnQkFDSGUsV0FBVTs7a0NBRVYsOERBQUNEOzswQ0FDQyw4REFBQ087Z0NBQU1OLFdBQVU7MENBQW1DOzs7Ozs7MENBQ3BELDhEQUFDTztnQ0FDQ0MsTUFBSztnQ0FDTGEsT0FBT3RFO2dDQUNQMkQsVUFBVSxDQUFDNUIsSUFBTTlCLE9BQU84QixFQUFFNkIsTUFBTSxDQUFDVSxLQUFLO2dDQUN0Q3JCLFdBQVU7Ozs7Ozs7Ozs7OztrQ0FHZCw4REFBQ0Q7OzBDQUNDLDhEQUFDTztnQ0FBTU4sV0FBVTswQ0FBbUM7Ozs7OzswQ0FDcEQsOERBQUNzQjtnQ0FDQ3RCLFdBQVU7Z0NBQ1ZxQixPQUFPcEU7Z0NBQ1B5RCxVQUFVLENBQUM1QixJQUFNNUIsVUFBVTRCLEVBQUU2QixNQUFNLENBQUNVLEtBQUs7O2tEQUV6Qyw4REFBQ0U7d0NBQU9GLE9BQU07a0RBQUc7Ozs7OztvQ0FDaEI1RiwrQ0FBUUEsQ0FBQ0ssR0FBRyxDQUFDLENBQUMwRixrQkFDYiw4REFBQ0Q7NENBQWVGLE9BQU9HO3NEQUFJQTsyQ0FBZEE7Ozs7Ozs7Ozs7Ozs7Ozs7O2tDQUluQiw4REFBQ3pCO3dCQUFJQyxXQUFVOzswQ0FDYiw4REFBQ007Z0NBQU1OLFdBQVU7MENBQW1DOzs7Ozs7MENBQ3BELDhEQUFDTztnQ0FDQ0MsTUFBSztnQ0FDTGEsT0FBT2xFO2dDQUNQdUQsVUFBVSxDQUFDNUIsSUFBTTFCLFlBQVkwQixFQUFFNkIsTUFBTSxDQUFDVSxLQUFLO2dDQUMzQ0ksYUFBWTtnQ0FDWnpCLFdBQVU7Ozs7Ozs7Ozs7OztrQ0FHZCw4REFBQ0Q7d0JBQUlDLFdBQVU7a0NBQ2IsNEVBQUN0RSwyREFBa0JBOzRCQUFDMkYsT0FBT2hFOzRCQUFPcUQsVUFBVXBEOzs7Ozs7Ozs7Ozs7Ozs7OzswQkFNbEQsOERBQUN5QztnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNhO3dCQUNDTCxNQUFLO3dCQUNMTSxTQUFTOUI7d0JBQ1Q0QixVQUFVLENBQUNqRCxXQUFXSjt3QkFDdEJ5QyxXQUFVO2tDQUVUekMsT0FBTyxZQUFZOzs7Ozs7b0JBRXJCRSxxQkFBTyw4REFBQ3NDO3dCQUFJQyxXQUFVO2tDQUF3QnZDOzs7Ozs7Ozs7Ozs7WUFJaERoQixRQUFRMEQsTUFBTSxHQUFHLG1CQUNoQiw4REFBQ0o7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDRDt3QkFBSUMsV0FBVTtrQ0FBNkI7Ozs7OztrQ0FDNUMsOERBQUMwQjt3QkFBRzFCLFdBQVU7a0NBQ1h2RCxRQUFRWCxHQUFHLENBQUMsQ0FBQzZGLGtCQUNaLDhEQUFDQzs7b0NBQ0VELEVBQUU5QixRQUFRO29DQUFDO29DQUFJOEIsRUFBRWpELE1BQU07b0NBQ3ZCaUQsRUFBRTdCLGdCQUFnQixpQkFBRzs7NENBQUU7NENBQUk2QixFQUFFN0IsZ0JBQWdCOzt1REFBTzs7K0JBRjlDNkIsRUFBRTFDLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFVM0I7R0E1T3dCOUM7S0FBQUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb2Nob2xvL1Byb2plY3RzL3dlbGxzZXJ2LXBvcnRhbC9hcHBzL3dlYi9hcHAvKGRvY3RvcikvZG9jdG9yL3BhdGllbnQvW3BhdGllbnRJZF0vRm9sbG93VXBQYW5lbC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBCUkFOQ0hFUyB9IGZyb20gXCJAL2xpYi9odWJzXCI7XG5pbXBvcnQgTGFiVGVzdFF1aWNrU2VhcmNoIGZyb20gXCIuL0xhYlRlc3RRdWlja1NlYXJjaFwiO1xuXG50eXBlIEZvbGxvd3VwID0ge1xuICBpZDogc3RyaW5nO1xuICBkdWVfZGF0ZTogc3RyaW5nO1xuICByZXR1cm5fYnJhbmNoOiBzdHJpbmcgfCBudWxsO1xuICBpbnRlbmRlZF9vdXRjb21lOiBzdHJpbmcgfCBudWxsO1xuICBleHBlY3RlZF90ZXN0czogc3RyaW5nIHwgbnVsbDtcbiAgc3RhdHVzOiBcInNjaGVkdWxlZFwiIHwgXCJjb21wbGV0ZWRcIiB8IFwiY2FuY2VsZWRcIiB8IFwic2tpcHBlZFwiO1xuICBjYW5jZWxfcmVhc29uPzogc3RyaW5nIHwgbnVsbDtcbn07XG5cbmZ1bmN0aW9uIHBhcnNlRXhwZWN0ZWRUb2tlbnMocmF3Pzogc3RyaW5nIHwgbnVsbCkge1xuICByZXR1cm4gKHJhdyB8fCBcIlwiKVxuICAgIC5zcGxpdChcIixcIilcbiAgICAubWFwKChzKSA9PiBzLnRyaW0oKSlcbiAgICAuZmlsdGVyKEJvb2xlYW4pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBGb2xsb3dVcFBhbmVsKHtcbiAgcGF0aWVudElkLFxuICBjb25zdWx0YXRpb25JZCxcbiAgZGVmYXVsdEJyYW5jaCxcbn06IHtcbiAgcGF0aWVudElkOiBzdHJpbmc7XG4gIGNvbnN1bHRhdGlvbklkOiBzdHJpbmcgfCBudWxsO1xuICBkZWZhdWx0QnJhbmNoPzogc3RyaW5nIHwgbnVsbDtcbn0pIHtcbiAgY29uc3QgW2FjdGl2ZSwgc2V0QWN0aXZlXSA9IHVzZVN0YXRlPEZvbGxvd3VwIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtoaXN0b3J5LCBzZXRIaXN0b3J5XSA9IHVzZVN0YXRlPEZvbGxvd3VwW10+KFtdKTtcbiAgY29uc3QgW2F0dGFjaENoZWNrZWQsIHNldEF0dGFjaENoZWNrZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd05ldywgc2V0U2hvd05ld10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gbmV3IGZvbGxvdy11cCBmaWVsZHNcbiAgY29uc3QgW2R1ZSwgc2V0RHVlXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbYnJhbmNoLCBzZXRCcmFuY2hdID0gdXNlU3RhdGUoZGVmYXVsdEJyYW5jaCA/PyBcIlwiKTtcbiAgY29uc3QgW2ludGVuZGVkLCBzZXRJbnRlbmRlZF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3Rlc3RzLCBzZXRUZXN0c10gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2J1c3ksIHNldEJ1c3ldID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyLCBzZXRFcnJdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGNhblNhdmUgPSBjb25zdWx0YXRpb25JZCAmJiAoYXR0YWNoQ2hlY2tlZCB8fCBkdWUpO1xuICBjb25zdCBhY3RpdmVFeHBlY3RlZFRva2VucyA9IHVzZU1lbW8oXG4gICAgKCkgPT4gcGFyc2VFeHBlY3RlZFRva2VucyhhY3RpdmU/LmV4cGVjdGVkX3Rlc3RzKSxcbiAgICBbYWN0aXZlPy5leHBlY3RlZF90ZXN0c11cbiAgKTtcblxuICBhc3luYyBmdW5jdGlvbiBsb2FkKCkge1xuICAgIHNldEVycihudWxsKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYC9hcGkvZm9sbG93dXBzL2xpc3Q/c3RhcnQ9MTkwMC0wMS0wMSZlbmQ9MjEwMC0wMS0wMWApO1xuICAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICBpZiAoanNvbi5lcnJvcikgdGhyb3cgbmV3IEVycm9yKGpzb24uZXJyb3IpO1xuICAgICAgY29uc3QgYWxsOiBGb2xsb3d1cFtdID0gKGpzb24uZm9sbG93dXBzID8/IFtdKS5maWx0ZXIoKGY6IGFueSkgPT4gZi5wYXRpZW50X2lkID09PSBwYXRpZW50SWQpO1xuICAgICAgY29uc3QgYWN0ID0gYWxsLmZpbmQoKGYpID0+IGYuc3RhdHVzID09PSBcInNjaGVkdWxlZFwiKSA/PyBudWxsO1xuICAgICAgY29uc3QgaGlzdCA9IGFsbFxuICAgICAgICAuZmlsdGVyKChmKSA9PiBmLnN0YXR1cyAhPT0gXCJzY2hlZHVsZWRcIilcbiAgICAgICAgLnNsaWNlKC0zKVxuICAgICAgICAucmV2ZXJzZSgpO1xuICAgICAgc2V0QWN0aXZlKGFjdCk7XG4gICAgICBzZXRIaXN0b3J5KGhpc3QpO1xuICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgc2V0RXJyKGU/Lm1lc3NhZ2UgfHwgXCJGYWlsZWQgdG8gbG9hZCBmb2xsb3ctdXBzXCIpO1xuICAgIH1cbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7IGxvYWQoKTsgfSwgW3BhdGllbnRJZF0pO1xuXG4gIGFzeW5jIGZ1bmN0aW9uIG9uU2F2ZSgpIHtcbiAgICBpZiAoIWNvbnN1bHRhdGlvbklkKSByZXR1cm47XG4gICAgc2V0QnVzeSh0cnVlKTsgc2V0RXJyKG51bGwpO1xuICAgIHRyeSB7XG4gICAgICAvLyBjb21wbGV0ZSBjdXJyZW50IGlmIGNoZWNrYm94IHRpY2tlZFxuICAgICAgaWYgKGF0dGFjaENoZWNrZWQgJiYgYWN0aXZlPy5pZCkge1xuICAgICAgICBjb25zdCByID0gYXdhaXQgZmV0Y2goXCIvYXBpL2ZvbGxvd3Vwcy9hdHRhY2hcIiwge1xuICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIGZvbGxvd3VwX2lkOiBhY3RpdmUuaWQsXG4gICAgICAgICAgICBjbG9zZWRfYnlfY29uc3VsdGF0aW9uX2lkOiBjb25zdWx0YXRpb25JZCxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGogPSBhd2FpdCByLmpzb24oKTtcbiAgICAgICAgaWYgKGouZXJyb3IpIHRocm93IG5ldyBFcnJvcihqLmVycm9yKTtcbiAgICAgIH1cblxuICAgICAgLy8gbmV3IGZvbGxvdy11cFxuICAgICAgaWYgKGR1ZSkge1xuICAgICAgICBjb25zdCByID0gYXdhaXQgZmV0Y2goXCIvYXBpL2ZvbGxvd3Vwcy91cHNlcnRcIiwge1xuICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHBhdGllbnRfaWQ6IHBhdGllbnRJZCxcbiAgICAgICAgICAgIGNyZWF0ZWRfZnJvbV9jb25zdWx0YXRpb25faWQ6IGNvbnN1bHRhdGlvbklkLFxuICAgICAgICAgICAgcmV0dXJuX2JyYW5jaDogYnJhbmNoIHx8IG51bGwsXG4gICAgICAgICAgICBkdWVfZGF0ZTogZHVlLFxuICAgICAgICAgICAgaW50ZW5kZWRfb3V0Y29tZTogaW50ZW5kZWQsXG4gICAgICAgICAgICBleHBlY3RlZF90ZXN0czogdGVzdHMsXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBqID0gYXdhaXQgci5qc29uKCk7XG4gICAgICAgIGlmIChqLmVycm9yKSB0aHJvdyBuZXcgRXJyb3Ioai5lcnJvcik7XG4gICAgICAgIHNldER1ZShcIlwiKTsgc2V0SW50ZW5kZWQoXCJcIik7IHNldFRlc3RzKFwiXCIpO1xuICAgICAgfVxuXG4gICAgICBzZXRBdHRhY2hDaGVja2VkKGZhbHNlKTtcbiAgICAgIHNldFNob3dOZXcoZmFsc2UpO1xuICAgICAgYXdhaXQgbG9hZCgpO1xuICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgc2V0RXJyKGU/Lm1lc3NhZ2UgfHwgXCJTYXZlIGZhaWxlZFwiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0QnVzeShmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQteGwgYm9yZGVyIHAtNCBzaGFkb3ctY2FyZFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtYi0yXCI+XG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+Rm9sbG93LVVwczwvaDM+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIEFjdGl2ZSAvIG5vbmUgKi99XG4gICAgICB7IWFjdGl2ZSAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIG1iLTNcIj5cbiAgICAgICAgICBObyBhY3RpdmUgc2NoZWR1bGVkIGZvbGxvdy11cC5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAge2FjdGl2ZSAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNCBzcGFjZS15LTEgdGV4dC1zbVwiPlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPlNjaGVkdWxlZDo8L3NwYW4+IHthY3RpdmUuZHVlX2RhdGV9XG4gICAgICAgICAgICB7YWN0aXZlLnJldHVybl9icmFuY2ggPyA8PiDCtyB7YWN0aXZlLnJldHVybl9icmFuY2h9PC8+IDogbnVsbH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7YWN0aXZlLmludGVuZGVkX291dGNvbWUgJiYgKFxuICAgICAgICAgICAgPGRpdj48c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPkludGVuZGVkOjwvc3Bhbj4ge2FjdGl2ZS5pbnRlbmRlZF9vdXRjb21lfTwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAge2FjdGl2ZUV4cGVjdGVkVG9rZW5zLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5UZXN0czo8L3NwYW4+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMSBmbGV4IGZsZXgtd3JhcCBnYXAtMS41XCI+XG4gICAgICAgICAgICAgICAge2FjdGl2ZUV4cGVjdGVkVG9rZW5zLm1hcCgodG9rKSA9PiAoXG4gICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICBrZXk9e3Rva31cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItZ3JheS0yMDAgYmctZ3JheS01MCBweC0yIHB5LTAuNSB0ZXh0LXhzIGZvbnQtbW9ub1wiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHt0b2t9XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7YWN0aXZlLnN0YXR1cyA9PT0gXCJjYW5jZWxlZFwiICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1yZWQtNjAwXCI+Q2FuY2VsZWQgKHthY3RpdmUuY2FuY2VsX3JlYXNvbiA/PyBcIuKAlFwifSk8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtdC0yXCI+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgY2hlY2tlZD17YXR0YWNoQ2hlY2tlZH1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRBdHRhY2hDaGVja2VkKGUudGFyZ2V0LmNoZWNrZWQpfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17IWNvbnN1bHRhdGlvbklkfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc21cIj5NYXJrIHRoaXMgY29uc3VsdCBhcyB0aGUgZm9sbG93LXVwPC9zcGFuPlxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIENvbGxhcHNpYmxlIG5ldyBmb2xsb3ctdXAgKi99XG4gICAgICA8YnV0dG9uXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93TmV3KChwcmV2KSA9PiAhcHJldil9XG4gICAgICAgIGNsYXNzTmFtZT1cImdyb3VwIG1iLTMgaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLVsjNDQ5NjliXS82MCBiZy1bIzQ0OTY5Yl0vNSBweC0zIHB5LTEgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LVsjMmU2NDY4XSBzZWxlY3Qtbm9uZVwiXG4gICAgICAgIGFyaWEtZXhwYW5kZWQ9e3Nob3dOZXd9XG4gICAgICAgIGFyaWEtY29udHJvbHM9XCJkb2N0b3ItZm9sbG93dXAtZm9ybVwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuXG4gICAgICAgICAgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaC01IHctNSBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1mdWxsIGJnLXdoaXRlIHRleHQtWyMyZTY0NjhdIHNoYWRvdy1zbSB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi0yMDBcIlxuICAgICAgICAgIHN0eWxlPXt7IHRyYW5zZm9ybTogc2hvd05ldyA/IFwicm90YXRlKDkwZGVnKVwiIDogXCJyb3RhdGUoMGRlZylcIiB9fVxuICAgICAgICAgIGFyaWEtaGlkZGVuXG4gICAgICAgID5cbiAgICAgICAgICDilrhcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICB7c2hvd05ldyA/IFwiSGlkZSBmb2xsb3ctdXAgZm9ybVwiIDogXCJNYWtlIG5ldyBmb2xsb3ctdXBcIn1cbiAgICAgIDwvYnV0dG9uPlxuXG4gICAgICB7c2hvd05ldyAmJiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBpZD1cImRvY3Rvci1mb2xsb3d1cC1mb3JtXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGdhcC0yIG1iLTIgcGwtNCBib3JkZXItbCBib3JkZXItZ3JheS0yMDBcIlxuICAgICAgICA+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXhzIHRleHQtZ3JheS02MDAgbWItMVwiPlJldHVybiBkYXRlPC9sYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwiZGF0ZVwiXG4gICAgICAgICAgICAgIHZhbHVlPXtkdWV9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RHVlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJvcmRlciByb3VuZGVkIHB4LTIgcHktMSB0ZXh0LXNtXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXhzIHRleHQtZ3JheS02MDAgbWItMVwiPlJldHVybiBicmFuY2g8L2xhYmVsPlxuICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9yZGVyIHJvdW5kZWQgcHgtMiBweS0xIHRleHQtc21cIlxuICAgICAgICAgICAgICB2YWx1ZT17YnJhbmNofVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEJyYW5jaChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5TZWxlY3TigKY8L29wdGlvbj5cbiAgICAgICAgICAgICAge0JSQU5DSEVTLm1hcCgoYikgPT4gKFxuICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtifSB2YWx1ZT17Yn0+e2J9PC9vcHRpb24+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZDpjb2wtc3Bhbi0yXCI+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC14cyB0ZXh0LWdyYXktNjAwIG1iLTFcIj5JbnRlbmRlZCBvdXRjb21lPC9sYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgIHZhbHVlPXtpbnRlbmRlZH1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRJbnRlbmRlZChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiZS5nLiwgTG93ZXIgTERMIGlmIHN0YXRpbiBlZmZlY3RpdmVcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9yZGVyIHJvdW5kZWQgcHgtMiBweS0xIHRleHQtc21cIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1kOmNvbC1zcGFuLTJcIj5cbiAgICAgICAgICAgIDxMYWJUZXN0UXVpY2tTZWFyY2ggdmFsdWU9e3Rlc3RzfSBvbkNoYW5nZT17c2V0VGVzdHN9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIFNhdmUgYnV0dG9uIGFsd2F5cyB2aXNpYmxlICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICBvbkNsaWNrPXtvblNhdmV9XG4gICAgICAgICAgZGlzYWJsZWQ9eyFjYW5TYXZlIHx8IGJ1c3l9XG4gICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBiZy1bIzQ0OTY5Yl0gdGV4dC13aGl0ZSBweC0zIHB5LTIgdGV4dC1zbSBkaXNhYmxlZDpvcGFjaXR5LTUwXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtidXN5ID8gXCJTYXZpbmfigKZcIiA6IFwiU2F2ZSBGb2xsb3ctVXAgQ2hhbmdlc1wifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAge2VyciAmJiA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1yZWQtNjAwXCI+e2Vycn08L2Rpdj59XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIEhpc3RvcnkgKi99XG4gICAgICB7aGlzdG9yeS5sZW5ndGggPiAwICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgbWItMVwiPlJlY2VudCBoaXN0b3J5PC9kaXY+XG4gICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInRleHQtc20gc3BhY2UteS0xXCI+XG4gICAgICAgICAgICB7aGlzdG9yeS5tYXAoKGgpID0+IChcbiAgICAgICAgICAgICAgPGxpIGtleT17aC5pZH0+XG4gICAgICAgICAgICAgICAge2guZHVlX2RhdGV9IMK3IHtoLnN0YXR1c31cbiAgICAgICAgICAgICAgICB7aC5pbnRlbmRlZF9vdXRjb21lID8gPD4gwrcge2guaW50ZW5kZWRfb3V0Y29tZX08Lz4gOiBudWxsfVxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VTdGF0ZSIsIkJSQU5DSEVTIiwiTGFiVGVzdFF1aWNrU2VhcmNoIiwicGFyc2VFeHBlY3RlZFRva2VucyIsInJhdyIsInNwbGl0IiwibWFwIiwicyIsInRyaW0iLCJmaWx0ZXIiLCJCb29sZWFuIiwiRm9sbG93VXBQYW5lbCIsInBhdGllbnRJZCIsImNvbnN1bHRhdGlvbklkIiwiZGVmYXVsdEJyYW5jaCIsImFjdGl2ZSIsInNldEFjdGl2ZSIsImhpc3RvcnkiLCJzZXRIaXN0b3J5IiwiYXR0YWNoQ2hlY2tlZCIsInNldEF0dGFjaENoZWNrZWQiLCJzaG93TmV3Iiwic2V0U2hvd05ldyIsImR1ZSIsInNldER1ZSIsImJyYW5jaCIsInNldEJyYW5jaCIsImludGVuZGVkIiwic2V0SW50ZW5kZWQiLCJ0ZXN0cyIsInNldFRlc3RzIiwiYnVzeSIsInNldEJ1c3kiLCJlcnIiLCJzZXRFcnIiLCJjYW5TYXZlIiwiYWN0aXZlRXhwZWN0ZWRUb2tlbnMiLCJleHBlY3RlZF90ZXN0cyIsImxvYWQiLCJyZXMiLCJmZXRjaCIsImpzb24iLCJlcnJvciIsIkVycm9yIiwiYWxsIiwiZm9sbG93dXBzIiwiZiIsInBhdGllbnRfaWQiLCJhY3QiLCJmaW5kIiwic3RhdHVzIiwiaGlzdCIsInNsaWNlIiwicmV2ZXJzZSIsImUiLCJtZXNzYWdlIiwib25TYXZlIiwiaWQiLCJyIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZm9sbG93dXBfaWQiLCJjbG9zZWRfYnlfY29uc3VsdGF0aW9uX2lkIiwiaiIsImNyZWF0ZWRfZnJvbV9jb25zdWx0YXRpb25faWQiLCJyZXR1cm5fYnJhbmNoIiwiZHVlX2RhdGUiLCJpbnRlbmRlZF9vdXRjb21lIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDMiLCJzcGFuIiwibGVuZ3RoIiwidG9rIiwiY2FuY2VsX3JlYXNvbiIsImxhYmVsIiwiaW5wdXQiLCJ0eXBlIiwiY2hlY2tlZCIsIm9uQ2hhbmdlIiwidGFyZ2V0IiwiZGlzYWJsZWQiLCJidXR0b24iLCJvbkNsaWNrIiwicHJldiIsImFyaWEtZXhwYW5kZWQiLCJhcmlhLWNvbnRyb2xzIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJhcmlhLWhpZGRlbiIsInZhbHVlIiwic2VsZWN0Iiwib3B0aW9uIiwiYiIsInBsYWNlaG9sZGVyIiwidWwiLCJoIiwibGkiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/FollowUpPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx":
/*!************************************************************************!*\
  !*** ./app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx ***!
  \************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LabTestQuickSearch)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nfunction LabTestQuickSearch(param) {\n    let { value, onChange } = param;\n    _s();\n    const [tests, setTests] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [packages, setPackages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [packageMap, setPackageMap] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [query, setQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"LabTestQuickSearch.useEffect\": ()=>{\n            let cancelled = false;\n            ({\n                \"LabTestQuickSearch.useEffect\": async ()=>{\n                    try {\n                        setLoading(true);\n                        setError(null);\n                        const res = await fetch(\"/api/catalog/lab\");\n                        const data = await res.json();\n                        if (!res.ok || data.error) {\n                            throw new Error(data.error || \"Failed to load lab catalog\");\n                        }\n                        if (!cancelled) {\n                            const items = (data.tests || []).filter({\n                                \"LabTestQuickSearch.useEffect.items\": (t)=>t.code && t.name\n                            }[\"LabTestQuickSearch.useEffect.items\"]);\n                            setTests(items);\n                            const pkgs = (data.packages || []).filter({\n                                \"LabTestQuickSearch.useEffect.pkgs\": (p)=>p.code && p.name\n                            }[\"LabTestQuickSearch.useEffect.pkgs\"]);\n                            setPackages(pkgs);\n                            if (data.packageMap && typeof data.packageMap === \"object\") {\n                                setPackageMap(data.packageMap);\n                            }\n                        }\n                    } catch (err) {\n                        if (!cancelled) setError((err === null || err === void 0 ? void 0 : err.message) || \"Failed to load lab catalog\");\n                    } finally{\n                        if (!cancelled) setLoading(false);\n                    }\n                }\n            })[\"LabTestQuickSearch.useEffect\"]();\n            return ({\n                \"LabTestQuickSearch.useEffect\": ()=>{\n                    cancelled = true;\n                }\n            })[\"LabTestQuickSearch.useEffect\"];\n        }\n    }[\"LabTestQuickSearch.useEffect\"], []);\n    const tokens = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"LabTestQuickSearch.useMemo[tokens]\": ()=>(value || \"\").split(\",\").map({\n                \"LabTestQuickSearch.useMemo[tokens]\": (s)=>s.trim()\n            }[\"LabTestQuickSearch.useMemo[tokens]\"]).filter(Boolean)\n    }[\"LabTestQuickSearch.useMemo[tokens]\"], [\n        value\n    ]);\n    const filteredTests = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"LabTestQuickSearch.useMemo[filteredTests]\": ()=>{\n            const needle = query.trim().toLowerCase();\n            if (!needle) return [];\n            return tests.filter({\n                \"LabTestQuickSearch.useMemo[filteredTests]\": (t)=>t.code.toLowerCase().includes(needle) || t.name.toLowerCase().includes(needle)\n            }[\"LabTestQuickSearch.useMemo[filteredTests]\"]).slice(0, 8);\n        }\n    }[\"LabTestQuickSearch.useMemo[filteredTests]\"], [\n        query,\n        tests\n    ]);\n    const filteredPackages = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"LabTestQuickSearch.useMemo[filteredPackages]\": ()=>{\n            const needle = query.trim().toLowerCase();\n            if (!needle) return [];\n            return packages.filter({\n                \"LabTestQuickSearch.useMemo[filteredPackages]\": (p)=>p.code.toLowerCase().includes(needle) || p.name.toLowerCase().includes(needle)\n            }[\"LabTestQuickSearch.useMemo[filteredPackages]\"]).slice(0, 6);\n        }\n    }[\"LabTestQuickSearch.useMemo[filteredPackages]\"], [\n        query,\n        packages\n    ]);\n    const coverageHints = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"LabTestQuickSearch.useMemo[coverageHints]\": ()=>{\n            if (!tokens.length) return [];\n            const covered = new Set();\n            tokens.forEach({\n                \"LabTestQuickSearch.useMemo[coverageHints]\": (token)=>{\n                    const members = packageMap[token.toUpperCase()];\n                    if (members) {\n                        members.forEach({\n                            \"LabTestQuickSearch.useMemo[coverageHints]\": (m)=>covered.add(String(m).toUpperCase())\n                        }[\"LabTestQuickSearch.useMemo[coverageHints]\"]);\n                    }\n                }\n            }[\"LabTestQuickSearch.useMemo[coverageHints]\"]);\n            if (!covered.size) return [];\n            return tokens.filter({\n                \"LabTestQuickSearch.useMemo[coverageHints]\": (token)=>covered.has(token.toUpperCase())\n            }[\"LabTestQuickSearch.useMemo[coverageHints]\"]);\n        }\n    }[\"LabTestQuickSearch.useMemo[coverageHints]\"], [\n        tokens,\n        packageMap\n    ]);\n    function setTokens(next) {\n        onChange(next.join(\", \"));\n    }\n    function addToken(code) {\n        if (!code) return;\n        const set = new Set(tokens);\n        set.add(code);\n        setTokens(Array.from(set));\n        setQuery(\"\");\n    }\n    function removeToken(code) {\n        setTokens(tokens.filter((t)=>t !== code));\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-2\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                className: \"block text-xs text-gray-600 mb-1\",\n                children: \"Expected tests / bring-backs\"\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                lineNumber: 125,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                type: \"text\",\n                value: value,\n                onChange: (e)=>onChange(e.target.value),\n                className: \"w-full border rounded px-2 py-1 text-sm\",\n                placeholder: \"CSV of test codes or free text\"\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                lineNumber: 128,\n                columnNumber: 7\n            }, this),\n            !!tokens.length && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-wrap gap-2\",\n                children: tokens.map((token)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"pill-accent flex items-center gap-1 text-xs\",\n                        children: [\n                            token,\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                onClick: ()=>removeToken(token),\n                                \"aria-label\": \"Remove \".concat(token),\n                                className: \"text-gray-600\",\n                                children: \"\\xd7\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                                lineNumber: 140,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, token, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                        lineNumber: 138,\n                        columnNumber: 13\n                    }, this))\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                lineNumber: 136,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        type: \"text\",\n                        value: query,\n                        onChange: (e)=>setQuery(e.target.value),\n                        className: \"w-full border rounded px-2 py-1 text-sm\",\n                        placeholder: loading ? \"Loading tests\" : \"Type to search lab catalog (e.g., CBC)\",\n                        disabled: loading\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                        lineNumber: 153,\n                        columnNumber: 9\n                    }, this),\n                    !!query && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"border rounded mt-1 max-h-72 overflow-auto bg-white shadow-sm divide-y\",\n                        children: [\n                            filteredPackages.length === 0 && filteredTests.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-2 py-2 text-sm text-gray-500\",\n                                children: \"No matches\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                                lineNumber: 166,\n                                columnNumber: 15\n                            }, this),\n                            filteredPackages.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"py-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"px-2 pb-1 text-[11px] font-semibold uppercase tracking-wide text-gray-500\",\n                                        children: \"Packages\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                                        lineNumber: 171,\n                                        columnNumber: 17\n                                    }, this),\n                                    filteredPackages.map((pkg)=>{\n                                        const members = packageMap[pkg.code.toUpperCase()] || [];\n                                        const preview = members.slice(0, 4).join(\", \");\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            type: \"button\",\n                                            onClick: ()=>addToken(pkg.code),\n                                            className: \"w-full text-left px-3 py-2 text-sm hover:bg-gray-50\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex flex-wrap items-baseline gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"font-mono text-xs text-gray-600\",\n                                                            children: pkg.code\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                                                            lineNumber: 185,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: pkg.name\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                                                            lineNumber: 186,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        pkg.price ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-xs text-gray-500\",\n                                                            children: [\n                                                                \"\",\n                                                                Number(pkg.price).toLocaleString()\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                                                            lineNumber: 188,\n                                                            columnNumber: 27\n                                                        }, this) : null,\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-[11px] uppercase text-gray-400\",\n                                                            children: \"package\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                                                            lineNumber: 192,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                                                    lineNumber: 184,\n                                                    columnNumber: 23\n                                                }, this),\n                                                preview && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-1 text-[11px] text-gray-500\",\n                                                    children: [\n                                                        \"Includes: \",\n                                                        preview,\n                                                        members.length > 4 ? \" +\".concat(members.length - 4, \" more\") : \"\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                                                    lineNumber: 195,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, \"pkg-\".concat(pkg.code), true, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                                            lineNumber: 178,\n                                            columnNumber: 21\n                                        }, this);\n                                    })\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                                lineNumber: 170,\n                                columnNumber: 15\n                            }, this),\n                            filteredTests.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"py-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"px-2 pb-1 text-[11px] font-semibold uppercase tracking-wide text-gray-500\",\n                                        children: \"Tests\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                                        lineNumber: 208,\n                                        columnNumber: 17\n                                    }, this),\n                                    filteredTests.map((test)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            type: \"button\",\n                                            onClick: ()=>addToken(test.code),\n                                            className: \"w-full text-left px-3 py-2 text-sm hover:bg-gray-50\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"font-mono text-xs text-gray-600\",\n                                                    children: test.code\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                                                    lineNumber: 218,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"ml-2\",\n                                                    children: test.name\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                                                    lineNumber: 219,\n                                                    columnNumber: 21\n                                                }, this),\n                                                test.price ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"ml-2 text-gray-500 text-xs\",\n                                                    children: [\n                                                        \"\",\n                                                        Number(test.price).toLocaleString()\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                                                    lineNumber: 221,\n                                                    columnNumber: 23\n                                                }, this) : null\n                                            ]\n                                        }, \"test-\".concat(test.code), true, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                                            lineNumber: 212,\n                                            columnNumber: 19\n                                        }, this))\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                                lineNumber: 207,\n                                columnNumber: 15\n                            }, this),\n                            !!coverageHints.length && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-3 py-2 text-[11px] text-amber-700 bg-amber-50/70\",\n                                children: [\n                                    \"Covered by selected packages:\",\n                                    \" \",\n                                    coverageHints.map((tok)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"mr-2 font-mono\",\n                                            children: tok\n                                        }, tok, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                                            lineNumber: 234,\n                                            columnNumber: 19\n                                        }, this))\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                                lineNumber: 231,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                        lineNumber: 164,\n                        columnNumber: 11\n                    }, this),\n                    error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-xs text-red-600 mt-1\",\n                        children: error\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                        lineNumber: 240,\n                        columnNumber: 19\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n                lineNumber: 152,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\",\n        lineNumber: 124,\n        columnNumber: 5\n    }, this);\n}\n_s(LabTestQuickSearch, \"WGla+CY093RRsmNQUATET3Hj89Q=\");\n_c = LabTestQuickSearch;\nvar _c;\n$RefreshReg$(_c, \"LabTestQuickSearch\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8oZG9jdG9yKS9kb2N0b3IvcGF0aWVudC9bcGF0aWVudElkXS9MYWJUZXN0UXVpY2tTZWFyY2gudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUVxRDtBQW1CdEMsU0FBU0csbUJBQW1CLEtBQTBCO1FBQTFCLEVBQUVDLEtBQUssRUFBRUMsUUFBUSxFQUFTLEdBQTFCOztJQUN6QyxNQUFNLENBQUNDLE9BQU9DLFNBQVMsR0FBR0wsK0NBQVFBLENBQVksRUFBRTtJQUNoRCxNQUFNLENBQUNNLFVBQVVDLFlBQVksR0FBR1AsK0NBQVFBLENBQWUsRUFBRTtJQUN6RCxNQUFNLENBQUNRLFlBQVlDLGNBQWMsR0FBR1QsK0NBQVFBLENBQTJCLENBQUM7SUFDeEUsTUFBTSxDQUFDVSxPQUFPQyxTQUFTLEdBQUdYLCtDQUFRQSxDQUFDO0lBQ25DLE1BQU0sQ0FBQ1ksU0FBU0MsV0FBVyxHQUFHYiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNjLE9BQU9DLFNBQVMsR0FBR2YsK0NBQVFBLENBQWdCO0lBRWxERixnREFBU0E7d0NBQUM7WUFDUixJQUFJa0IsWUFBWTtZQUNoQjtnREFBQztvQkFDQyxJQUFJO3dCQUNGSCxXQUFXO3dCQUNYRSxTQUFTO3dCQUNULE1BQU1FLE1BQU0sTUFBTUMsTUFBTTt3QkFDeEIsTUFBTUMsT0FBTyxNQUFNRixJQUFJRyxJQUFJO3dCQUMzQixJQUFJLENBQUNILElBQUlJLEVBQUUsSUFBSUYsS0FBS0wsS0FBSyxFQUFFOzRCQUN6QixNQUFNLElBQUlRLE1BQU1ILEtBQUtMLEtBQUssSUFBSTt3QkFDaEM7d0JBQ0EsSUFBSSxDQUFDRSxXQUFXOzRCQUNkLE1BQU1PLFFBQW1CLENBQUNKLEtBQUtmLEtBQUssSUFBSSxFQUFFLEVBQUVvQixNQUFNO3NFQUFDLENBQUNDLElBQVdBLEVBQUVDLElBQUksSUFBSUQsRUFBRUUsSUFBSTs7NEJBQy9FdEIsU0FBU2tCOzRCQUNULE1BQU1LLE9BQXFCLENBQUNULEtBQUtiLFFBQVEsSUFBSSxFQUFFLEVBQUVrQixNQUFNO3FFQUFDLENBQUNLLElBQVdBLEVBQUVILElBQUksSUFBSUcsRUFBRUYsSUFBSTs7NEJBQ3BGcEIsWUFBWXFCOzRCQUNaLElBQUlULEtBQUtYLFVBQVUsSUFBSSxPQUFPVyxLQUFLWCxVQUFVLEtBQUssVUFBVTtnQ0FDMURDLGNBQWNVLEtBQUtYLFVBQVU7NEJBQy9CO3dCQUNGO29CQUNGLEVBQUUsT0FBT3NCLEtBQVU7d0JBQ2pCLElBQUksQ0FBQ2QsV0FBV0QsU0FBU2UsQ0FBQUEsZ0JBQUFBLDBCQUFBQSxJQUFLQyxPQUFPLEtBQUk7b0JBQzNDLFNBQVU7d0JBQ1IsSUFBSSxDQUFDZixXQUFXSCxXQUFXO29CQUM3QjtnQkFDRjs7WUFDQTtnREFBTztvQkFDTEcsWUFBWTtnQkFDZDs7UUFDRjt1Q0FBRyxFQUFFO0lBRUwsTUFBTWdCLFNBQVNqQyw4Q0FBT0E7OENBQ3BCLElBQ0UsQ0FBQ0csU0FBUyxFQUFDLEVBQ1IrQixLQUFLLENBQUMsS0FDTkMsR0FBRztzREFBQyxDQUFDQyxJQUFNQSxFQUFFQyxJQUFJO3FEQUNqQlosTUFBTSxDQUFDYTs2Q0FDWjtRQUFDbkM7S0FBTTtJQUdULE1BQU1vQyxnQkFBZ0J2Qyw4Q0FBT0E7cURBQUM7WUFDNUIsTUFBTXdDLFNBQVM3QixNQUFNMEIsSUFBSSxHQUFHSSxXQUFXO1lBQ3ZDLElBQUksQ0FBQ0QsUUFBUSxPQUFPLEVBQUU7WUFDdEIsT0FBT25DLE1BQ0pvQixNQUFNOzZEQUNMLENBQUNDLElBQ0NBLEVBQUVDLElBQUksQ0FBQ2MsV0FBVyxHQUFHQyxRQUFRLENBQUNGLFdBQzlCZCxFQUFFRSxJQUFJLENBQUNhLFdBQVcsR0FBR0MsUUFBUSxDQUFDRjs0REFFakNHLEtBQUssQ0FBQyxHQUFHO1FBQ2Q7b0RBQUc7UUFBQ2hDO1FBQU9OO0tBQU07SUFFakIsTUFBTXVDLG1CQUFtQjVDLDhDQUFPQTt3REFBQztZQUMvQixNQUFNd0MsU0FBUzdCLE1BQU0wQixJQUFJLEdBQUdJLFdBQVc7WUFDdkMsSUFBSSxDQUFDRCxRQUFRLE9BQU8sRUFBRTtZQUN0QixPQUFPakMsU0FDSmtCLE1BQU07Z0VBQ0wsQ0FBQ0ssSUFDQ0EsRUFBRUgsSUFBSSxDQUFDYyxXQUFXLEdBQUdDLFFBQVEsQ0FBQ0YsV0FDOUJWLEVBQUVGLElBQUksQ0FBQ2EsV0FBVyxHQUFHQyxRQUFRLENBQUNGOytEQUVqQ0csS0FBSyxDQUFDLEdBQUc7UUFDZDt1REFBRztRQUFDaEM7UUFBT0o7S0FBUztJQUVwQixNQUFNc0MsZ0JBQWdCN0MsOENBQU9BO3FEQUFDO1lBQzVCLElBQUksQ0FBQ2lDLE9BQU9hLE1BQU0sRUFBRSxPQUFPLEVBQUU7WUFDN0IsTUFBTUMsVUFBVSxJQUFJQztZQUNwQmYsT0FBT2dCLE9BQU87NkRBQUMsQ0FBQ0M7b0JBQ2QsTUFBTUMsVUFBVTFDLFVBQVUsQ0FBQ3lDLE1BQU1FLFdBQVcsR0FBRztvQkFDL0MsSUFBSUQsU0FBUzt3QkFDWEEsUUFBUUYsT0FBTzt5RUFBQyxDQUFDSSxJQUFNTixRQUFRTyxHQUFHLENBQUNDLE9BQU9GLEdBQUdELFdBQVc7O29CQUMxRDtnQkFDRjs7WUFDQSxJQUFJLENBQUNMLFFBQVFTLElBQUksRUFBRSxPQUFPLEVBQUU7WUFDNUIsT0FBT3ZCLE9BQU9SLE1BQU07NkRBQUMsQ0FBQ3lCLFFBQVVILFFBQVFVLEdBQUcsQ0FBQ1AsTUFBTUUsV0FBVzs7UUFDL0Q7b0RBQUc7UUFBQ25CO1FBQVF4QjtLQUFXO0lBRXZCLFNBQVNpRCxVQUFVQyxJQUFjO1FBQy9CdkQsU0FBU3VELEtBQUtDLElBQUksQ0FBQztJQUNyQjtJQUVBLFNBQVNDLFNBQVNsQyxJQUFZO1FBQzVCLElBQUksQ0FBQ0EsTUFBTTtRQUNYLE1BQU1tQyxNQUFNLElBQUlkLElBQUlmO1FBQ3BCNkIsSUFBSVIsR0FBRyxDQUFDM0I7UUFDUitCLFVBQVVLLE1BQU1DLElBQUksQ0FBQ0Y7UUFDckJsRCxTQUFTO0lBQ1g7SUFFQSxTQUFTcUQsWUFBWXRDLElBQVk7UUFDL0IrQixVQUFVekIsT0FBT1IsTUFBTSxDQUFDLENBQUNDLElBQU1BLE1BQU1DO0lBQ3ZDO0lBRUEscUJBQ0UsOERBQUN1QztRQUFJQyxXQUFVOzswQkFDYiw4REFBQ0M7Z0JBQU1ELFdBQVU7MEJBQW1DOzs7Ozs7MEJBR3BELDhEQUFDRTtnQkFDQ0MsTUFBSztnQkFDTG5FLE9BQU9BO2dCQUNQQyxVQUFVLENBQUNtRSxJQUFNbkUsU0FBU21FLEVBQUVDLE1BQU0sQ0FBQ3JFLEtBQUs7Z0JBQ3hDZ0UsV0FBVTtnQkFDVk0sYUFBWTs7Ozs7O1lBRWIsQ0FBQyxDQUFDeEMsT0FBT2EsTUFBTSxrQkFDZCw4REFBQ29CO2dCQUFJQyxXQUFVOzBCQUNabEMsT0FBT0UsR0FBRyxDQUFDLENBQUNlLHNCQUNYLDhEQUFDd0I7d0JBQWlCUCxXQUFVOzs0QkFDekJqQjswQ0FDRCw4REFBQ3lCO2dDQUNDTCxNQUFLO2dDQUNMTSxTQUFTLElBQU1YLFlBQVlmO2dDQUMzQjJCLGNBQVksVUFBZ0IsT0FBTjNCO2dDQUN0QmlCLFdBQVU7MENBQ1g7Ozs7Ozs7dUJBUFFqQjs7Ozs7Ozs7OzswQkFjakIsOERBQUNnQjs7a0NBQ0MsOERBQUNHO3dCQUNDQyxNQUFLO3dCQUNMbkUsT0FBT1E7d0JBQ1BQLFVBQVUsQ0FBQ21FLElBQU0zRCxTQUFTMkQsRUFBRUMsTUFBTSxDQUFDckUsS0FBSzt3QkFDeENnRSxXQUFVO3dCQUNWTSxhQUNFNUQsVUFBVSxtQkFBbUI7d0JBRS9CaUUsVUFBVWpFOzs7Ozs7b0JBRVgsQ0FBQyxDQUFDRix1QkFDRCw4REFBQ3VEO3dCQUFJQyxXQUFVOzs0QkFDWnZCLGlCQUFpQkUsTUFBTSxLQUFLLEtBQUtQLGNBQWNPLE1BQU0sS0FBSyxtQkFDekQsOERBQUNvQjtnQ0FBSUMsV0FBVTswQ0FBa0M7Ozs7Ozs0QkFHbER2QixpQkFBaUJFLE1BQU0sR0FBRyxtQkFDekIsOERBQUNvQjtnQ0FBSUMsV0FBVTs7a0RBQ2IsOERBQUNEO3dDQUFJQyxXQUFVO2tEQUE0RTs7Ozs7O29DQUcxRnZCLGlCQUFpQlQsR0FBRyxDQUFDLENBQUM0Qzt3Q0FDckIsTUFBTTVCLFVBQVUxQyxVQUFVLENBQUNzRSxJQUFJcEQsSUFBSSxDQUFDeUIsV0FBVyxHQUFHLElBQUksRUFBRTt3Q0FDeEQsTUFBTTRCLFVBQVU3QixRQUFRUixLQUFLLENBQUMsR0FBRyxHQUFHaUIsSUFBSSxDQUFDO3dDQUN6QyxxQkFDRSw4REFBQ2U7NENBRUNMLE1BQUs7NENBQ0xNLFNBQVMsSUFBTWYsU0FBU2tCLElBQUlwRCxJQUFJOzRDQUNoQ3dDLFdBQVU7OzhEQUVWLDhEQUFDRDtvREFBSUMsV0FBVTs7c0VBQ2IsOERBQUNPOzREQUFLUCxXQUFVO3NFQUFtQ1ksSUFBSXBELElBQUk7Ozs7OztzRUFDM0QsOERBQUMrQztzRUFBTUssSUFBSW5ELElBQUk7Ozs7Ozt3REFDZG1ELElBQUlFLEtBQUssaUJBQ1IsOERBQUNQOzREQUFLUCxXQUFVOztnRUFBd0I7Z0VBQ3BDZSxPQUFPSCxJQUFJRSxLQUFLLEVBQUVFLGNBQWM7Ozs7OzttRUFFbEM7c0VBQ0osOERBQUNUOzREQUFLUCxXQUFVO3NFQUFzQzs7Ozs7Ozs7Ozs7O2dEQUV2RGEseUJBQ0MsOERBQUNkO29EQUFJQyxXQUFVOzt3REFBaUM7d0RBQ25DYTt3REFDVjdCLFFBQVFMLE1BQU0sR0FBRyxJQUFJLEtBQXdCLE9BQW5CSyxRQUFRTCxNQUFNLEdBQUcsR0FBRSxXQUFTOzs7Ozs7OzsyQ0FsQnRELE9BQWdCLE9BQVRpQyxJQUFJcEQsSUFBSTs7Ozs7b0NBdUIxQjs7Ozs7Ozs0QkFJSFksY0FBY08sTUFBTSxHQUFHLG1CQUN0Qiw4REFBQ29CO2dDQUFJQyxXQUFVOztrREFDYiw4REFBQ0Q7d0NBQUlDLFdBQVU7a0RBQTRFOzs7Ozs7b0NBRzFGNUIsY0FBY0osR0FBRyxDQUFDLENBQUNpRCxxQkFDbEIsOERBQUNUOzRDQUVDTCxNQUFLOzRDQUNMTSxTQUFTLElBQU1mLFNBQVN1QixLQUFLekQsSUFBSTs0Q0FDakN3QyxXQUFVOzs4REFFViw4REFBQ087b0RBQUtQLFdBQVU7OERBQW1DaUIsS0FBS3pELElBQUk7Ozs7Ozs4REFDNUQsOERBQUMrQztvREFBS1AsV0FBVTs4REFBUWlCLEtBQUt4RCxJQUFJOzs7Ozs7Z0RBQ2hDd0QsS0FBS0gsS0FBSyxpQkFDVCw4REFBQ1A7b0RBQUtQLFdBQVU7O3dEQUE2Qjt3REFDekNlLE9BQU9FLEtBQUtILEtBQUssRUFBRUUsY0FBYzs7Ozs7OzJEQUVuQzs7MkNBWEMsUUFBa0IsT0FBVkMsS0FBS3pELElBQUk7Ozs7Ozs7Ozs7OzRCQWlCN0IsQ0FBQyxDQUFDa0IsY0FBY0MsTUFBTSxrQkFDckIsOERBQUNvQjtnQ0FBSUMsV0FBVTs7b0NBQXNEO29DQUNyQztvQ0FDN0J0QixjQUFjVixHQUFHLENBQUMsQ0FBQ2tELG9CQUNsQiw4REFBQ1g7NENBQWVQLFdBQVU7c0RBQWtCa0I7MkNBQWpDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBTXBCdEUsdUJBQVMsOERBQUNtRDt3QkFBSUMsV0FBVTtrQ0FBNkJwRDs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSTlEO0dBOU53QmI7S0FBQUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb2Nob2xvL1Byb2plY3RzL3dlbGxzZXJ2LXBvcnRhbC9hcHBzL3dlYi9hcHAvKGRvY3RvcikvZG9jdG9yL3BhdGllbnQvW3BhdGllbnRJZF0vTGFiVGVzdFF1aWNrU2VhcmNoLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuXG50eXBlIExhYlRlc3QgPSB7XG4gIGNvZGU6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBwcmljZT86IG51bWJlciB8IG51bGw7XG59O1xuXG50eXBlIExhYlBhY2thZ2UgPSB7XG4gIGNvZGU6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBwcmljZT86IG51bWJlciB8IG51bGw7XG59O1xuXG50eXBlIFByb3BzID0ge1xuICB2YWx1ZTogc3RyaW5nO1xuICBvbkNoYW5nZTogKG5leHQ6IHN0cmluZykgPT4gdm9pZDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIExhYlRlc3RRdWlja1NlYXJjaCh7IHZhbHVlLCBvbkNoYW5nZSB9OiBQcm9wcykge1xuICBjb25zdCBbdGVzdHMsIHNldFRlc3RzXSA9IHVzZVN0YXRlPExhYlRlc3RbXT4oW10pO1xuICBjb25zdCBbcGFja2FnZXMsIHNldFBhY2thZ2VzXSA9IHVzZVN0YXRlPExhYlBhY2thZ2VbXT4oW10pO1xuICBjb25zdCBbcGFja2FnZU1hcCwgc2V0UGFja2FnZU1hcF0gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT4+KHt9KTtcbiAgY29uc3QgW3F1ZXJ5LCBzZXRRdWVyeV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGNhbmNlbGxlZCA9IGZhbHNlO1xuICAgIChhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCIvYXBpL2NhdGFsb2cvbGFiXCIpO1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgaWYgKCFyZXMub2sgfHwgZGF0YS5lcnJvcikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLmVycm9yIHx8IFwiRmFpbGVkIHRvIGxvYWQgbGFiIGNhdGFsb2dcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjYW5jZWxsZWQpIHtcbiAgICAgICAgICBjb25zdCBpdGVtczogTGFiVGVzdFtdID0gKGRhdGEudGVzdHMgfHwgW10pLmZpbHRlcigodDogYW55KSA9PiB0LmNvZGUgJiYgdC5uYW1lKTtcbiAgICAgICAgICBzZXRUZXN0cyhpdGVtcyk7XG4gICAgICAgICAgY29uc3QgcGtnczogTGFiUGFja2FnZVtdID0gKGRhdGEucGFja2FnZXMgfHwgW10pLmZpbHRlcigocDogYW55KSA9PiBwLmNvZGUgJiYgcC5uYW1lKTtcbiAgICAgICAgICBzZXRQYWNrYWdlcyhwa2dzKTtcbiAgICAgICAgICBpZiAoZGF0YS5wYWNrYWdlTWFwICYmIHR5cGVvZiBkYXRhLnBhY2thZ2VNYXAgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIHNldFBhY2thZ2VNYXAoZGF0YS5wYWNrYWdlTWFwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICAgIGlmICghY2FuY2VsbGVkKSBzZXRFcnJvcihlcnI/Lm1lc3NhZ2UgfHwgXCJGYWlsZWQgdG8gbG9hZCBsYWIgY2F0YWxvZ1wiKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmICghY2FuY2VsbGVkKSBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjYW5jZWxsZWQgPSB0cnVlO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICBjb25zdCB0b2tlbnMgPSB1c2VNZW1vKFxuICAgICgpID0+XG4gICAgICAodmFsdWUgfHwgXCJcIilcbiAgICAgICAgLnNwbGl0KFwiLFwiKVxuICAgICAgICAubWFwKChzKSA9PiBzLnRyaW0oKSlcbiAgICAgICAgLmZpbHRlcihCb29sZWFuKSxcbiAgICBbdmFsdWVdXG4gICk7XG5cbiAgY29uc3QgZmlsdGVyZWRUZXN0cyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IG5lZWRsZSA9IHF1ZXJ5LnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICghbmVlZGxlKSByZXR1cm4gW107XG4gICAgcmV0dXJuIHRlc3RzXG4gICAgICAuZmlsdGVyKFxuICAgICAgICAodCkgPT5cbiAgICAgICAgICB0LmNvZGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhuZWVkbGUpIHx8XG4gICAgICAgICAgdC5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobmVlZGxlKVxuICAgICAgKVxuICAgICAgLnNsaWNlKDAsIDgpO1xuICB9LCBbcXVlcnksIHRlc3RzXSk7XG5cbiAgY29uc3QgZmlsdGVyZWRQYWNrYWdlcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IG5lZWRsZSA9IHF1ZXJ5LnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICghbmVlZGxlKSByZXR1cm4gW107XG4gICAgcmV0dXJuIHBhY2thZ2VzXG4gICAgICAuZmlsdGVyKFxuICAgICAgICAocCkgPT5cbiAgICAgICAgICBwLmNvZGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhuZWVkbGUpIHx8XG4gICAgICAgICAgcC5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobmVlZGxlKVxuICAgICAgKVxuICAgICAgLnNsaWNlKDAsIDYpO1xuICB9LCBbcXVlcnksIHBhY2thZ2VzXSk7XG5cbiAgY29uc3QgY292ZXJhZ2VIaW50cyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghdG9rZW5zLmxlbmd0aCkgcmV0dXJuIFtdO1xuICAgIGNvbnN0IGNvdmVyZWQgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICB0b2tlbnMuZm9yRWFjaCgodG9rZW4pID0+IHtcbiAgICAgIGNvbnN0IG1lbWJlcnMgPSBwYWNrYWdlTWFwW3Rva2VuLnRvVXBwZXJDYXNlKCldO1xuICAgICAgaWYgKG1lbWJlcnMpIHtcbiAgICAgICAgbWVtYmVycy5mb3JFYWNoKChtKSA9PiBjb3ZlcmVkLmFkZChTdHJpbmcobSkudG9VcHBlckNhc2UoKSkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghY292ZXJlZC5zaXplKSByZXR1cm4gW107XG4gICAgcmV0dXJuIHRva2Vucy5maWx0ZXIoKHRva2VuKSA9PiBjb3ZlcmVkLmhhcyh0b2tlbi50b1VwcGVyQ2FzZSgpKSk7XG4gIH0sIFt0b2tlbnMsIHBhY2thZ2VNYXBdKTtcblxuICBmdW5jdGlvbiBzZXRUb2tlbnMobmV4dDogc3RyaW5nW10pIHtcbiAgICBvbkNoYW5nZShuZXh0LmpvaW4oXCIsIFwiKSk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRUb2tlbihjb2RlOiBzdHJpbmcpIHtcbiAgICBpZiAoIWNvZGUpIHJldHVybjtcbiAgICBjb25zdCBzZXQgPSBuZXcgU2V0KHRva2Vucyk7XG4gICAgc2V0LmFkZChjb2RlKTtcbiAgICBzZXRUb2tlbnMoQXJyYXkuZnJvbShzZXQpKTtcbiAgICBzZXRRdWVyeShcIlwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZVRva2VuKGNvZGU6IHN0cmluZykge1xuICAgIHNldFRva2Vucyh0b2tlbnMuZmlsdGVyKCh0KSA9PiB0ICE9PSBjb2RlKSk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC14cyB0ZXh0LWdyYXktNjAwIG1iLTFcIj5cbiAgICAgICAgRXhwZWN0ZWQgdGVzdHMgLyBicmluZy1iYWNrc1xuICAgICAgPC9sYWJlbD5cbiAgICAgIDxpbnB1dFxuICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBvbkNoYW5nZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBib3JkZXIgcm91bmRlZCBweC0yIHB5LTEgdGV4dC1zbVwiXG4gICAgICAgIHBsYWNlaG9sZGVyPVwiQ1NWIG9mIHRlc3QgY29kZXMgb3IgZnJlZSB0ZXh0XCJcbiAgICAgIC8+XG4gICAgICB7ISF0b2tlbnMubGVuZ3RoICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBnYXAtMlwiPlxuICAgICAgICAgIHt0b2tlbnMubWFwKCh0b2tlbikgPT4gKFxuICAgICAgICAgICAgPHNwYW4ga2V5PXt0b2tlbn0gY2xhc3NOYW1lPVwicGlsbC1hY2NlbnQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgdGV4dC14c1wiPlxuICAgICAgICAgICAgICB7dG9rZW59XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiByZW1vdmVUb2tlbih0b2tlbil9XG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17YFJlbW92ZSAke3Rva2VufWB9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICDDl1xuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgPGRpdj5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgIHZhbHVlPXtxdWVyeX1cbiAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFF1ZXJ5KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9yZGVyIHJvdW5kZWQgcHgtMiBweS0xIHRleHQtc21cIlxuICAgICAgICAgIHBsYWNlaG9sZGVyPXtcbiAgICAgICAgICAgIGxvYWRpbmcgPyBcIkxvYWRpbmcgdGVzdHPigKZcIiA6IFwiVHlwZSB0byBzZWFyY2ggbGFiIGNhdGFsb2cgKGUuZy4sIENCQylcIlxuICAgICAgICAgIH1cbiAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cbiAgICAgICAgLz5cbiAgICAgICAgeyEhcXVlcnkgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyIHJvdW5kZWQgbXQtMSBtYXgtaC03MiBvdmVyZmxvdy1hdXRvIGJnLXdoaXRlIHNoYWRvdy1zbSBkaXZpZGUteVwiPlxuICAgICAgICAgICAge2ZpbHRlcmVkUGFja2FnZXMubGVuZ3RoID09PSAwICYmIGZpbHRlcmVkVGVzdHMubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC0yIHB5LTIgdGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+Tm8gbWF0Y2hlczwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAge2ZpbHRlcmVkUGFja2FnZXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHktMVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtMiBwYi0xIHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgUGFja2FnZXNcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7ZmlsdGVyZWRQYWNrYWdlcy5tYXAoKHBrZykgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgbWVtYmVycyA9IHBhY2thZ2VNYXBbcGtnLmNvZGUudG9VcHBlckNhc2UoKV0gfHwgW107XG4gICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aWV3ID0gbWVtYmVycy5zbGljZSgwLCA0KS5qb2luKFwiLCBcIik7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAga2V5PXtgcGtnLSR7cGtnLmNvZGV9YH1cbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBhZGRUb2tlbihwa2cuY29kZSl9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCBweC0zIHB5LTIgdGV4dC1zbSBob3ZlcjpiZy1ncmF5LTUwXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgaXRlbXMtYmFzZWxpbmUgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbW9ubyB0ZXh0LXhzIHRleHQtZ3JheS02MDBcIj57cGtnLmNvZGV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e3BrZy5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtwa2cucHJpY2UgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKCsXtOdW1iZXIocGtnLnByaWNlKS50b0xvY2FsZVN0cmluZygpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWzExcHhdIHVwcGVyY2FzZSB0ZXh0LWdyYXktNDAwXCI+cGFja2FnZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICB7cHJldmlldyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTEgdGV4dC1bMTFweF0gdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBJbmNsdWRlczoge3ByZXZpZXd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHttZW1iZXJzLmxlbmd0aCA+IDQgPyBgICske21lbWJlcnMubGVuZ3RoIC0gNH0gbW9yZWAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHtmaWx0ZXJlZFRlc3RzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB5LTFcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTIgcGItMSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgIFRlc3RzXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAge2ZpbHRlcmVkVGVzdHMubWFwKCh0ZXN0KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGtleT17YHRlc3QtJHt0ZXN0LmNvZGV9YH1cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGFkZFRva2VuKHRlc3QuY29kZSl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LWxlZnQgcHgtMyBweS0yIHRleHQtc20gaG92ZXI6YmctZ3JheS01MFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbW9ubyB0ZXh0LXhzIHRleHQtZ3JheS02MDBcIj57dGVzdC5jb2RlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMlwiPnt0ZXN0Lm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICB7dGVzdC5wcmljZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0yIHRleHQtZ3JheS01MDAgdGV4dC14c1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAg4oKxe051bWJlcih0ZXN0LnByaWNlKS50b0xvY2FsZVN0cmluZygpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7ISFjb3ZlcmFnZUhpbnRzLmxlbmd0aCAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtMyBweS0yIHRleHQtWzExcHhdIHRleHQtYW1iZXItNzAwIGJnLWFtYmVyLTUwLzcwXCI+XG4gICAgICAgICAgICAgICAgQ292ZXJlZCBieSBzZWxlY3RlZCBwYWNrYWdlczp7XCIgXCJ9XG4gICAgICAgICAgICAgICAge2NvdmVyYWdlSGludHMubWFwKCh0b2spID0+IChcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGtleT17dG9rfSBjbGFzc05hbWU9XCJtci0yIGZvbnQtbW9ub1wiPnt0b2t9PC9zcGFuPlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICAgIHtlcnJvciAmJiA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1yZWQtNjAwIG10LTFcIj57ZXJyb3J9PC9kaXY+fVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlTWVtbyIsInVzZVN0YXRlIiwiTGFiVGVzdFF1aWNrU2VhcmNoIiwidmFsdWUiLCJvbkNoYW5nZSIsInRlc3RzIiwic2V0VGVzdHMiLCJwYWNrYWdlcyIsInNldFBhY2thZ2VzIiwicGFja2FnZU1hcCIsInNldFBhY2thZ2VNYXAiLCJxdWVyeSIsInNldFF1ZXJ5IiwibG9hZGluZyIsInNldExvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwiY2FuY2VsbGVkIiwicmVzIiwiZmV0Y2giLCJkYXRhIiwianNvbiIsIm9rIiwiRXJyb3IiLCJpdGVtcyIsImZpbHRlciIsInQiLCJjb2RlIiwibmFtZSIsInBrZ3MiLCJwIiwiZXJyIiwibWVzc2FnZSIsInRva2VucyIsInNwbGl0IiwibWFwIiwicyIsInRyaW0iLCJCb29sZWFuIiwiZmlsdGVyZWRUZXN0cyIsIm5lZWRsZSIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJzbGljZSIsImZpbHRlcmVkUGFja2FnZXMiLCJjb3ZlcmFnZUhpbnRzIiwibGVuZ3RoIiwiY292ZXJlZCIsIlNldCIsImZvckVhY2giLCJ0b2tlbiIsIm1lbWJlcnMiLCJ0b1VwcGVyQ2FzZSIsIm0iLCJhZGQiLCJTdHJpbmciLCJzaXplIiwiaGFzIiwic2V0VG9rZW5zIiwibmV4dCIsImpvaW4iLCJhZGRUb2tlbiIsInNldCIsIkFycmF5IiwiZnJvbSIsInJlbW92ZVRva2VuIiwiZGl2IiwiY2xhc3NOYW1lIiwibGFiZWwiLCJpbnB1dCIsInR5cGUiLCJlIiwidGFyZ2V0IiwicGxhY2Vob2xkZXIiLCJzcGFuIiwiYnV0dG9uIiwib25DbGljayIsImFyaWEtbGFiZWwiLCJkaXNhYmxlZCIsInBrZyIsInByZXZpZXciLCJwcmljZSIsIk51bWJlciIsInRvTG9jYWxlU3RyaW5nIiwidGVzdCIsInRvayJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/LabTestQuickSearch.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx":
/*!******************************************************************************!*\
  !*** ./app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx ***!
  \******************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MedicalCertificateDrawer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_medicalCertificateSchema__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/medicalCertificateSchema */ \"(app-pages-browser)/./lib/medicalCertificateSchema.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\nconst formatter = new Intl.DateTimeFormat(\"en-PH\", {\n    year: \"numeric\",\n    month: \"short\",\n    day: \"2-digit\",\n    hour: \"2-digit\",\n    minute: \"2-digit\"\n});\nfunction formatDate(iso) {\n    if (!iso) return \"\";\n    const dt = new Date(iso);\n    return Number.isNaN(+dt) ? iso : formatter.format(dt);\n}\nfunction formatBirthday(iso) {\n    if (!iso) return \"\";\n    const dt = new Date(iso);\n    return Number.isNaN(+dt) ? iso : new Intl.DateTimeFormat(\"en-PH\", {\n        year: \"numeric\",\n        month: \"short\",\n        day: \"2-digit\"\n    }).format(dt);\n}\nfunction computeAge(birthday) {\n    if (!birthday) return null;\n    const dob = new Date(birthday);\n    if (Number.isNaN(+dob)) return null;\n    const today = new Date();\n    let age = today.getFullYear() - dob.getFullYear();\n    const m = today.getMonth() - dob.getMonth();\n    if (m < 0 || m === 0 && today.getDate() < dob.getDate()) age--;\n    return age;\n}\nfunction generateClientId() {\n    if (typeof crypto !== \"undefined\" && typeof crypto.randomUUID === \"function\") {\n        return crypto.randomUUID();\n    }\n    return Math.random().toString(36).slice(2, 10);\n}\nfunction MedicalCertificateDrawer(param) {\n    let { open, onClose, patientId, consultationId, encounterId, onIssued } = param;\n    var _formData_patient, _formData_patient1, _formData_patient2, _formData_patient3, _formData_patient4, _formData_patient5, _formData_consultation_reference, _formData_consultation_reference1, _formData_encounter_reference, _formData_encounter_reference1;\n    _s();\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [supportingLoading, setSupportingLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [formData, setFormData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [physicalExam, setPhysicalExam] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_lib_medicalCertificateSchema__WEBPACK_IMPORTED_MODULE_2__.createDefaultPhysicalExam);\n    const [diagnosisText, setDiagnosisText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [remarks, setRemarks] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [advice, setAdvice] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [findingsSummary, setFindingsSummary] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [successMessage, setSuccessMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [suggestions, setSuggestions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [customSupporting, setCustomSupporting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [history, setHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [historyLoading, setHistoryLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [existingCertificate, setExistingCertificate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [existingLoading, setExistingLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [labSearch, setLabSearch] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [labResults, setLabResults] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [labSearchLoading, setLabSearchLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [labSearchError, setLabSearchError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MedicalCertificateDrawer.useEffect\": ()=>{\n            if (!open) return;\n            let ignore = false;\n            const controller = new AbortController();\n            async function load() {\n                setLoading(true);\n                setError(null);\n                setSuccessMessage(null);\n                try {\n                    var _data_defaults, _data_defaults1, _data_defaults2;\n                    const params = new URLSearchParams({\n                        patient_id: patientId,\n                        consultation_id: consultationId,\n                        encounter_id: encounterId\n                    });\n                    const res = await fetch(\"/api/doctor/medical-certificates/form-data?\".concat(params), {\n                        cache: \"no-store\",\n                        signal: controller.signal\n                    });\n                    const data = await res.json();\n                    if (!res.ok) throw new Error((data === null || data === void 0 ? void 0 : data.error) || \"Failed (\".concat(res.status, \")\"));\n                    if (ignore) return;\n                    setFormData(data);\n                    const exam = data.physical_exam || (0,_lib_medicalCertificateSchema__WEBPACK_IMPORTED_MODULE_2__.createDefaultPhysicalExam)();\n                    setPhysicalExam(exam);\n                    setDiagnosisText(((_data_defaults = data.defaults) === null || _data_defaults === void 0 ? void 0 : _data_defaults.diagnosis_text) || \"\");\n                    setRemarks(((_data_defaults1 = data.defaults) === null || _data_defaults1 === void 0 ? void 0 : _data_defaults1.remarks) || \"\");\n                    setAdvice(((_data_defaults2 = data.defaults) === null || _data_defaults2 === void 0 ? void 0 : _data_defaults2.advice) || \"\");\n                    setFindingsSummary(data.findings_summary || \"\");\n                } catch (err) {\n                    if (ignore) return;\n                    setError((err === null || err === void 0 ? void 0 : err.message) || \"Failed to load data.\");\n                } finally{\n                    if (!ignore) setLoading(false);\n                }\n            }\n            load();\n            return ({\n                \"MedicalCertificateDrawer.useEffect\": ()=>{\n                    ignore = true;\n                    controller.abort();\n                }\n            })[\"MedicalCertificateDrawer.useEffect\"];\n        }\n    }[\"MedicalCertificateDrawer.useEffect\"], [\n        open,\n        patientId,\n        consultationId,\n        encounterId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MedicalCertificateDrawer.useEffect\": ()=>{\n            if (!open) return;\n            let ignore = false;\n            async function loadSuggestions() {\n                setSupportingLoading(true);\n                try {\n                    const params = new URLSearchParams({\n                        patient_id: patientId,\n                        consultation_id: consultationId,\n                        encounter_id: encounterId\n                    });\n                    const res = await fetch(\"/api/doctor/medical-certificates/supporting-data?\".concat(params), {\n                        cache: \"no-store\"\n                    });\n                    const data = await res.json();\n                    if (!res.ok) throw new Error((data === null || data === void 0 ? void 0 : data.error) || \"Failed (\".concat(res.status, \")\"));\n                    if (ignore) return;\n                    const mapped = (data.suggestions || []).map({\n                        \"MedicalCertificateDrawer.useEffect.loadSuggestions.mapped\": (item, idx)=>({\n                                key: \"suggestion-\".concat(item.source_id || idx),\n                                type: item.type || \"note\",\n                                label: item.label || \"Supporting data\",\n                                summary: item.summary || \"\",\n                                source_id: item.source_id || null,\n                                checked: true\n                            })\n                    }[\"MedicalCertificateDrawer.useEffect.loadSuggestions.mapped\"]);\n                    setSuggestions(mapped);\n                } catch (err) {\n                    if (!ignore) {\n                        console.warn(\"supporting data load error\", err);\n                    }\n                } finally{\n                    if (!ignore) setSupportingLoading(false);\n                }\n            }\n            loadSuggestions();\n            return ({\n                \"MedicalCertificateDrawer.useEffect\": ()=>{\n                    ignore = true;\n                }\n            })[\"MedicalCertificateDrawer.useEffect\"];\n        }\n    }[\"MedicalCertificateDrawer.useEffect\"], [\n        open,\n        patientId,\n        consultationId,\n        encounterId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MedicalCertificateDrawer.useEffect\": ()=>{\n            if (!open) return;\n            let ignore = false;\n            async function loadHistory() {\n                setHistoryLoading(true);\n                try {\n                    const params = new URLSearchParams({\n                        patient_id: patientId,\n                        limit: \"5\"\n                    });\n                    const res = await fetch(\"/api/doctor/medical-certificates?\".concat(params), {\n                        cache: \"no-store\"\n                    });\n                    const data = await res.json();\n                    if (!res.ok) throw new Error((data === null || data === void 0 ? void 0 : data.error) || \"Failed (\".concat(res.status, \")\"));\n                    if (ignore) return;\n                    setHistory(data.items || []);\n                } catch (err) {\n                    if (!ignore) console.warn(\"history load failed\", err);\n                } finally{\n                    if (!ignore) setHistoryLoading(false);\n                }\n            }\n            loadHistory();\n            return ({\n                \"MedicalCertificateDrawer.useEffect\": ()=>{\n                    ignore = true;\n                }\n            })[\"MedicalCertificateDrawer.useEffect\"];\n        }\n    }[\"MedicalCertificateDrawer.useEffect\"], [\n        open,\n        patientId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MedicalCertificateDrawer.useEffect\": ()=>{\n            if (!open) return;\n            let ignore = false;\n            async function loadExistingCertificate() {\n                if (!consultationId) return;\n                setExistingLoading(true);\n                try {\n                    const params = new URLSearchParams({\n                        patient_id: patientId,\n                        consultation_id: consultationId,\n                        limit: \"1\"\n                    });\n                    const res = await fetch(\"/api/doctor/medical-certificates?\".concat(params), {\n                        cache: \"no-store\"\n                    });\n                    const data = await res.json();\n                    if (!res.ok) throw new Error((data === null || data === void 0 ? void 0 : data.error) || \"Failed (\".concat(res.status, \")\"));\n                    if (ignore) return;\n                    const match = Array.isArray(data.items) ? data.items[0] : null;\n                    if (!(match === null || match === void 0 ? void 0 : match.id)) {\n                        setExistingCertificate(null);\n                        return;\n                    }\n                    const detailRes = await fetch(\"/api/doctor/medical-certificates/\".concat(match.id), {\n                        cache: \"no-store\"\n                    });\n                    const detail = await detailRes.json();\n                    if (!detailRes.ok) throw new Error((detail === null || detail === void 0 ? void 0 : detail.error) || \"Failed (\".concat(detailRes.status, \")\"));\n                    if (ignore) return;\n                    if (detail === null || detail === void 0 ? void 0 : detail.certificate) {\n                        setExistingCertificate(detail.certificate);\n                        hydrateFromCertificate(detail.certificate);\n                    }\n                } catch (err) {\n                    if (!ignore) console.warn(\"existing cert load failed\", err);\n                } finally{\n                    if (!ignore) setExistingLoading(false);\n                }\n            }\n            loadExistingCertificate();\n            return ({\n                \"MedicalCertificateDrawer.useEffect\": ()=>{\n                    ignore = true;\n                }\n            })[\"MedicalCertificateDrawer.useEffect\"];\n        }\n    }[\"MedicalCertificateDrawer.useEffect\"], [\n        open,\n        patientId,\n        consultationId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MedicalCertificateDrawer.useEffect\": ()=>{\n            if (existingCertificate) {\n                setSuggestions({\n                    \"MedicalCertificateDrawer.useEffect\": (prev)=>prev.map({\n                            \"MedicalCertificateDrawer.useEffect\": (item)=>({\n                                    ...item,\n                                    checked: false\n                                })\n                        }[\"MedicalCertificateDrawer.useEffect\"])\n                }[\"MedicalCertificateDrawer.useEffect\"]);\n            }\n        }\n    }[\"MedicalCertificateDrawer.useEffect\"], [\n        existingCertificate\n    ]);\n    function hydrateFromCertificate(cert) {\n        if (!cert) return;\n        setPhysicalExam(cert.physical_exam || (0,_lib_medicalCertificateSchema__WEBPACK_IMPORTED_MODULE_2__.createDefaultPhysicalExam)());\n        setDiagnosisText(cert.diagnosis_text || \"\");\n        setRemarks(cert.remarks || \"\");\n        setAdvice(cert.advice || \"\");\n        setFindingsSummary(cert.findings_summary || \"\");\n        const mapped = Array.isArray(cert.supporting_data) ? cert.supporting_data.map((entry)=>({\n                id: generateClientId(),\n                label: entry.label || \"\",\n                summary: entry.summary || \"\",\n                type: entry.type || \"custom\",\n                source_id: entry.source_id || null\n            })) : [];\n        setCustomSupporting(mapped);\n    }\n    function resetState() {\n        setFormData(null);\n        setPhysicalExam((0,_lib_medicalCertificateSchema__WEBPACK_IMPORTED_MODULE_2__.createDefaultPhysicalExam)());\n        setDiagnosisText(\"\");\n        setRemarks(\"\");\n        setAdvice(\"\");\n        setFindingsSummary(\"\");\n        setSuggestions([]);\n        setCustomSupporting([]);\n        setSuccessMessage(null);\n        setError(null);\n        setHistory([]);\n        setHistoryLoading(false);\n        setExistingCertificate(null);\n        setExistingLoading(false);\n        setLabResults([]);\n        setLabSearch(\"\");\n        setLabSearchError(null);\n    }\n    function closeDrawer() {\n        resetState();\n        onClose();\n    }\n    function updateExam(key, values) {\n        setPhysicalExam((prev)=>{\n            var _prev_key, _prev_key1;\n            var _values_status, _ref, _values_remarks, _ref1;\n            return {\n                ...prev,\n                [key]: {\n                    status: (_ref = (_values_status = values.status) !== null && _values_status !== void 0 ? _values_status : (_prev_key = prev[key]) === null || _prev_key === void 0 ? void 0 : _prev_key.status) !== null && _ref !== void 0 ? _ref : \"normal\",\n                    remarks: (_ref1 = (_values_remarks = values.remarks) !== null && _values_remarks !== void 0 ? _values_remarks : (_prev_key1 = prev[key]) === null || _prev_key1 === void 0 ? void 0 : _prev_key1.remarks) !== null && _ref1 !== void 0 ? _ref1 : \"\"\n                }\n            };\n        });\n    }\n    function toggleSuggestion(idx, checked) {\n        setSuggestions((prev)=>prev.map((item, i)=>i === idx ? {\n                    ...item,\n                    checked\n                } : item));\n    }\n    function addCustomSupporting() {\n        const id = generateClientId();\n        setCustomSupporting((prev)=>[\n                ...prev,\n                {\n                    id,\n                    label: \"\",\n                    summary: \"\",\n                    type: \"custom\"\n                }\n            ]);\n    }\n    function updateCustom(id, patch) {\n        setCustomSupporting((prev)=>prev.map((item)=>item.id === id ? {\n                    ...item,\n                    ...patch\n                } : item));\n    }\n    function removeCustom(id) {\n        setCustomSupporting((prev)=>prev.filter((item)=>item.id !== id));\n    }\n    async function executeLabSearch(e) {\n        if (e) e.preventDefault();\n        const query = labSearch.trim();\n        if (query.length < 2) {\n            setLabSearchError(\"Enter at least 2 characters\");\n            return;\n        }\n        setLabSearchLoading(true);\n        setLabSearchError(null);\n        try {\n            var _data_labs;\n            const params = new URLSearchParams({\n                patient_id: patientId,\n                q: query\n            });\n            const res = await fetch(\"/api/doctor/medical-certificates/labs/search?\".concat(params), {\n                cache: \"no-store\"\n            });\n            const data = await res.json();\n            if (!res.ok) throw new Error((data === null || data === void 0 ? void 0 : data.error) || \"Failed (\".concat(res.status, \")\"));\n            setLabResults((data === null || data === void 0 ? void 0 : data.labs) || []);\n            if (!(data === null || data === void 0 ? void 0 : (_data_labs = data.labs) === null || _data_labs === void 0 ? void 0 : _data_labs.length)) {\n                setLabSearchError(\"No matching analytes found for this patient.\");\n            }\n        } catch (err) {\n            setLabSearchError((err === null || err === void 0 ? void 0 : err.message) || \"Search failed\");\n            setLabResults([]);\n        } finally{\n            setLabSearchLoading(false);\n        }\n    }\n    function addLabResult(result) {\n        const dateKey = result.date_iso ? result.date_iso.slice(0, 10) : \"recent\";\n        const label = \"Lab tests done (\".concat(result.display_date, \")\");\n        setCustomSupporting((prev)=>{\n            const next = [\n                ...prev\n            ];\n            const idx = next.findIndex((entry)=>{\n                var _entry_meta, _entry_meta1;\n                return ((_entry_meta = entry.meta) === null || _entry_meta === void 0 ? void 0 : _entry_meta.kind) === \"lab\" && ((_entry_meta1 = entry.meta) === null || _entry_meta1 === void 0 ? void 0 : _entry_meta1.date) === dateKey;\n            });\n            if (idx >= 0) {\n                var _entry_meta;\n                const entry = next[idx];\n                const lines = ((_entry_meta = entry.meta) === null || _entry_meta === void 0 ? void 0 : _entry_meta.lines) ? [\n                    ...entry.meta.lines\n                ] : entry.summary.split(\";\").map((s)=>s.trim()).filter(Boolean);\n                if (!lines.includes(result.summary)) {\n                    lines.push(result.summary);\n                    entry.summary = lines.join(\"; \");\n                    entry.meta = {\n                        ...entry.meta || {},\n                        lines,\n                        kind: \"lab\",\n                        date: dateKey\n                    };\n                }\n                next[idx] = {\n                    ...entry\n                };\n            } else {\n                next.push({\n                    id: generateClientId(),\n                    label,\n                    summary: result.summary,\n                    type: \"labs\",\n                    source_id: result.date_iso || null,\n                    meta: {\n                        kind: \"lab\",\n                        date: dateKey,\n                        lines: [\n                            result.summary\n                        ]\n                    }\n                });\n            }\n            return next;\n        });\n    }\n    const isEditing = Boolean(existingCertificate);\n    const issueDate = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"MedicalCertificateDrawer.useMemo[issueDate]\": ()=>new Date()\n    }[\"MedicalCertificateDrawer.useMemo[issueDate]\"], [\n        open\n    ]);\n    const validUntil = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"MedicalCertificateDrawer.useMemo[validUntil]\": ()=>new Date(issueDate.getTime() + 30 * 24 * 60 * 60 * 1000)\n    }[\"MedicalCertificateDrawer.useMemo[validUntil]\"], [\n        issueDate\n    ]);\n    const displayIssuedAt = (existingCertificate === null || existingCertificate === void 0 ? void 0 : existingCertificate.issued_at) || issueDate.toISOString();\n    const displayValidUntil = (existingCertificate === null || existingCertificate === void 0 ? void 0 : existingCertificate.valid_until) || validUntil.toISOString();\n    async function handleSubmit() {\n        setSaving(true);\n        setError(null);\n        setSuccessMessage(null);\n        try {\n            const selectedSuggestions = suggestions.filter((s)=>s.checked && s.summary).map((s)=>({\n                    type: s.type,\n                    label: s.label,\n                    summary: s.summary,\n                    source_id: s.source_id || null\n                }));\n            const customEntries = customSupporting.map((entry)=>({\n                    type: entry.type || \"custom\",\n                    label: entry.label.trim(),\n                    summary: entry.summary.trim(),\n                    source_id: entry.source_id || null\n                })).filter((entry)=>entry.label && entry.summary);\n            const payload = {\n                patient_id: patientId,\n                consultation_id: consultationId,\n                encounter_id: encounterId,\n                physical_exam: physicalExam,\n                diagnosis_text: diagnosisText,\n                remarks,\n                advice,\n                findings_summary: findingsSummary || null,\n                supporting_data: [\n                    ...selectedSuggestions,\n                    ...customEntries\n                ]\n            };\n            const endpoint = isEditing ? \"/api/doctor/medical-certificates/\".concat(existingCertificate === null || existingCertificate === void 0 ? void 0 : existingCertificate.id) : \"/api/doctor/medical-certificates\";\n            const method = isEditing ? \"PATCH\" : \"POST\";\n            const res = await fetch(endpoint, {\n                method,\n                headers: {\n                    \"content-type\": \"application/json\"\n                },\n                body: JSON.stringify(payload)\n            });\n            const data = await res.json();\n            if (!res.ok) {\n                if (res.status === 409 && (data === null || data === void 0 ? void 0 : data.certificate_id)) {\n                    try {\n                        const detailRes = await fetch(\"/api/doctor/medical-certificates/\".concat(data.certificate_id), {\n                            cache: \"no-store\"\n                        });\n                        const detail = await detailRes.json();\n                        if (detailRes.ok && (detail === null || detail === void 0 ? void 0 : detail.certificate)) {\n                            setExistingCertificate(detail.certificate);\n                            hydrateFromCertificate(detail.certificate);\n                            setError(\"A certificate already exists for this consultation. Loaded it for editing.\");\n                            return;\n                        }\n                    } catch (loadErr) {\n                        console.warn(\"conflict load failed\", loadErr);\n                    }\n                }\n                throw new Error((data === null || data === void 0 ? void 0 : data.error) || \"Failed (\".concat(res.status, \")\"));\n            }\n            const message = isEditing ? \"Medical certificate updated.\" : \"Medical certificate generated.\";\n            setSuccessMessage(message);\n            if (data === null || data === void 0 ? void 0 : data.certificate) {\n                setExistingCertificate(data.certificate);\n                hydrateFromCertificate(data.certificate);\n                setHistory((prev)=>{\n                    const filtered = prev.filter((item)=>item.id !== data.certificate.id);\n                    return [\n                        data.certificate,\n                        ...filtered\n                    ].slice(0, 5);\n                });\n                if (!isEditing && \"object\" !== \"undefined\" && data.certificate.id) {\n                    window.open(\"/doctor/medical-certificates/\".concat(data.certificate.id, \"/print\"), \"_blank\");\n                }\n            }\n            onIssued === null || onIssued === void 0 ? void 0 : onIssued(data.certificate);\n        } catch (err) {\n            setError((err === null || err === void 0 ? void 0 : err.message) || \"Failed to create certificate.\");\n        } finally{\n            setSaving(false);\n        }\n    }\n    if (!open) return null;\n    const patientName = (formData === null || formData === void 0 ? void 0 : (_formData_patient = formData.patient) === null || _formData_patient === void 0 ? void 0 : _formData_patient.full_name) || patientId;\n    const patientAddress = (formData === null || formData === void 0 ? void 0 : (_formData_patient1 = formData.patient) === null || _formData_patient1 === void 0 ? void 0 : _formData_patient1.address) || \"\";\n    const birthday = formatBirthday(formData === null || formData === void 0 ? void 0 : (_formData_patient2 = formData.patient) === null || _formData_patient2 === void 0 ? void 0 : _formData_patient2.birthday);\n    var _formData_patient_age;\n    const age = (_formData_patient_age = formData === null || formData === void 0 ? void 0 : (_formData_patient3 = formData.patient) === null || _formData_patient3 === void 0 ? void 0 : _formData_patient3.age) !== null && _formData_patient_age !== void 0 ? _formData_patient_age : computeAge((formData === null || formData === void 0 ? void 0 : (_formData_patient4 = formData.patient) === null || _formData_patient4 === void 0 ? void 0 : _formData_patient4.birthday) || null);\n    const sex = ((formData === null || formData === void 0 ? void 0 : (_formData_patient5 = formData.patient) === null || _formData_patient5 === void 0 ? void 0 : _formData_patient5.sex) || \"\").toString().toUpperCase();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 z-[80] flex items-stretch justify-end bg-black/40\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"h-full w-full max-w-4xl bg-white shadow-2xl flex flex-col\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                    className: \"flex flex-wrap items-center justify-between gap-3 border-b px-5 py-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs uppercase tracking-wide text-[#44969b]\",\n                                    children: isEditing ? \"Editing existing certificate\" : \"Certificate Builder\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                    lineNumber: 550,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-xl font-semibold\",\n                                    children: \"Medical Certificate\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                    lineNumber: 553,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs text-gray-500 mt-0.5\",\n                                    children: [\n                                        \"Issuance: \",\n                                        formatDate(displayIssuedAt),\n                                        \" \\xb7 Valid until \",\n                                        formatDate(displayValidUntil)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                    lineNumber: 554,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                            lineNumber: 549,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-2\",\n                            children: [\n                                existingCertificate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    type: \"button\",\n                                    onClick: ()=>window.open(\"/doctor/medical-certificates/\".concat(existingCertificate.id, \"/print\"), \"_blank\"),\n                                    className: \"rounded-full border border-[#2e6468] px-4 py-1 text-sm font-medium text-[#2e6468]\",\n                                    children: \"View Print\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                    lineNumber: 560,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    type: \"button\",\n                                    onClick: closeDrawer,\n                                    className: \"rounded-full border border-gray-300 px-4 py-1 text-sm font-medium text-gray-600 hover:bg-gray-100\",\n                                    children: \"Close\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                    lineNumber: 568,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                            lineNumber: 558,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                    lineNumber: 548,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex-1 overflow-y-auto px-5 pb-20 pt-4 space-y-6\",\n                    children: [\n                        error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"rounded border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700\",\n                            children: error\n                        }, void 0, false, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                            lineNumber: 580,\n                            columnNumber: 13\n                        }, this),\n                        successMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"rounded border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-800\",\n                            children: successMessage\n                        }, void 0, false, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                            lineNumber: 585,\n                            columnNumber: 13\n                        }, this),\n                        isEditing && existingCertificate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"rounded border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800\",\n                            children: [\n                                \"Editing certificate \",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                                    children: existingCertificate.certificate_no\n                                }, void 0, false, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                    lineNumber: 591,\n                                    columnNumber: 35\n                                }, this),\n                                \". Changes will update the existing record.\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                            lineNumber: 590,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                            className: \"rounded-xl border bg-gray-50/60 p-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex flex-wrap items-center justify-between gap-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs uppercase tracking-[0.2em] text-gray-500\",\n                                                    children: \"Patient\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 598,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                    className: \"text-lg font-semibold text-gray-900\",\n                                                    children: patientName\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 599,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 597,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                            src: \"/wellserv-logo.png\",\n                                            alt: \"Wellserv\",\n                                            className: \"h-10 w-auto opacity-80\",\n                                            loading: \"lazy\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 601,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                    lineNumber: 596,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-3 grid grid-cols-2 gap-3 text-sm text-gray-700\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-gray-500\",\n                                                    children: \"Patient ID:\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 609,\n                                                    columnNumber: 20\n                                                }, this),\n                                                \" \",\n                                                patientId\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 609,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-gray-500\",\n                                                    children: \"Sex:\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 610,\n                                                    columnNumber: 20\n                                                }, this),\n                                                \" \",\n                                                sex || \"\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 610,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-gray-500\",\n                                                    children: \"Age:\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 611,\n                                                    columnNumber: 20\n                                                }, this),\n                                                \" \",\n                                                age !== null && age !== void 0 ? age : \"\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 611,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-gray-500\",\n                                                    children: \"DOB:\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 612,\n                                                    columnNumber: 20\n                                                }, this),\n                                                \" \",\n                                                birthday\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 612,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"col-span-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-gray-500\",\n                                                    children: \"Address:\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 614,\n                                                    columnNumber: 17\n                                                }, this),\n                                                \" \",\n                                                patientAddress\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 613,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                    lineNumber: 608,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                            lineNumber: 595,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                            className: \"rounded-xl border p-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"font-semibold text-gray-800\",\n                                    children: \"References\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                    lineNumber: 620,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-3 grid grid-cols-2 gap-3 text-sm text-gray-700\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-gray-500 text-xs uppercase tracking-wide\",\n                                                    children: \"Consultation\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 623,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: (formData === null || formData === void 0 ? void 0 : (_formData_consultation_reference = formData.consultation_reference) === null || _formData_consultation_reference === void 0 ? void 0 : _formData_consultation_reference.id) || consultationId\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 624,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-xs text-gray-500\",\n                                                    children: (formData === null || formData === void 0 ? void 0 : (_formData_consultation_reference1 = formData.consultation_reference) === null || _formData_consultation_reference1 === void 0 ? void 0 : _formData_consultation_reference1.visit_at) ? formatDate(formData.consultation_reference.visit_at) : null\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 625,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 622,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-gray-500 text-xs uppercase tracking-wide\",\n                                                    children: \"Encounter\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 632,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: (formData === null || formData === void 0 ? void 0 : (_formData_encounter_reference = formData.encounter_reference) === null || _formData_encounter_reference === void 0 ? void 0 : _formData_encounter_reference.id) || encounterId\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 633,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-xs text-gray-500\",\n                                                    children: (formData === null || formData === void 0 ? void 0 : (_formData_encounter_reference1 = formData.encounter_reference) === null || _formData_encounter_reference1 === void 0 ? void 0 : _formData_encounter_reference1.branch) || \"\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 634,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 631,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                    lineNumber: 621,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                            lineNumber: 619,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                            className: \"rounded-xl border p-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-between\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"font-semibold text-gray-800\",\n                                            children: \"Physical Examination\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 643,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs text-gray-500\",\n                                            children: \"Click Normal / Abnormal and add remarks as needed.\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 644,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                    lineNumber: 642,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-3 grid gap-3 md:grid-cols-2\",\n                                    children: _lib_medicalCertificateSchema__WEBPACK_IMPORTED_MODULE_2__.PHYSICAL_EXAM_SECTIONS.map((param)=>{\n                                        let { key, label } = param;\n                                        const entry = physicalExam[key];\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"rounded-lg border p-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center justify-between text-sm font-medium text-gray-800\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: label\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                            lineNumber: 654,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-center gap-1\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    type: \"button\",\n                                                                    className: \"rounded-full px-3 py-0.5 text-xs font-semibold \".concat((entry === null || entry === void 0 ? void 0 : entry.status) === \"normal\" ? \"bg-emerald-100 text-emerald-700\" : \"bg-gray-100 text-gray-500\"),\n                                                                    onClick: ()=>updateExam(key, {\n                                                                            status: \"normal\"\n                                                                        }),\n                                                                    children: \"Normal\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                                    lineNumber: 656,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    type: \"button\",\n                                                                    className: \"rounded-full px-3 py-0.5 text-xs font-semibold \".concat((entry === null || entry === void 0 ? void 0 : entry.status) === \"abnormal\" ? \"bg-rose-100 text-rose-700\" : \"bg-gray-100 text-gray-500\"),\n                                                                    onClick: ()=>updateExam(key, {\n                                                                            status: \"abnormal\"\n                                                                        }),\n                                                                    children: \"Abnormal\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                                    lineNumber: 667,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                            lineNumber: 655,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 653,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                    className: \"mt-2 w-full rounded border px-2 py-1 text-sm\",\n                                                    rows: 2,\n                                                    placeholder: \"Remarks\",\n                                                    value: (entry === null || entry === void 0 ? void 0 : entry.remarks) || \"\",\n                                                    onChange: (e)=>updateExam(key, {\n                                                            remarks: e.target.value\n                                                        })\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 680,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, key, true, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 652,\n                                            columnNumber: 19\n                                        }, this);\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                    lineNumber: 648,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                            lineNumber: 641,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                            className: \"rounded-xl border p-4 space-y-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"text-sm font-semibold text-gray-800\",\n                                            children: \"Diagnosis\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 695,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                            className: \"mt-1 w-full rounded border px-3 py-2 text-sm\",\n                                            rows: 3,\n                                            value: diagnosisText,\n                                            onChange: (e)=>setDiagnosisText(e.target.value)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 696,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                    lineNumber: 694,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"text-sm font-semibold text-gray-800\",\n                                            children: \"Findings Summary\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 704,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                            className: \"mt-1 w-full rounded border px-3 py-2 text-sm\",\n                                            rows: 3,\n                                            value: findingsSummary,\n                                            onChange: (e)=>setFindingsSummary(e.target.value),\n                                            placeholder: \"Optional overview of pertinent findings.\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 705,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                    lineNumber: 703,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"grid gap-3 md:grid-cols-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"text-sm font-semibold text-gray-800\",\n                                                    children: \"Remarks\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 715,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                    className: \"mt-1 w-full rounded border px-3 py-2 text-sm\",\n                                                    rows: 4,\n                                                    value: remarks,\n                                                    onChange: (e)=>setRemarks(e.target.value),\n                                                    placeholder: \"e.g., Fit for work, Unfit for work for x days\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 716,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 714,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"text-sm font-semibold text-gray-800\",\n                                                    children: \"Advice\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 725,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                    className: \"mt-1 w-full rounded border px-3 py-2 text-sm\",\n                                                    rows: 4,\n                                                    value: advice,\n                                                    onChange: (e)=>setAdvice(e.target.value)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 726,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 724,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                    lineNumber: 713,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                            lineNumber: 693,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                            className: \"rounded-xl border p-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-between\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"font-semibold text-gray-800\",\n                                            children: \"Supporting Data\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 738,\n                                            columnNumber: 15\n                                        }, this),\n                                        supportingLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-xs text-gray-400\",\n                                            children: \"Loading\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 739,\n                                            columnNumber: 37\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                    lineNumber: 737,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-3 space-y-3\",\n                                    children: [\n                                        suggestions.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-gray-500\",\n                                            children: \"No automatic suggestions found for this encounter.\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 743,\n                                            columnNumber: 17\n                                        }, this),\n                                        suggestions.map((item, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"flex gap-3 rounded border px-3 py-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"checkbox\",\n                                                        className: \"mt-1 h-4 w-4\",\n                                                        checked: item.checked,\n                                                        onChange: (e)=>toggleSuggestion(idx, e.target.checked)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                        lineNumber: 747,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"font-medium text-gray-800\",\n                                                                children: item.label\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                                lineNumber: 754,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-gray-600\",\n                                                                children: item.summary\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                                lineNumber: 755,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                        lineNumber: 753,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, item.key, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                lineNumber: 746,\n                                                columnNumber: 17\n                                            }, this))\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                    lineNumber: 741,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-5 border-t pt-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-between\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                className: \"text-sm font-semibold text-gray-800\",\n                                                children: \"Add Lab Tests\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                lineNumber: 763,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 762,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                                            onSubmit: executeLabSearch,\n                                            className: \"mt-2 flex flex-col gap-2 sm:flex-row\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"text\",\n                                                    value: labSearch,\n                                                    onChange: (e)=>setLabSearch(e.target.value),\n                                                    placeholder: \"Search analyte (e.g., cholesterol)\",\n                                                    className: \"flex-1 rounded border px-3 py-2 text-sm\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 769,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    type: \"submit\",\n                                                    disabled: labSearchLoading,\n                                                    className: \"rounded bg-[#2e6468] px-4 py-2 text-sm font-semibold text-white disabled:opacity-60\",\n                                                    children: labSearchLoading ? \"Searching\" : \"Search\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 776,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 765,\n                                            columnNumber: 15\n                                        }, this),\n                                        labSearchError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"mt-2 text-xs text-rose-600\",\n                                            children: labSearchError\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 785,\n                                            columnNumber: 17\n                                        }, this),\n                                        labResults.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-3 space-y-2 rounded-lg border bg-gray-50/80 p-3\",\n                                            children: labResults.map((res)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"rounded border bg-white px-3 py-2 text-sm\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex flex-wrap items-center justify-between gap-2\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"font-medium text-gray-800\",\n                                                                            children: res.label\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                                            lineNumber: 796,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-xs text-gray-500\",\n                                                                            children: res.display_date\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                                            lineNumber: 797,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                                    lineNumber: 795,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    type: \"button\",\n                                                                    onClick: ()=>addLabResult(res),\n                                                                    className: \"rounded-full border border-[#2e6468] px-3 py-1 text-xs font-semibold uppercase tracking-wide text-[#2e6468]\",\n                                                                    children: \"Add\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                                    lineNumber: 799,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                            lineNumber: 794,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"mt-1 text-gray-600\",\n                                                            children: res.summary\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                            lineNumber: 807,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, res.id, true, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 790,\n                                                    columnNumber: 21\n                                                }, this))\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 788,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                    lineNumber: 761,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-between\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                    className: \"text-sm font-semibold text-gray-800\",\n                                                    children: \"Custom entries\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 816,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    type: \"button\",\n                                                    onClick: addCustomSupporting,\n                                                    className: \"text-xs font-semibold uppercase tracking-wide text-[#2e6468]\",\n                                                    children: \"+ Add entry\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 817,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 815,\n                                            columnNumber: 15\n                                        }, this),\n                                        customSupporting.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"mt-2 text-sm text-gray-500\",\n                                            children: \"Add manual supporting statements that will appear on the certificate.\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 826,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-2 space-y-3\",\n                                            children: customSupporting.map((entry)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"rounded-lg border px-3 py-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-center justify-between\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                    className: \"text-xs font-semibold uppercase text-gray-500\",\n                                                                    children: \"Label\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                                    lineNumber: 834,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    type: \"button\",\n                                                                    onClick: ()=>removeCustom(entry.id),\n                                                                    className: \"text-xs text-rose-600\",\n                                                                    children: \"Remove\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                                    lineNumber: 835,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                            lineNumber: 833,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            className: \"mt-1 w-full rounded border px-2 py-1 text-sm\",\n                                                            value: entry.label,\n                                                            onChange: (e)=>updateCustom(entry.id, {\n                                                                    label: e.target.value\n                                                                }),\n                                                            placeholder: \"e.g., Imaging\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                            lineNumber: 843,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                            className: \"mt-2 text-xs font-semibold uppercase text-gray-500\",\n                                                            children: \"Summary\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                            lineNumber: 849,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                            className: \"mt-1 w-full rounded border px-2 py-1 text-sm\",\n                                                            rows: 2,\n                                                            value: entry.summary,\n                                                            onChange: (e)=>updateCustom(entry.id, {\n                                                                    summary: e.target.value\n                                                                }),\n                                                            placeholder: \"Include short statement\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                            lineNumber: 850,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, entry.id, true, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 832,\n                                                    columnNumber: 19\n                                                }, this))\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 830,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                    lineNumber: 814,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                            lineNumber: 736,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                            className: \"rounded-xl border p-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-between\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"font-semibold text-gray-800\",\n                                            children: \"Recent Certificates\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 865,\n                                            columnNumber: 15\n                                        }, this),\n                                        historyLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-xs text-gray-400\",\n                                            children: \"Loading\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 866,\n                                            columnNumber: 34\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                    lineNumber: 864,\n                                    columnNumber: 13\n                                }, this),\n                                history.length === 0 && !historyLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mt-2 text-sm text-gray-500\",\n                                    children: \"No certificates issued for this patient yet.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                    lineNumber: 869,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                    className: \"mt-3 space-y-2\",\n                                    children: history.map((item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                            className: \"flex flex-wrap items-center justify-between rounded-lg border px-3 py-2 text-sm\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"font-semibold text-gray-800\",\n                                                            children: item.certificate_no\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                            lineNumber: 878,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs text-gray-500\",\n                                                            children: [\n                                                                \"Issued \",\n                                                                formatDate(item.issued_at),\n                                                                \"  Status \",\n                                                                item.status\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                            lineNumber: 879,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 877,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    type: \"button\",\n                                                    onClick: ()=>window.open(\"/doctor/medical-certificates/\".concat(item.id, \"/print\"), \"_blank\"),\n                                                    className: \"rounded-full border border-[#2e6468] px-3 py-1 text-xs font-semibold uppercase tracking-wide text-[#2e6468]\",\n                                                    children: \"View\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                                    lineNumber: 883,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, item.id, true, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                            lineNumber: 873,\n                                            columnNumber: 17\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                    lineNumber: 871,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                            lineNumber: 863,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                    lineNumber: 578,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"footer\", {\n                    className: \"sticky bottom-0 w-full border-t bg-white px-5 py-4\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-col gap-2 md:flex-row md:items-center md:justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs text-gray-500\",\n                                children: \"Certificates are saved to the patient record with a 30-day validity by default.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                lineNumber: 898,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                disabled: saving || loading,\n                                onClick: handleSubmit,\n                                className: \"inline-flex items-center justify-center rounded-full bg-[#2e6468] px-5 py-2 text-sm font-semibold text-white disabled:opacity-60\",\n                                children: saving ? \"Generating\" : \"Generate certificate\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                                lineNumber: 901,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                        lineNumber: 897,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n                    lineNumber: 896,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n            lineNumber: 547,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\",\n        lineNumber: 546,\n        columnNumber: 5\n    }, this);\n}\n_s(MedicalCertificateDrawer, \"pXtCdSgnCSYQbDyfXImoOtziqPM=\");\n_c = MedicalCertificateDrawer;\nvar _c;\n$RefreshReg$(_c, \"MedicalCertificateDrawer\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8oZG9jdG9yKS9kb2N0b3IvcGF0aWVudC9bcGF0aWVudElkXS9NZWRpY2FsQ2VydGlmaWNhdGVEcmF3ZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFZ0U7QUFPeEI7QUF3RHhDLE1BQU1LLFlBQVksSUFBSUMsS0FBS0MsY0FBYyxDQUFDLFNBQVM7SUFDakRDLE1BQU07SUFDTkMsT0FBTztJQUNQQyxLQUFLO0lBQ0xDLE1BQU07SUFDTkMsUUFBUTtBQUNWO0FBRUEsU0FBU0MsV0FBV0MsR0FBbUI7SUFDckMsSUFBSSxDQUFDQSxLQUFLLE9BQU87SUFDakIsTUFBTUMsS0FBSyxJQUFJQyxLQUFLRjtJQUNwQixPQUFPRyxPQUFPQyxLQUFLLENBQUMsQ0FBQ0gsTUFBTUQsTUFBTVQsVUFBVWMsTUFBTSxDQUFDSjtBQUNwRDtBQUVBLFNBQVNLLGVBQWVOLEdBQW1CO0lBQ3pDLElBQUksQ0FBQ0EsS0FBSyxPQUFPO0lBQ2pCLE1BQU1DLEtBQUssSUFBSUMsS0FBS0Y7SUFDcEIsT0FBT0csT0FBT0MsS0FBSyxDQUFDLENBQUNILE1BQ2pCRCxNQUNBLElBQUlSLEtBQUtDLGNBQWMsQ0FBQyxTQUFTO1FBQy9CQyxNQUFNO1FBQ05DLE9BQU87UUFDUEMsS0FBSztJQUNQLEdBQUdTLE1BQU0sQ0FBQ0o7QUFDaEI7QUFFQSxTQUFTTSxXQUFXQyxRQUF3QjtJQUMxQyxJQUFJLENBQUNBLFVBQVUsT0FBTztJQUN0QixNQUFNQyxNQUFNLElBQUlQLEtBQUtNO0lBQ3JCLElBQUlMLE9BQU9DLEtBQUssQ0FBQyxDQUFDSyxNQUFNLE9BQU87SUFDL0IsTUFBTUMsUUFBUSxJQUFJUjtJQUNsQixJQUFJUyxNQUFNRCxNQUFNRSxXQUFXLEtBQUtILElBQUlHLFdBQVc7SUFDL0MsTUFBTUMsSUFBSUgsTUFBTUksUUFBUSxLQUFLTCxJQUFJSyxRQUFRO0lBQ3pDLElBQUlELElBQUksS0FBTUEsTUFBTSxLQUFLSCxNQUFNSyxPQUFPLEtB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QyxXQUFVOztnRUFBd0I7Z0VBQzdCbk0sV0FBV3NHLEtBQUttRSxTQUFTO2dFQUFFO2dFQUFXbkUsS0FBS1osTUFBTTs7Ozs7Ozs7Ozs7Ozs4REFHN0QsOERBQUM2RztvREFDQzdGLE1BQUs7b0RBQ0w4RixTQUFTLElBQU1kLE9BQU9qSyxJQUFJLENBQUMsZ0NBQXdDLE9BQVI2RSxLQUFLaUIsRUFBRSxFQUFDLFdBQVM7b0RBQzVFNEUsV0FBVTs4REFDWDs7Ozs7OzsyQ0FiSTdGLEtBQUtpQixFQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzhCQXNCdEIsOERBQUMyRztvQkFBTy9CLFdBQVU7OEJBQ2hCLDRFQUFDRDt3QkFBSUMsV0FBVTs7MENBQ2IsOERBQUNEO2dDQUFJQyxXQUFVOzBDQUF3Qjs7Ozs7OzBDQUd2Qyw4REFBQ0k7Z0NBQ0M3RixNQUFLO2dDQUNMcUgsVUFBVTVLLFVBQVVuQjtnQ0FDcEJ3SyxTQUFTM0I7Z0NBQ1RzQixXQUFVOzBDQUVUaEosU0FBUyxnQkFBZ0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPeEM7R0FweUJ3QjNCO0tBQUFBIiwic291cmNlcyI6WyIvVXNlcnMvcG9jaG9sby9Qcm9qZWN0cy93ZWxsc2Vydi1wb3J0YWwvYXBwcy93ZWIvYXBwLyhkb2N0b3IpL2RvY3Rvci9wYXRpZW50L1twYXRpZW50SWRdL01lZGljYWxDZXJ0aWZpY2F0ZURyYXdlci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IEZvcm1FdmVudCwgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgY3JlYXRlRGVmYXVsdFBoeXNpY2FsRXhhbSxcbiAgUEhZU0lDQUxfRVhBTV9TRUNUSU9OUyxcbiAgUGh5c2ljYWxFeGFtS2V5LFxuICBQaHlzaWNhbEV4YW1QYXlsb2FkLFxuICBTdXBwb3J0aW5nRGF0YUVudHJ5LFxufSBmcm9tIFwiQC9saWIvbWVkaWNhbENlcnRpZmljYXRlU2NoZW1hXCI7XG5cbnR5cGUgRHJhd2VyUHJvcHMgPSB7XG4gIG9wZW46IGJvb2xlYW47XG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XG4gIHBhdGllbnRJZDogc3RyaW5nO1xuICBjb25zdWx0YXRpb25JZDogc3RyaW5nO1xuICBlbmNvdW50ZXJJZDogc3RyaW5nO1xuICBvbklzc3VlZD86IChjZXJ0aWZpY2F0ZTogYW55KSA9PiB2b2lkO1xufTtcblxudHlwZSBGb3JtRGF0YVBheWxvYWQgPSB7XG4gIHBhdGllbnQ6IFJlY29yZDxzdHJpbmcsIGFueT47XG4gIGVuY291bnRlcjogUmVjb3JkPHN0cmluZywgYW55PiB8IG51bGw7XG4gIGNvbnN1bHRhdGlvbjogUmVjb3JkPHN0cmluZywgYW55PiB8IG51bGw7XG4gIGRvY3RvcjogUmVjb3JkPHN0cmluZywgYW55PiB8IG51bGw7XG4gIHZpdGFsc19zdW1tYXJ5Pzogc3RyaW5nIHwgbnVsbDtcbiAgdml0YWxzPzogUmVjb3JkPHN0cmluZywgYW55PiB8IG51bGw7XG4gIGRpYWdub3Nlcz86IEFycmF5PFJlY29yZDxzdHJpbmcsIGFueT4+O1xuICBub3Rlcz86IFJlY29yZDxzdHJpbmcsIGFueT4gfCBudWxsO1xuICBwaHlzaWNhbF9leGFtPzogUGh5c2ljYWxFeGFtUGF5bG9hZDtcbiAgZGVmYXVsdHM/OiB7XG4gICAgZGlhZ25vc2lzX3RleHQ/OiBzdHJpbmcgfCBudWxsO1xuICAgIHJlbWFya3M/OiBzdHJpbmcgfCBudWxsO1xuICAgIGFkdmljZT86IHN0cmluZyB8IG51bGw7XG4gIH07XG4gIGVuY291bnRlcl9yZWZlcmVuY2U/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgbnVsbDtcbiAgY29uc3VsdGF0aW9uX3JlZmVyZW5jZT86IFJlY29yZDxzdHJpbmcsIGFueT4gfCBudWxsO1xufTtcblxudHlwZSBTdXBwb3J0aW5nU3VnZ2VzdGlvbiA9IHtcbiAga2V5OiBzdHJpbmc7XG4gIHR5cGU6IHN0cmluZztcbiAgbGFiZWw6IHN0cmluZztcbiAgc3VtbWFyeTogc3RyaW5nO1xuICBzb3VyY2VfaWQ/OiBzdHJpbmcgfCBudWxsO1xuICBjaGVja2VkOiBib29sZWFuO1xufTtcblxudHlwZSBMYWJTZWFyY2hSZXN1bHQgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIGRhdGVfaXNvOiBzdHJpbmcgfCBudWxsO1xuICBkaXNwbGF5X2RhdGU6IHN0cmluZztcbiAgbGFiZWw6IHN0cmluZztcbiAgc3VtbWFyeTogc3RyaW5nO1xufTtcblxudHlwZSBDdXN0b21TdXBwb3J0aW5nRW50cnkgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIHN1bW1hcnk6IHN0cmluZztcbiAgdHlwZT86IHN0cmluZztcbiAgc291cmNlX2lkPzogc3RyaW5nIHwgbnVsbDtcbiAgbWV0YT86IFJlY29yZDxzdHJpbmcsIGFueT47XG59O1xuXG5jb25zdCBmb3JtYXR0ZXIgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChcImVuLVBIXCIsIHtcbiAgeWVhcjogXCJudW1lcmljXCIsXG4gIG1vbnRoOiBcInNob3J0XCIsXG4gIGRheTogXCIyLWRpZ2l0XCIsXG4gIGhvdXI6IFwiMi1kaWdpdFwiLFxuICBtaW51dGU6IFwiMi1kaWdpdFwiLFxufSk7XG5cbmZ1bmN0aW9uIGZvcm1hdERhdGUoaXNvPzogc3RyaW5nIHwgbnVsbCkge1xuICBpZiAoIWlzbykgcmV0dXJuIFwi4oCUXCI7XG4gIGNvbnN0IGR0ID0gbmV3IERhdGUoaXNvKTtcbiAgcmV0dXJuIE51bWJlci5pc05hTigrZHQpID8gaXNvIDogZm9ybWF0dGVyLmZvcm1hdChkdCk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEJpcnRoZGF5KGlzbz86IHN0cmluZyB8IG51bGwpIHtcbiAgaWYgKCFpc28pIHJldHVybiBcIuKAlFwiO1xuICBjb25zdCBkdCA9IG5ldyBEYXRlKGlzbyk7XG4gIHJldHVybiBOdW1iZXIuaXNOYU4oK2R0KVxuICAgID8gaXNvXG4gICAgOiBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChcImVuLVBIXCIsIHtcbiAgICAgICAgeWVhcjogXCJudW1lcmljXCIsXG4gICAgICAgIG1vbnRoOiBcInNob3J0XCIsXG4gICAgICAgIGRheTogXCIyLWRpZ2l0XCIsXG4gICAgICB9KS5mb3JtYXQoZHQpO1xufVxuXG5mdW5jdGlvbiBjb21wdXRlQWdlKGJpcnRoZGF5Pzogc3RyaW5nIHwgbnVsbCkge1xuICBpZiAoIWJpcnRoZGF5KSByZXR1cm4gbnVsbDtcbiAgY29uc3QgZG9iID0gbmV3IERhdGUoYmlydGhkYXkpO1xuICBpZiAoTnVtYmVyLmlzTmFOKCtkb2IpKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICBsZXQgYWdlID0gdG9kYXkuZ2V0RnVsbFllYXIoKSAtIGRvYi5nZXRGdWxsWWVhcigpO1xuICBjb25zdCBtID0gdG9kYXkuZ2V0TW9udGgoKSAtIGRvYi5nZXRNb250aCgpO1xuICBpZiAobSA8IDAgfHwgKG0gPT09IDAgJiYgdG9kYXkuZ2V0RGF0ZSgpIDwgZG9iLmdldERhdGUoKSkpIGFnZS0tO1xuICByZXR1cm4gYWdlO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUNsaWVudElkKCkge1xuICBpZiAodHlwZW9mIGNyeXB0byAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgY3J5cHRvLnJhbmRvbVVVSUQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiBjcnlwdG8ucmFuZG9tVVVJRCgpO1xuICB9XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyLCAxMCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1lZGljYWxDZXJ0aWZpY2F0ZURyYXdlcih7XG4gIG9wZW4sXG4gIG9uQ2xvc2UsXG4gIHBhdGllbnRJZCxcbiAgY29uc3VsdGF0aW9uSWQsXG4gIGVuY291bnRlcklkLFxuICBvbklzc3VlZCxcbn06IERyYXdlclByb3BzKSB7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3N1cHBvcnRpbmdMb2FkaW5nLCBzZXRTdXBwb3J0aW5nTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtmb3JtRGF0YSwgc2V0Rm9ybURhdGFdID0gdXNlU3RhdGU8Rm9ybURhdGFQYXlsb2FkIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtwaHlzaWNhbEV4YW0sIHNldFBoeXNpY2FsRXhhbV0gPSB1c2VTdGF0ZTxQaHlzaWNhbEV4YW1QYXlsb2FkPihjcmVhdGVEZWZhdWx0UGh5c2ljYWxFeGFtKTtcbiAgY29uc3QgW2RpYWdub3Npc1RleHQsIHNldERpYWdub3Npc1RleHRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtyZW1hcmtzLCBzZXRSZW1hcmtzXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbYWR2aWNlLCBzZXRBZHZpY2VdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtmaW5kaW5nc1N1bW1hcnksIHNldEZpbmRpbmdzU3VtbWFyeV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3N1Y2Nlc3NNZXNzYWdlLCBzZXRTdWNjZXNzTWVzc2FnZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3NhdmluZywgc2V0U2F2aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3N1Z2dlc3Rpb25zLCBzZXRTdWdnZXN0aW9uc10gPSB1c2VTdGF0ZTxTdXBwb3J0aW5nU3VnZ2VzdGlvbltdPihbXSk7XG4gIGNvbnN0IFtjdXN0b21TdXBwb3J0aW5nLCBzZXRDdXN0b21TdXBwb3J0aW5nXSA9IHVzZVN0YXRlPEN1c3RvbVN1cHBvcnRpbmdFbnRyeVtdPihbXSk7XG4gIGNvbnN0IFtoaXN0b3J5LCBzZXRIaXN0b3J5XSA9IHVzZVN0YXRlPEFycmF5PGFueT4+KFtdKTtcbiAgY29uc3QgW2hpc3RvcnlMb2FkaW5nLCBzZXRIaXN0b3J5TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtleGlzdGluZ0NlcnRpZmljYXRlLCBzZXRFeGlzdGluZ0NlcnRpZmljYXRlXSA9IHVzZVN0YXRlPGFueSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZXhpc3RpbmdMb2FkaW5nLCBzZXRFeGlzdGluZ0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbGFiU2VhcmNoLCBzZXRMYWJTZWFyY2hdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtsYWJSZXN1bHRzLCBzZXRMYWJSZXN1bHRzXSA9IHVzZVN0YXRlPExhYlNlYXJjaFJlc3VsdFtdPihbXSk7XG4gIGNvbnN0IFtsYWJTZWFyY2hMb2FkaW5nLCBzZXRMYWJTZWFyY2hMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xhYlNlYXJjaEVycm9yLCBzZXRMYWJTZWFyY2hFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghb3BlbikgcmV0dXJuO1xuXG4gICAgbGV0IGlnbm9yZSA9IGZhbHNlO1xuICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgYXN5bmMgZnVuY3Rpb24gbG9hZCgpIHtcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgIHNldFN1Y2Nlc3NNZXNzYWdlKG51bGwpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgICAgICAgcGF0aWVudF9pZDogcGF0aWVudElkLFxuICAgICAgICAgIGNvbnN1bHRhdGlvbl9pZDogY29uc3VsdGF0aW9uSWQsXG4gICAgICAgICAgZW5jb3VudGVyX2lkOiBlbmNvdW50ZXJJZCxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL2RvY3Rvci9tZWRpY2FsLWNlcnRpZmljYXRlcy9mb3JtLWRhdGE/JHtwYXJhbXN9YCwge1xuICAgICAgICAgIGNhY2hlOiBcIm5vLXN0b3JlXCIsXG4gICAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKGRhdGE/LmVycm9yIHx8IGBGYWlsZWQgKCR7cmVzLnN0YXR1c30pYCk7XG4gICAgICAgIGlmIChpZ25vcmUpIHJldHVybjtcbiAgICAgICAgc2V0Rm9ybURhdGEoZGF0YSk7XG4gICAgICAgIGNvbnN0IGV4YW0gPSBkYXRhLnBoeXNpY2FsX2V4YW0gfHwgY3JlYXRlRGVmYXVsdFBoeXNpY2FsRXhhbSgpO1xuICAgICAgICBzZXRQaHlzaWNhbEV4YW0oZXhhbSk7XG4gICAgICAgIHNldERpYWdub3Npc1RleHQoZGF0YS5kZWZhdWx0cz8uZGlhZ25vc2lzX3RleHQgfHwgXCJcIik7XG4gICAgICAgIHNldFJlbWFya3MoZGF0YS5kZWZhdWx0cz8ucmVtYXJrcyB8fCBcIlwiKTtcbiAgICAgICAgc2V0QWR2aWNlKGRhdGEuZGVmYXVsdHM/LmFkdmljZSB8fCBcIlwiKTtcbiAgICAgICAgc2V0RmluZGluZ3NTdW1tYXJ5KGRhdGEuZmluZGluZ3Nfc3VtbWFyeSB8fCBcIlwiKTtcbiAgICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICAgIGlmIChpZ25vcmUpIHJldHVybjtcbiAgICAgICAgc2V0RXJyb3IoZXJyPy5tZXNzYWdlIHx8IFwiRmFpbGVkIHRvIGxvYWQgZGF0YS5cIik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoIWlnbm9yZSkgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxvYWQoKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWdub3JlID0gdHJ1ZTtcbiAgICAgIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICB9O1xuICB9LCBbb3BlbiwgcGF0aWVudElkLCBjb25zdWx0YXRpb25JZCwgZW5jb3VudGVySWRdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghb3BlbikgcmV0dXJuO1xuICAgIGxldCBpZ25vcmUgPSBmYWxzZTtcbiAgICBhc3luYyBmdW5jdGlvbiBsb2FkU3VnZ2VzdGlvbnMoKSB7XG4gICAgICBzZXRTdXBwb3J0aW5nTG9hZGluZyh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xuICAgICAgICAgIHBhdGllbnRfaWQ6IHBhdGllbnRJZCxcbiAgICAgICAgICBjb25zdWx0YXRpb25faWQ6IGNvbnN1bHRhdGlvbklkLFxuICAgICAgICAgIGVuY291bnRlcl9pZDogZW5jb3VudGVySWQsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9kb2N0b3IvbWVkaWNhbC1jZXJ0aWZpY2F0ZXMvc3VwcG9ydGluZy1kYXRhPyR7cGFyYW1zfWAsIHtcbiAgICAgICAgICBjYWNoZTogXCJuby1zdG9yZVwiLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoZGF0YT8uZXJyb3IgfHwgYEZhaWxlZCAoJHtyZXMuc3RhdHVzfSlgKTtcbiAgICAgICAgaWYgKGlnbm9yZSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBtYXBwZWQ6IFN1cHBvcnRpbmdTdWdnZXN0aW9uW10gPSAoZGF0YS5zdWdnZXN0aW9ucyB8fCBbXSkubWFwKFxuICAgICAgICAgIChpdGVtOiBhbnksIGlkeDogbnVtYmVyKSA9PiAoe1xuICAgICAgICAgICAga2V5OiBgc3VnZ2VzdGlvbi0ke2l0ZW0uc291cmNlX2lkIHx8IGlkeH1gLFxuICAgICAgICAgICAgdHlwZTogaXRlbS50eXBlIHx8IFwibm90ZVwiLFxuICAgICAgICAgICAgbGFiZWw6IGl0ZW0ubGFiZWwgfHwgXCJTdXBwb3J0aW5nIGRhdGFcIixcbiAgICAgICAgICAgIHN1bW1hcnk6IGl0ZW0uc3VtbWFyeSB8fCBcIlwiLFxuICAgICAgICAgICAgc291cmNlX2lkOiBpdGVtLnNvdXJjZV9pZCB8fCBudWxsLFxuICAgICAgICAgICAgY2hlY2tlZDogdHJ1ZSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICBzZXRTdWdnZXN0aW9ucyhtYXBwZWQpO1xuICAgICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgICAgaWYgKCFpZ25vcmUpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJzdXBwb3J0aW5nIGRhdGEgbG9hZCBlcnJvclwiLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoIWlnbm9yZSkgc2V0U3VwcG9ydGluZ0xvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgICBsb2FkU3VnZ2VzdGlvbnMoKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWdub3JlID0gdHJ1ZTtcbiAgICB9O1xuICB9LCBbb3BlbiwgcGF0aWVudElkLCBjb25zdWx0YXRpb25JZCwgZW5jb3VudGVySWRdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghb3BlbikgcmV0dXJuO1xuICAgIGxldCBpZ25vcmUgPSBmYWxzZTtcbiAgICBhc3luYyBmdW5jdGlvbiBsb2FkSGlzdG9yeSgpIHtcbiAgICAgIHNldEhpc3RvcnlMb2FkaW5nKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgICAgICAgcGF0aWVudF9pZDogcGF0aWVudElkLFxuICAgICAgICAgIGxpbWl0OiBcIjVcIixcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL2RvY3Rvci9tZWRpY2FsLWNlcnRpZmljYXRlcz8ke3BhcmFtc31gLCB7XG4gICAgICAgICAgY2FjaGU6IFwibm8tc3RvcmVcIixcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKGRhdGE/LmVycm9yIHx8IGBGYWlsZWQgKCR7cmVzLnN0YXR1c30pYCk7XG4gICAgICAgIGlmIChpZ25vcmUpIHJldHVybjtcbiAgICAgICAgc2V0SGlzdG9yeShkYXRhLml0ZW1zIHx8IFtdKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAoIWlnbm9yZSkgY29uc29sZS53YXJuKFwiaGlzdG9yeSBsb2FkIGZhaWxlZFwiLCBlcnIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKCFpZ25vcmUpIHNldEhpc3RvcnlMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbG9hZEhpc3RvcnkoKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWdub3JlID0gdHJ1ZTtcbiAgICB9O1xuICB9LCBbb3BlbiwgcGF0aWVudElkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIW9wZW4pIHJldHVybjtcbiAgICBsZXQgaWdub3JlID0gZmFsc2U7XG4gICAgYXN5bmMgZnVuY3Rpb24gbG9hZEV4aXN0aW5nQ2VydGlmaWNhdGUoKSB7XG4gICAgICBpZiAoIWNvbnN1bHRhdGlvbklkKSByZXR1cm47XG4gICAgICBzZXRFeGlzdGluZ0xvYWRpbmcodHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICAgICAgICBwYXRpZW50X2lkOiBwYXRpZW50SWQsXG4gICAgICAgICAgY29uc3VsdGF0aW9uX2lkOiBjb25zdWx0YXRpb25JZCxcbiAgICAgICAgICBsaW1pdDogXCIxXCIsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9kb2N0b3IvbWVkaWNhbC1jZXJ0aWZpY2F0ZXM/JHtwYXJhbXN9YCwge1xuICAgICAgICAgIGNhY2hlOiBcIm5vLXN0b3JlXCIsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgaWYgKCFyZXMub2spIHRocm93IG5ldyBFcnJvcihkYXRhPy5lcnJvciB8fCBgRmFpbGVkICgke3Jlcy5zdGF0dXN9KWApO1xuICAgICAgICBpZiAoaWdub3JlKSByZXR1cm47XG4gICAgICAgIGNvbnN0IG1hdGNoID0gQXJyYXkuaXNBcnJheShkYXRhLml0ZW1zKSA/IGRhdGEuaXRlbXNbMF0gOiBudWxsO1xuICAgICAgICBpZiAoIW1hdGNoPy5pZCkge1xuICAgICAgICAgIHNldEV4aXN0aW5nQ2VydGlmaWNhdGUobnVsbCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRldGFpbFJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL2RvY3Rvci9tZWRpY2FsLWNlcnRpZmljYXRlcy8ke21hdGNoLmlkfWAsIHtcbiAgICAgICAgICBjYWNoZTogXCJuby1zdG9yZVwiLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZGV0YWlsID0gYXdhaXQgZGV0YWlsUmVzLmpzb24oKTtcbiAgICAgICAgaWYgKCFkZXRhaWxSZXMub2spIHRocm93IG5ldyBFcnJvcihkZXRhaWw/LmVycm9yIHx8IGBGYWlsZWQgKCR7ZGV0YWlsUmVzLnN0YXR1c30pYCk7XG4gICAgICAgIGlmIChpZ25vcmUpIHJldHVybjtcbiAgICAgICAgaWYgKGRldGFpbD8uY2VydGlmaWNhdGUpIHtcbiAgICAgICAgICBzZXRFeGlzdGluZ0NlcnRpZmljYXRlKGRldGFpbC5jZXJ0aWZpY2F0ZSk7XG4gICAgICAgICAgaHlkcmF0ZUZyb21DZXJ0aWZpY2F0ZShkZXRhaWwuY2VydGlmaWNhdGUpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKCFpZ25vcmUpIGNvbnNvbGUud2FybihcImV4aXN0aW5nIGNlcnQgbG9hZCBmYWlsZWRcIiwgZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmICghaWdub3JlKSBzZXRFeGlzdGluZ0xvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgICBsb2FkRXhpc3RpbmdDZXJ0aWZpY2F0ZSgpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZ25vcmUgPSB0cnVlO1xuICAgIH07XG4gIH0sIFtvcGVuLCBwYXRpZW50SWQsIGNvbnN1bHRhdGlvbklkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZXhpc3RpbmdDZXJ0aWZpY2F0ZSkge1xuICAgICAgc2V0U3VnZ2VzdGlvbnMoKHByZXYpID0+IHByZXYubWFwKChpdGVtKSA9PiAoeyAuLi5pdGVtLCBjaGVja2VkOiBmYWxzZSB9KSkpO1xuICAgIH1cbiAgfSwgW2V4aXN0aW5nQ2VydGlmaWNhdGVdKTtcblxuICBmdW5jdGlvbiBoeWRyYXRlRnJvbUNlcnRpZmljYXRlKGNlcnQ6IGFueSkge1xuICAgIGlmICghY2VydCkgcmV0dXJuO1xuICAgIHNldFBoeXNpY2FsRXhhbShjZXJ0LnBoeXNpY2FsX2V4YW0gfHwgY3JlYXRlRGVmYXVsdFBoeXNpY2FsRXhhbSgpKTtcbiAgICBzZXREaWFnbm9zaXNUZXh0KGNlcnQuZGlhZ25vc2lzX3RleHQgfHwgXCJcIik7XG4gICAgc2V0UmVtYXJrcyhjZXJ0LnJlbWFya3MgfHwgXCJcIik7XG4gICAgc2V0QWR2aWNlKGNlcnQuYWR2aWNlIHx8IFwiXCIpO1xuICAgIHNldEZpbmRpbmdzU3VtbWFyeShjZXJ0LmZpbmRpbmdzX3N1bW1hcnkgfHwgXCJcIik7XG4gICAgY29uc3QgbWFwcGVkID0gQXJyYXkuaXNBcnJheShjZXJ0LnN1cHBvcnRpbmdfZGF0YSlcbiAgICAgID8gY2VydC5zdXBwb3J0aW5nX2RhdGEubWFwKChlbnRyeTogYW55KSA9PiAoe1xuICAgICAgICAgIGlkOiBnZW5lcmF0ZUNsaWVudElkKCksXG4gICAgICAgICAgbGFiZWw6IGVudHJ5LmxhYmVsIHx8IFwiXCIsXG4gICAgICAgICAgc3VtbWFyeTogZW50cnkuc3VtbWFyeSB8fCBcIlwiLFxuICAgICAgICAgIHR5cGU6IGVudHJ5LnR5cGUgfHwgXCJjdXN0b21cIixcbiAgICAgICAgICBzb3VyY2VfaWQ6IGVudHJ5LnNvdXJjZV9pZCB8fCBudWxsLFxuICAgICAgICB9KSlcbiAgICAgIDogW107XG4gICAgc2V0Q3VzdG9tU3VwcG9ydGluZyhtYXBwZWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRTdGF0ZSgpIHtcbiAgICBzZXRGb3JtRGF0YShudWxsKTtcbiAgICBzZXRQaHlzaWNhbEV4YW0oY3JlYXRlRGVmYXVsdFBoeXNpY2FsRXhhbSgpKTtcbiAgICBzZXREaWFnbm9zaXNUZXh0KFwiXCIpO1xuICAgIHNldFJlbWFya3MoXCJcIik7XG4gICAgc2V0QWR2aWNlKFwiXCIpO1xuICAgIHNldEZpbmRpbmdzU3VtbWFyeShcIlwiKTtcbiAgICBzZXRTdWdnZXN0aW9ucyhbXSk7XG4gICAgc2V0Q3VzdG9tU3VwcG9ydGluZyhbXSk7XG4gICAgc2V0U3VjY2Vzc01lc3NhZ2UobnVsbCk7XG4gICAgc2V0RXJyb3IobnVsbCk7XG4gICAgc2V0SGlzdG9yeShbXSk7XG4gICAgc2V0SGlzdG9yeUxvYWRpbmcoZmFsc2UpO1xuICAgIHNldEV4aXN0aW5nQ2VydGlmaWNhdGUobnVsbCk7XG4gICAgc2V0RXhpc3RpbmdMb2FkaW5nKGZhbHNlKTtcbiAgICBzZXRMYWJSZXN1bHRzKFtdKTtcbiAgICBzZXRMYWJTZWFyY2goXCJcIik7XG4gICAgc2V0TGFiU2VhcmNoRXJyb3IobnVsbCk7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZURyYXdlcigpIHtcbiAgICByZXNldFN0YXRlKCk7XG4gICAgb25DbG9zZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlRXhhbShrZXk6IFBoeXNpY2FsRXhhbUtleSwgdmFsdWVzOiBQYXJ0aWFsPHsgc3RhdHVzOiBcIm5vcm1hbFwiIHwgXCJhYm5vcm1hbFwiOyByZW1hcmtzOiBzdHJpbmcgfT4pIHtcbiAgICBzZXRQaHlzaWNhbEV4YW0oKHByZXYpID0+ICh7XG4gICAgICAuLi5wcmV2LFxuICAgICAgW2tleV06IHtcbiAgICAgICAgc3RhdHVzOiB2YWx1ZXMuc3RhdHVzID8/IHByZXZba2V5XT8uc3RhdHVzID8/IFwibm9ybWFsXCIsXG4gICAgICAgIHJlbWFya3M6IHZhbHVlcy5yZW1hcmtzID8/IHByZXZba2V5XT8ucmVtYXJrcyA/PyBcIlwiLFxuICAgICAgfSxcbiAgICB9KSk7XG4gIH1cblxuICBmdW5jdGlvbiB0b2dnbGVTdWdnZXN0aW9uKGlkeDogbnVtYmVyLCBjaGVja2VkOiBib29sZWFuKSB7XG4gICAgc2V0U3VnZ2VzdGlvbnMoKHByZXYpID0+XG4gICAgICBwcmV2Lm1hcCgoaXRlbSwgaSkgPT4gKGkgPT09IGlkeCA/IHsgLi4uaXRlbSwgY2hlY2tlZCB9IDogaXRlbSkpXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZEN1c3RvbVN1cHBvcnRpbmcoKSB7XG4gICAgY29uc3QgaWQgPSBnZW5lcmF0ZUNsaWVudElkKCk7XG4gICAgc2V0Q3VzdG9tU3VwcG9ydGluZygocHJldikgPT4gWy4uLnByZXYsIHsgaWQsIGxhYmVsOiBcIlwiLCBzdW1tYXJ5OiBcIlwiLCB0eXBlOiBcImN1c3RvbVwiIH1dKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUN1c3RvbShpZDogc3RyaW5nLCBwYXRjaDogUGFydGlhbDx7IGxhYmVsOiBzdHJpbmc7IHN1bW1hcnk6IHN0cmluZyB9Pikge1xuICAgIHNldEN1c3RvbVN1cHBvcnRpbmcoKHByZXYpID0+XG4gICAgICBwcmV2Lm1hcCgoaXRlbSkgPT4gKGl0ZW0uaWQgPT09IGlkID8geyAuLi5pdGVtLCAuLi5wYXRjaCB9IDogaXRlbSkpXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUN1c3RvbShpZDogc3RyaW5nKSB7XG4gICAgc2V0Q3VzdG9tU3VwcG9ydGluZygocHJldikgPT4gcHJldi5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IGlkKSk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBleGVjdXRlTGFiU2VhcmNoKGU/OiBGb3JtRXZlbnQpIHtcbiAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbGFiU2VhcmNoLnRyaW0oKTtcbiAgICBpZiAocXVlcnkubGVuZ3RoIDwgMikge1xuICAgICAgc2V0TGFiU2VhcmNoRXJyb3IoXCJFbnRlciBhdCBsZWFzdCAyIGNoYXJhY3RlcnNcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldExhYlNlYXJjaExvYWRpbmcodHJ1ZSk7XG4gICAgc2V0TGFiU2VhcmNoRXJyb3IobnVsbCk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xuICAgICAgICBwYXRpZW50X2lkOiBwYXRpZW50SWQsXG4gICAgICAgIHE6IHF1ZXJ5LFxuICAgICAgfSk7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9kb2N0b3IvbWVkaWNhbC1jZXJ0aWZpY2F0ZXMvbGFicy9zZWFyY2g/JHtwYXJhbXN9YCwge1xuICAgICAgICBjYWNoZTogXCJuby1zdG9yZVwiLFxuICAgICAgfSk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoZGF0YT8uZXJyb3IgfHwgYEZhaWxlZCAoJHtyZXMuc3RhdHVzfSlgKTtcbiAgICAgIHNldExhYlJlc3VsdHMoZGF0YT8ubGFicyB8fCBbXSk7XG4gICAgICBpZiAoIWRhdGE/LmxhYnM/Lmxlbmd0aCkge1xuICAgICAgICBzZXRMYWJTZWFyY2hFcnJvcihcIk5vIG1hdGNoaW5nIGFuYWx5dGVzIGZvdW5kIGZvciB0aGlzIHBhdGllbnQuXCIpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBzZXRMYWJTZWFyY2hFcnJvcihlcnI/Lm1lc3NhZ2UgfHwgXCJTZWFyY2ggZmFpbGVkXCIpO1xuICAgICAgc2V0TGFiUmVzdWx0cyhbXSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExhYlNlYXJjaExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZExhYlJlc3VsdChyZXN1bHQ6IExhYlNlYXJjaFJlc3VsdCkge1xuICAgIGNvbnN0IGRhdGVLZXkgPSByZXN1bHQuZGF0ZV9pc28gPyByZXN1bHQuZGF0ZV9pc28uc2xpY2UoMCwgMTApIDogXCJyZWNlbnRcIjtcbiAgICBjb25zdCBsYWJlbCA9IGBMYWIgdGVzdHMgZG9uZSAoJHtyZXN1bHQuZGlzcGxheV9kYXRlfSlgO1xuICAgIHNldEN1c3RvbVN1cHBvcnRpbmcoKHByZXYpID0+IHtcbiAgICAgIGNvbnN0IG5leHQgPSBbLi4ucHJldl07XG4gICAgICBjb25zdCBpZHggPSBuZXh0LmZpbmRJbmRleChcbiAgICAgICAgKGVudHJ5KSA9PiBlbnRyeS5tZXRhPy5raW5kID09PSBcImxhYlwiICYmIGVudHJ5Lm1ldGE/LmRhdGUgPT09IGRhdGVLZXlcbiAgICAgICk7XG4gICAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgICAgY29uc3QgZW50cnkgPSBuZXh0W2lkeF07XG4gICAgICAgIGNvbnN0IGxpbmVzOiBzdHJpbmdbXSA9IGVudHJ5Lm1ldGE/LmxpbmVzID8gWy4uLmVudHJ5Lm1ldGEubGluZXNdIDogZW50cnkuc3VtbWFyeS5zcGxpdChcIjtcIikubWFwKChzKSA9PiBzLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICBpZiAoIWxpbmVzLmluY2x1ZGVzKHJlc3VsdC5zdW1tYXJ5KSkge1xuICAgICAgICAgIGxpbmVzLnB1c2gocmVzdWx0LnN1bW1hcnkpO1xuICAgICAgICAgIGVudHJ5LnN1bW1hcnkgPSBsaW5lcy5qb2luKFwiOyBcIik7XG4gICAgICAgICAgZW50cnkubWV0YSA9IHsgLi4uKGVudHJ5Lm1ldGEgfHwge30pLCBsaW5lcywga2luZDogXCJsYWJcIiwgZGF0ZTogZGF0ZUtleSB9O1xuICAgICAgICB9XG4gICAgICAgIG5leHRbaWR4XSA9IHsgLi4uZW50cnkgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHQucHVzaCh7XG4gICAgICAgICAgaWQ6IGdlbmVyYXRlQ2xpZW50SWQoKSxcbiAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICBzdW1tYXJ5OiByZXN1bHQuc3VtbWFyeSxcbiAgICAgICAgICB0eXBlOiBcImxhYnNcIixcbiAgICAgICAgICBzb3VyY2VfaWQ6IHJlc3VsdC5kYXRlX2lzbyB8fCBudWxsLFxuICAgICAgICAgIG1ldGE6IHsga2luZDogXCJsYWJcIiwgZGF0ZTogZGF0ZUtleSwgbGluZXM6IFtyZXN1bHQuc3VtbWFyeV0gfSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IGlzRWRpdGluZyA9IEJvb2xlYW4oZXhpc3RpbmdDZXJ0aWZpY2F0ZSk7XG4gIGNvbnN0IGlzc3VlRGF0ZSA9IHVzZU1lbW8oKCkgPT4gbmV3IERhdGUoKSwgW29wZW5dKTtcbiAgY29uc3QgdmFsaWRVbnRpbCA9IHVzZU1lbW8oXG4gICAgKCkgPT4gbmV3IERhdGUoaXNzdWVEYXRlLmdldFRpbWUoKSArIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCksXG4gICAgW2lzc3VlRGF0ZV1cbiAgKTtcbiAgY29uc3QgZGlzcGxheUlzc3VlZEF0ID0gZXhpc3RpbmdDZXJ0aWZpY2F0ZT8uaXNzdWVkX2F0IHx8IGlzc3VlRGF0ZS50b0lTT1N0cmluZygpO1xuICBjb25zdCBkaXNwbGF5VmFsaWRVbnRpbCA9IGV4aXN0aW5nQ2VydGlmaWNhdGU/LnZhbGlkX3VudGlsIHx8IHZhbGlkVW50aWwudG9JU09TdHJpbmcoKTtcblxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoKSB7XG4gICAgc2V0U2F2aW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuICAgIHNldFN1Y2Nlc3NNZXNzYWdlKG51bGwpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzZWxlY3RlZFN1Z2dlc3Rpb25zOiBTdXBwb3J0aW5nRGF0YUVudHJ5W10gPSBzdWdnZXN0aW9uc1xuICAgICAgICAuZmlsdGVyKChzKSA9PiBzLmNoZWNrZWQgJiYgcy5zdW1tYXJ5KVxuICAgICAgICAubWFwKChzKSA9PiAoe1xuICAgICAgICAgIHR5cGU6IHMudHlwZSxcbiAgICAgICAgICBsYWJlbDogcy5sYWJlbCxcbiAgICAgICAgICBzdW1tYXJ5OiBzLnN1bW1hcnksXG4gICAgICAgICAgc291cmNlX2lkOiBzLnNvdXJjZV9pZCB8fCBudWxsLFxuICAgICAgICB9KSk7XG5cbiAgICAgIGNvbnN0IGN1c3RvbUVudHJpZXM6IFN1cHBvcnRpbmdEYXRhRW50cnlbXSA9IGN1c3RvbVN1cHBvcnRpbmdcbiAgICAgICAgLm1hcCgoZW50cnkpID0+ICh7XG4gICAgICAgICAgdHlwZTogZW50cnkudHlwZSB8fCBcImN1c3RvbVwiLFxuICAgICAgICAgIGxhYmVsOiBlbnRyeS5sYWJlbC50cmltKCksXG4gICAgICAgICAgc3VtbWFyeTogZW50cnkuc3VtbWFyeS50cmltKCksXG4gICAgICAgICAgc291cmNlX2lkOiBlbnRyeS5zb3VyY2VfaWQgfHwgbnVsbCxcbiAgICAgICAgfSkpXG4gICAgICAgIC5maWx0ZXIoKGVudHJ5KSA9PiBlbnRyeS5sYWJlbCAmJiBlbnRyeS5zdW1tYXJ5KTtcblxuICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgcGF0aWVudF9pZDogcGF0aWVudElkLFxuICAgICAgICBjb25zdWx0YXRpb25faWQ6IGNvbnN1bHRhdGlvbklkLFxuICAgICAgICBlbmNvdW50ZXJfaWQ6IGVuY291bnRlcklkLFxuICAgICAgICBwaHlzaWNhbF9leGFtOiBwaHlzaWNhbEV4YW0sXG4gICAgICAgIGRpYWdub3Npc190ZXh0OiBkaWFnbm9zaXNUZXh0LFxuICAgICAgICByZW1hcmtzLFxuICAgICAgICBhZHZpY2UsXG4gICAgICAgIGZpbmRpbmdzX3N1bW1hcnk6IGZpbmRpbmdzU3VtbWFyeSB8fCBudWxsLFxuICAgICAgICBzdXBwb3J0aW5nX2RhdGE6IFsuLi5zZWxlY3RlZFN1Z2dlc3Rpb25zLCAuLi5jdXN0b21FbnRyaWVzXSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGVuZHBvaW50ID0gaXNFZGl0aW5nXG4gICAgICAgID8gYC9hcGkvZG9jdG9yL21lZGljYWwtY2VydGlmaWNhdGVzLyR7ZXhpc3RpbmdDZXJ0aWZpY2F0ZT8uaWR9YFxuICAgICAgICA6IFwiL2FwaS9kb2N0b3IvbWVkaWNhbC1jZXJ0aWZpY2F0ZXNcIjtcbiAgICAgIGNvbnN0IG1ldGhvZCA9IGlzRWRpdGluZyA/IFwiUEFUQ0hcIiA6IFwiUE9TVFwiO1xuXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChlbmRwb2ludCwge1xuICAgICAgICBtZXRob2QsXG4gICAgICAgIGhlYWRlcnM6IHsgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDQwOSAmJiBkYXRhPy5jZXJ0aWZpY2F0ZV9pZCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBkZXRhaWxSZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9kb2N0b3IvbWVkaWNhbC1jZXJ0aWZpY2F0ZXMvJHtkYXRhLmNlcnRpZmljYXRlX2lkfWAsIHtcbiAgICAgICAgICAgICAgY2FjaGU6IFwibm8tc3RvcmVcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgZGV0YWlsID0gYXdhaXQgZGV0YWlsUmVzLmpzb24oKTtcbiAgICAgICAgICAgIGlmIChkZXRhaWxSZXMub2sgJiYgZGV0YWlsPy5jZXJ0aWZpY2F0ZSkge1xuICAgICAgICAgICAgICBzZXRFeGlzdGluZ0NlcnRpZmljYXRlKGRldGFpbC5jZXJ0aWZpY2F0ZSk7XG4gICAgICAgICAgICAgIGh5ZHJhdGVGcm9tQ2VydGlmaWNhdGUoZGV0YWlsLmNlcnRpZmljYXRlKTtcbiAgICAgICAgICAgICAgc2V0RXJyb3IoXCJBIGNlcnRpZmljYXRlIGFscmVhZHkgZXhpc3RzIGZvciB0aGlzIGNvbnN1bHRhdGlvbi4gTG9hZGVkIGl0IGZvciBlZGl0aW5nLlwiKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGxvYWRFcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcImNvbmZsaWN0IGxvYWQgZmFpbGVkXCIsIGxvYWRFcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YT8uZXJyb3IgfHwgYEZhaWxlZCAoJHtyZXMuc3RhdHVzfSlgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBpc0VkaXRpbmcgPyBcIk1lZGljYWwgY2VydGlmaWNhdGUgdXBkYXRlZC5cIiA6IFwiTWVkaWNhbCBjZXJ0aWZpY2F0ZSBnZW5lcmF0ZWQuXCI7XG4gICAgICBzZXRTdWNjZXNzTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgIGlmIChkYXRhPy5jZXJ0aWZpY2F0ZSkge1xuICAgICAgICBzZXRFeGlzdGluZ0NlcnRpZmljYXRlKGRhdGEuY2VydGlmaWNhdGUpO1xuICAgICAgICBoeWRyYXRlRnJvbUNlcnRpZmljYXRlKGRhdGEuY2VydGlmaWNhdGUpO1xuICAgICAgICBzZXRIaXN0b3J5KChwcmV2KSA9PiB7XG4gICAgICAgICAgY29uc3QgZmlsdGVyZWQgPSBwcmV2LmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gZGF0YS5jZXJ0aWZpY2F0ZS5pZCk7XG4gICAgICAgICAgcmV0dXJuIFtkYXRhLmNlcnRpZmljYXRlLCAuLi5maWx0ZXJlZF0uc2xpY2UoMCwgNSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWlzRWRpdGluZyAmJiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEuY2VydGlmaWNhdGUuaWQpIHtcbiAgICAgICAgICB3aW5kb3cub3BlbihgL2RvY3Rvci9tZWRpY2FsLWNlcnRpZmljYXRlcy8ke2RhdGEuY2VydGlmaWNhdGUuaWR9L3ByaW50YCwgXCJfYmxhbmtcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG9uSXNzdWVkPy4oZGF0YS5jZXJ0aWZpY2F0ZSk7XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIHNldEVycm9yKGVycj8ubWVzc2FnZSB8fCBcIkZhaWxlZCB0byBjcmVhdGUgY2VydGlmaWNhdGUuXCIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRTYXZpbmcoZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghb3BlbikgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgcGF0aWVudE5hbWUgPSBmb3JtRGF0YT8ucGF0aWVudD8uZnVsbF9uYW1lIHx8IHBhdGllbnRJZDtcbiAgY29uc3QgcGF0aWVudEFkZHJlc3MgPSBmb3JtRGF0YT8ucGF0aWVudD8uYWRkcmVzcyB8fCBcIuKAlFwiO1xuICBjb25zdCBiaXJ0aGRheSA9IGZvcm1hdEJpcnRoZGF5KGZvcm1EYXRhPy5wYXRpZW50Py5iaXJ0aGRheSk7XG4gIGNvbnN0IGFnZSA9IGZvcm1EYXRhPy5wYXRpZW50Py5hZ2UgPz8gY29tcHV0ZUFnZShmb3JtRGF0YT8ucGF0aWVudD8uYmlydGhkYXkgfHwgbnVsbCk7XG4gIGNvbnN0IHNleCA9IChmb3JtRGF0YT8ucGF0aWVudD8uc2V4IHx8IFwiXCIpLnRvU3RyaW5nKCkudG9VcHBlckNhc2UoKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCB6LVs4MF0gZmxleCBpdGVtcy1zdHJldGNoIGp1c3RpZnktZW5kIGJnLWJsYWNrLzQwXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCB3LWZ1bGwgbWF4LXctNHhsIGJnLXdoaXRlIHNoYWRvdy0yeGwgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTMgYm9yZGVyLWIgcHgtNSBweS00XCI+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC1bIzQ0OTY5Yl1cIj5cbiAgICAgICAgICAgICAge2lzRWRpdGluZyA/IFwiRWRpdGluZyBleGlzdGluZyBjZXJ0aWZpY2F0ZVwiIDogXCJDZXJ0aWZpY2F0ZSBCdWlsZGVyXCJ9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkXCI+TWVkaWNhbCBDZXJ0aWZpY2F0ZTwvaDI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgbXQtMC41XCI+XG4gICAgICAgICAgICAgIElzc3VhbmNlOiB7Zm9ybWF0RGF0ZShkaXNwbGF5SXNzdWVkQXQpfSDCtyBWYWxpZCB1bnRpbCB7Zm9ybWF0RGF0ZShkaXNwbGF5VmFsaWRVbnRpbCl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAge2V4aXN0aW5nQ2VydGlmaWNhdGUgJiYgKFxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gd2luZG93Lm9wZW4oYC9kb2N0b3IvbWVkaWNhbC1jZXJ0aWZpY2F0ZXMvJHtleGlzdGluZ0NlcnRpZmljYXRlLmlkfS9wcmludGAsIFwiX2JsYW5rXCIpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLVsjMmU2NDY4XSBweC00IHB5LTEgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LVsjMmU2NDY4XVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBWaWV3IFByaW50XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2Nsb3NlRHJhd2VyfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBweC00IHB5LTEgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNjAwIGhvdmVyOmJnLWdyYXktMTAwXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgQ2xvc2VcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2hlYWRlcj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gcHgtNSBwYi0yMCBwdC00IHNwYWNlLXktNlwiPlxuICAgICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIGJvcmRlci1yZWQtMjAwIGJnLXJlZC01MCBweC0zIHB5LTIgdGV4dC1zbSB0ZXh0LXJlZC03MDBcIj5cbiAgICAgICAgICAgICAge2Vycm9yfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7c3VjY2Vzc01lc3NhZ2UgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBib3JkZXItZW1lcmFsZC0yMDAgYmctZW1lcmFsZC01MCBweC0zIHB5LTIgdGV4dC1zbSB0ZXh0LWVtZXJhbGQtODAwXCI+XG4gICAgICAgICAgICAgIHtzdWNjZXNzTWVzc2FnZX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAge2lzRWRpdGluZyAmJiBleGlzdGluZ0NlcnRpZmljYXRlICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYm9yZGVyLWFtYmVyLTIwMCBiZy1hbWJlci01MCBweC0zIHB5LTIgdGV4dC14cyB0ZXh0LWFtYmVyLTgwMFwiPlxuICAgICAgICAgICAgICBFZGl0aW5nIGNlcnRpZmljYXRlIDxiPntleGlzdGluZ0NlcnRpZmljYXRlLmNlcnRpZmljYXRlX25vfTwvYj4uIENoYW5nZXMgd2lsbCB1cGRhdGUgdGhlIGV4aXN0aW5nIHJlY29yZC5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJyb3VuZGVkLXhsIGJvcmRlciBiZy1ncmF5LTUwLzYwIHAtNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0zXCI+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB1cHBlcmNhc2UgdHJhY2tpbmctWzAuMmVtXSB0ZXh0LWdyYXktNTAwXCI+UGF0aWVudDwvcD5cbiAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDBcIj57cGF0aWVudE5hbWV9PC9oMz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICBzcmM9XCIvd2VsbHNlcnYtbG9nby5wbmdcIlxuICAgICAgICAgICAgICAgIGFsdD1cIldlbGxzZXJ2XCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTEwIHctYXV0byBvcGFjaXR5LTgwXCJcbiAgICAgICAgICAgICAgICBsb2FkaW5nPVwibGF6eVwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMyBncmlkIGdyaWQtY29scy0yIGdhcC0zIHRleHQtc20gdGV4dC1ncmF5LTcwMFwiPlxuICAgICAgICAgICAgICA8ZGl2PjxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDBcIj5QYXRpZW50IElEOjwvc3Bhbj4ge3BhdGllbnRJZH08L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdj48c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+U2V4Ojwvc3Bhbj4ge3NleCB8fCBcIuKAlFwifTwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2PjxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDBcIj5BZ2U6PC9zcGFuPiB7YWdlID8/IFwi4oCUXCJ9PC9kaXY+XG4gICAgICAgICAgICAgIDxkaXY+PHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMFwiPkRPQjo8L3NwYW4+IHtiaXJ0aGRheX08L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc3Bhbi0yXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMFwiPkFkZHJlc3M6PC9zcGFuPiB7cGF0aWVudEFkZHJlc3N9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9zZWN0aW9uPlxuXG4gICAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwicm91bmRlZC14bCBib3JkZXIgcC00XCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktODAwXCI+UmVmZXJlbmNlczwvaDM+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgZ3JpZCBncmlkLWNvbHMtMiBnYXAtMyB0ZXh0LXNtIHRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgdGV4dC14cyB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZVwiPkNvbnN1bHRhdGlvbjwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXY+e2Zvcm1EYXRhPy5jb25zdWx0YXRpb25fcmVmZXJlbmNlPy5pZCB8fCBjb25zdWx0YXRpb25JZH08L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAge2Zvcm1EYXRhPy5jb25zdWx0YXRpb25fcmVmZXJlbmNlPy52aXNpdF9hdFxuICAgICAgICAgICAgICAgICAgICA/IGZvcm1hdERhdGUoZm9ybURhdGEuY29uc3VsdGF0aW9uX3JlZmVyZW5jZS52aXNpdF9hdClcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgdGV4dC14cyB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZVwiPkVuY291bnRlcjwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXY+e2Zvcm1EYXRhPy5lbmNvdW50ZXJfcmVmZXJlbmNlPy5pZCB8fCBlbmNvdW50ZXJJZH08L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAge2Zvcm1EYXRhPy5lbmNvdW50ZXJfcmVmZXJlbmNlPy5icmFuY2ggfHwgXCLigJRcIn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L3NlY3Rpb24+XG5cbiAgICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJyb3VuZGVkLXhsIGJvcmRlciBwLTRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtZ3JheS04MDBcIj5QaHlzaWNhbCBFeGFtaW5hdGlvbjwvaDM+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgIENsaWNrIE5vcm1hbCAvIEFibm9ybWFsIGFuZCBhZGQgcmVtYXJrcyBhcyBuZWVkZWQuXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIGdyaWQgZ2FwLTMgbWQ6Z3JpZC1jb2xzLTJcIj5cbiAgICAgICAgICAgICAge1BIWVNJQ0FMX0VYQU1fU0VDVElPTlMubWFwKCh7IGtleSwgbGFiZWwgfSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0gcGh5c2ljYWxFeGFtW2tleV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtrZXl9IGNsYXNzTmFtZT1cInJvdW5kZWQtbGcgYm9yZGVyIHAtM1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS04MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57bGFiZWx9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHJvdW5kZWQtZnVsbCBweC0zIHB5LTAuNSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeT8uc3RhdHVzID09PSBcIm5vcm1hbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiYmctZW1lcmFsZC0xMDAgdGV4dC1lbWVyYWxkLTcwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiYmctZ3JheS0xMDAgdGV4dC1ncmF5LTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB1cGRhdGVFeGFtKGtleSBhcyBQaHlzaWNhbEV4YW1LZXksIHsgc3RhdHVzOiBcIm5vcm1hbFwiIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBOb3JtYWxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcm91bmRlZC1mdWxsIHB4LTMgcHktMC41IHRleHQteHMgZm9udC1zZW1pYm9sZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5Py5zdGF0dXMgPT09IFwiYWJub3JtYWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcImJnLXJvc2UtMTAwIHRleHQtcm9zZS03MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcImJnLWdyYXktMTAwIHRleHQtZ3JheS01MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdXBkYXRlRXhhbShrZXkgYXMgUGh5c2ljYWxFeGFtS2V5LCB7IHN0YXR1czogXCJhYm5vcm1hbFwiIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBBYm5vcm1hbFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0yIHctZnVsbCByb3VuZGVkIGJvcmRlciBweC0yIHB5LTEgdGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgcm93cz17Mn1cbiAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlJlbWFya3NcIlxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtlbnRyeT8ucmVtYXJrcyB8fCBcIlwifVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gdXBkYXRlRXhhbShrZXkgYXMgUGh5c2ljYWxFeGFtS2V5LCB7IHJlbWFya3M6IGUudGFyZ2V0LnZhbHVlIH0pfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L3NlY3Rpb24+XG5cbiAgICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJyb3VuZGVkLXhsIGJvcmRlciBwLTQgc3BhY2UteS0zXCI+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtZ3JheS04MDBcIj5EaWFnbm9zaXM8L2xhYmVsPlxuICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0xIHctZnVsbCByb3VuZGVkIGJvcmRlciBweC0zIHB5LTIgdGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgcm93cz17M31cbiAgICAgICAgICAgICAgICB2YWx1ZT17ZGlhZ25vc2lzVGV4dH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldERpYWdub3Npc1RleHQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtZ3JheS04MDBcIj5GaW5kaW5ncyBTdW1tYXJ5PC9sYWJlbD5cbiAgICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMSB3LWZ1bGwgcm91bmRlZCBib3JkZXIgcHgtMyBweS0yIHRleHQtc21cIlxuICAgICAgICAgICAgICAgIHJvd3M9ezN9XG4gICAgICAgICAgICAgICAgdmFsdWU9e2ZpbmRpbmdzU3VtbWFyeX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEZpbmRpbmdzU3VtbWFyeShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJPcHRpb25hbCBvdmVydmlldyBvZiBwZXJ0aW5lbnQgZmluZGluZ3MuXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdhcC0zIG1kOmdyaWQtY29scy0yXCI+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktODAwXCI+UmVtYXJrczwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0xIHctZnVsbCByb3VuZGVkIGJvcmRlciBweC0zIHB5LTIgdGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3JlbWFya3N9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFJlbWFya3MoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJlLmcuLCBGaXQgZm9yIHdvcmssIFVuZml0IGZvciB3b3JrIGZvciB4IGRheXPigKZcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTgwMFwiPkFkdmljZTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0xIHctZnVsbCByb3VuZGVkIGJvcmRlciBweC0zIHB5LTIgdGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2FkdmljZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0QWR2aWNlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvc2VjdGlvbj5cblxuICAgICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cInJvdW5kZWQteGwgYm9yZGVyIHAtNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTgwMFwiPlN1cHBvcnRpbmcgRGF0YTwvaDM+XG4gICAgICAgICAgICAgIHtzdXBwb3J0aW5nTG9hZGluZyAmJiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS00MDBcIj5Mb2FkaW5n4oCmPC9zcGFuPn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIHNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICB7c3VnZ2VzdGlvbnMubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5ObyBhdXRvbWF0aWMgc3VnZ2VzdGlvbnMgZm91bmQgZm9yIHRoaXMgZW5jb3VudGVyLjwvcD5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge3N1Z2dlc3Rpb25zLm1hcCgoaXRlbSwgaWR4KSA9PiAoXG4gICAgICAgICAgICAgICAgPGxhYmVsIGtleT17aXRlbS5rZXl9IGNsYXNzTmFtZT1cImZsZXggZ2FwLTMgcm91bmRlZCBib3JkZXIgcHgtMyBweS0yIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0xIGgtNCB3LTRcIlxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtpdGVtLmNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gdG9nZ2xlU3VnZ2VzdGlvbihpZHgsIGUudGFyZ2V0LmNoZWNrZWQpfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTgwMFwiPntpdGVtLmxhYmVsfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDBcIj57aXRlbS5zdW1tYXJ5fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC01IGJvcmRlci10IHB0LTRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtZ3JheS04MDBcIj5BZGQgTGFiIFRlc3RzPC9oND5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxmb3JtXG4gICAgICAgICAgICAgICAgb25TdWJtaXQ9e2V4ZWN1dGVMYWJTZWFyY2h9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMiBmbGV4IGZsZXgtY29sIGdhcC0yIHNtOmZsZXgtcm93XCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2xhYlNlYXJjaH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0TGFiU2VhcmNoKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VhcmNoIGFuYWx5dGUgKGUuZy4sIGNob2xlc3Rlcm9sKVwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgcm91bmRlZCBib3JkZXIgcHgtMyBweS0yIHRleHQtc21cIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17bGFiU2VhcmNoTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYmctWyMyZTY0NjhdIHB4LTQgcHktMiB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZSBkaXNhYmxlZDpvcGFjaXR5LTYwXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7bGFiU2VhcmNoTG9hZGluZyA/IFwiU2VhcmNoaW5n4oCmXCIgOiBcIlNlYXJjaFwifVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgICAgIHtsYWJTZWFyY2hFcnJvciAmJiAoXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXhzIHRleHQtcm9zZS02MDBcIj57bGFiU2VhcmNoRXJyb3J9PC9wPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7bGFiUmVzdWx0cy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgc3BhY2UteS0yIHJvdW5kZWQtbGcgYm9yZGVyIGJnLWdyYXktNTAvODAgcC0zXCI+XG4gICAgICAgICAgICAgICAgICB7bGFiUmVzdWx0cy5tYXAoKHJlcykgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAga2V5PXtyZXMuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYmctd2hpdGUgcHgtMyBweS0yIHRleHQtc21cIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS04MDBcIj57cmVzLmxhYmVsfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPntyZXMuZGlzcGxheV9kYXRlfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBhZGRMYWJSZXN1bHQocmVzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItWyMyZTY0NjhdIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC1bIzJlNjQ2OF1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBBZGRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LWdyYXktNjAwXCI+e3Jlcy5zdW1tYXJ5fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNlwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTgwMFwiPkN1c3RvbSBlbnRyaWVzPC9oND5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FkZEN1c3RvbVN1cHBvcnRpbmd9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC1bIzJlNjQ2OF1cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICsgQWRkIGVudHJ5XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICB7Y3VzdG9tU3VwcG9ydGluZy5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgdGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICBBZGQgbWFudWFsIHN1cHBvcnRpbmcgc3RhdGVtZW50cyB0aGF0IHdpbGwgYXBwZWFyIG9uIHRoZSBjZXJ0aWZpY2F0ZS5cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICB7Y3VzdG9tU3VwcG9ydGluZy5tYXAoKGVudHJ5KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGtleT17ZW50cnkuaWR9IGNsYXNzTmFtZT1cInJvdW5kZWQtbGcgYm9yZGVyIHB4LTMgcHktMlwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdXBwZXJjYXNlIHRleHQtZ3JheS01MDBcIj5MYWJlbDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiByZW1vdmVDdXN0b20oZW50cnkuaWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXJvc2UtNjAwXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICBSZW1vdmVcbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTEgdy1mdWxsIHJvdW5kZWQgYm9yZGVyIHB4LTIgcHktMSB0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZW50cnkubGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB1cGRhdGVDdXN0b20oZW50cnkuaWQsIHsgbGFiZWw6IGUudGFyZ2V0LnZhbHVlIH0pfVxuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiZS5nLiwgSW1hZ2luZ1wiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJtdC0yIHRleHQteHMgZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdGV4dC1ncmF5LTUwMFwiPlN1bW1hcnk8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0xIHctZnVsbCByb3VuZGVkIGJvcmRlciBweC0yIHB5LTEgdGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgcm93cz17Mn1cbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZW50cnkuc3VtbWFyeX1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHVwZGF0ZUN1c3RvbShlbnRyeS5pZCwgeyBzdW1tYXJ5OiBlLnRhcmdldC52YWx1ZSB9KX1cbiAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkluY2x1ZGUgc2hvcnQgc3RhdGVtZW504oCmXCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvc2VjdGlvbj5cblxuICAgICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cInJvdW5kZWQteGwgYm9yZGVyIHAtNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTgwMFwiPlJlY2VudCBDZXJ0aWZpY2F0ZXM8L2gzPlxuICAgICAgICAgICAgICB7aGlzdG9yeUxvYWRpbmcgJiYgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNDAwXCI+TG9hZGluZ+KApjwvc3Bhbj59XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHtoaXN0b3J5Lmxlbmd0aCA9PT0gMCAmJiAhaGlzdG9yeUxvYWRpbmcgJiYgKFxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0yIHRleHQtc20gdGV4dC1ncmF5LTUwMFwiPk5vIGNlcnRpZmljYXRlcyBpc3N1ZWQgZm9yIHRoaXMgcGF0aWVudCB5ZXQuPC9wPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJtdC0zIHNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICB7aGlzdG9yeS5tYXAoKGl0ZW0pID0+IChcbiAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgIGtleT17aXRlbS5pZH1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcm91bmRlZC1sZyBib3JkZXIgcHgtMyBweS0yIHRleHQtc21cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktODAwXCI+e2l0ZW0uY2VydGlmaWNhdGVfbm99PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgSXNzdWVkIHtmb3JtYXREYXRlKGl0ZW0uaXNzdWVkX2F0KX0g4oCiIFN0YXR1cyB7aXRlbS5zdGF0dXN9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3aW5kb3cub3BlbihgL2RvY3Rvci9tZWRpY2FsLWNlcnRpZmljYXRlcy8ke2l0ZW0uaWR9L3ByaW50YCwgXCJfYmxhbmtcIil9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLVsjMmU2NDY4XSBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtWyMyZTY0NjhdXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgVmlld1xuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDwvc2VjdGlvbj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGZvb3RlciBjbGFzc05hbWU9XCJzdGlja3kgYm90dG9tLTAgdy1mdWxsIGJvcmRlci10IGJnLXdoaXRlIHB4LTUgcHktNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBnYXAtMiBtZDpmbGV4LXJvdyBtZDppdGVtcy1jZW50ZXIgbWQ6anVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICBDZXJ0aWZpY2F0ZXMgYXJlIHNhdmVkIHRvIHRoZSBwYXRpZW50IHJlY29yZCB3aXRoIGEgMzAtZGF5IHZhbGlkaXR5IGJ5IGRlZmF1bHQuXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtzYXZpbmcgfHwgbG9hZGluZ31cbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU3VibWl0fVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1mdWxsIGJnLVsjMmU2NDY4XSBweC01IHB5LTIgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtd2hpdGUgZGlzYWJsZWQ6b3BhY2l0eS02MFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtzYXZpbmcgPyBcIkdlbmVyYXRpbmfigKZcIiA6IFwiR2VuZXJhdGUgY2VydGlmaWNhdGVcIn1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvb3Rlcj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VTdGF0ZSIsImNyZWF0ZURlZmF1bHRQaHlzaWNhbEV4YW0iLCJQSFlTSUNBTF9FWEFNX1NFQ1RJT05TIiwiZm9ybWF0dGVyIiwiSW50bCIsIkRhdGVUaW1lRm9ybWF0IiwieWVhciIsIm1vbnRoIiwiZGF5IiwiaG91ciIsIm1pbnV0ZSIsImZvcm1hdERhdGUiLCJpc28iLCJkdCIsIkRhdGUiLCJOdW1iZXIiLCJpc05hTiIsImZvcm1hdCIsImZvcm1hdEJpcnRoZGF5IiwiY29tcHV0ZUFnZSIsImJpcnRoZGF5IiwiZG9iIiwidG9kYXkiLCJhZ2UiLCJnZXRGdWxsWWVhciIsIm0iLCJnZXRNb250aCIsImdldERhdGUiLCJnZW5lcmF0ZUNsaWVudElkIiwiY3J5cHRvIiwicmFuZG9tVVVJRCIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInNsaWNlIiwiTWVkaWNhbENlcnRpZmljYXRlRHJhd2VyIiwib3BlbiIsIm9uQ2xvc2UiLCJwYXRpZW50SWQiLCJjb25zdWx0YXRpb25JZCIsImVuY291bnRlcklkIiwib25Jc3N1ZWQiLCJmb3JtRGF0YSIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwic3VwcG9ydGluZ0xvYWRpbmciLCJzZXRTdXBwb3J0aW5nTG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJzZXRGb3JtRGF0YSIsInBoeXNpY2FsRXhhbSIsInNldFBoeXNpY2FsRXhhbSIsImRpYWdub3Npc1RleHQiLCJzZXREaWFnbm9zaXNUZXh0IiwicmVtYXJrcyIsInNldFJlbWFya3MiLCJhZHZpY2UiLCJzZXRBZHZpY2UiLCJmaW5kaW5nc1N1bW1hcnkiLCJzZXRGaW5kaW5nc1N1bW1hcnkiLCJzdWNjZXNzTWVzc2FnZSIsInNldFN1Y2Nlc3NNZXNzYWdlIiwic2F2aW5nIiwic2V0U2F2aW5nIiwic3VnZ2VzdGlvbnMiLCJzZXRTdWdnZXN0aW9ucyIsImN1c3RvbVN1cHBvcnRpbmciLCJzZXRDdXN0b21TdXBwb3J0aW5nIiwiaGlzdG9yeSIsInNldEhpc3RvcnkiLCJoaXN0b3J5TG9hZGluZyIsInNldEhpc3RvcnlMb2FkaW5nIiwiZXhpc3RpbmdDZXJ0aWZpY2F0ZSIsInNldEV4aXN0aW5nQ2VydGlmaWNhdGUiLCJleGlzdGluZ0xvYWRpbmciLCJzZXRFeGlzdGluZ0xvYWRpbmciLCJsYWJTZWFyY2giLCJzZXRMYWJTZWFyY2giLCJsYWJSZXN1bHRzIiwic2V0TGFiUmVzdWx0cyIsImxhYlNlYXJjaExvYWRpbmciLCJzZXRMYWJTZWFyY2hMb2FkaW5nIiwibGFiU2VhcmNoRXJyb3IiLCJzZXRMYWJTZWFyY2hFcnJvciIsImlnbm9yZSIsImNvbnRyb2xsZXIiLCJBYm9ydENvbnRyb2xsZXIiLCJsb2FkIiwiZGF0YSIsInBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInBhdGllbnRfaWQiLCJjb25zdWx0YXRpb25faWQiLCJlbmNvdW50ZXJfaWQiLCJyZXMiLCJmZXRjaCIsImNhY2hlIiwic2lnbmFsIiwianNvbiIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJleGFtIiwicGh5c2ljYWxfZXhhbSIsImRlZmF1bHRzIiwiZGlhZ25vc2lzX3RleHQiLCJmaW5kaW5nc19zdW1tYXJ5IiwiZXJyIiwibWVzc2FnZSIsImFib3J0IiwibG9hZFN1Z2dlc3Rpb25zIiwibWFwcGVkIiwibWFwIiwiaXRlbSIsImlkeCIsImtleSIsInNvdXJjZV9pZCIsInR5cGUiLCJsYWJlbCIsInN1bW1hcnkiLCJjaGVja2VkIiwiY29uc29sZSIsIndhcm4iLCJsb2FkSGlzdG9yeSIsImxpbWl0IiwiaXRlbXMiLCJsb2FkRXhpc3RpbmdDZXJ0aWZpY2F0ZSIsIm1hdGNoIiwiQXJyYXkiLCJpc0FycmF5IiwiaWQiLCJkZXRhaWxSZXMiLCJkZXRhaWwiLCJjZXJ0aWZpY2F0ZSIsImh5ZHJhdGVGcm9tQ2VydGlmaWNhdGUiLCJwcmV2IiwiY2VydCIsInN1cHBvcnRpbmdfZGF0YSIsImVudHJ5IiwicmVzZXRTdGF0ZSIsImNsb3NlRHJhd2VyIiwidXBkYXRlRXhhbSIsInZhbHVlcyIsInRvZ2dsZVN1Z2dlc3Rpb24iLCJpIiwiYWRkQ3VzdG9tU3VwcG9ydGluZyIsInVwZGF0ZUN1c3RvbSIsInBhdGNoIiwicmVtb3ZlQ3VzdG9tIiwiZmlsdGVyIiwiZXhlY3V0ZUxhYlNlYXJjaCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInF1ZXJ5IiwidHJpbSIsImxlbmd0aCIsInEiLCJsYWJzIiwiYWRkTGFiUmVzdWx0IiwicmVzdWx0IiwiZGF0ZUtleSIsImRhdGVfaXNvIiwiZGlzcGxheV9kYXRlIiwibmV4dCIsImZpbmRJbmRleCIsIm1ldGEiLCJraW5kIiwiZGF0ZSIsImxpbmVzIiwic3BsaXQiLCJzIiwiQm9vbGVhbiIsImluY2x1ZGVzIiwicHVzaCIsImpvaW4iLCJpc0VkaXRpbmciLCJpc3N1ZURhdGUiLCJ2YWxpZFVudGlsIiwiZ2V0VGltZSIsImRpc3BsYXlJc3N1ZWRBdCIsImlzc3VlZF9hdCIsInRvSVNPU3RyaW5nIiwiZGlzcGxheVZhbGlkVW50aWwiLCJ2YWxpZF91bnRpbCIsImhhbmRsZVN1Ym1pdCIsInNlbGVjdGVkU3VnZ2VzdGlvbnMiLCJjdXN0b21FbnRyaWVzIiwicGF5bG9hZCIsImVuZHBvaW50IiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2VydGlmaWNhdGVfaWQiLCJsb2FkRXJyIiwiZmlsdGVyZWQiLCJ3aW5kb3ciLCJwYXRpZW50TmFtZSIsInBhdGllbnQiLCJmdWxsX25hbWUiLCJwYXRpZW50QWRkcmVzcyIsImFkZHJlc3MiLCJzZXgiLCJ0b1VwcGVyQ2FzZSIsImRpdiIsImNsYXNzTmFtZSIsImhlYWRlciIsInAiLCJoMiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJiIiwiY2VydGlmaWNhdGVfbm8iLCJzZWN0aW9uIiwiaDMiLCJpbWciLCJzcmMiLCJhbHQiLCJzcGFuIiwiY29uc3VsdGF0aW9uX3JlZmVyZW5jZSIsInZpc2l0X2F0IiwiZW5jb3VudGVyX3JlZmVyZW5jZSIsImJyYW5jaCIsInRleHRhcmVhIiwicm93cyIsInBsYWNlaG9sZGVyIiwidmFsdWUiLCJvbkNoYW5nZSIsInRhcmdldCIsImlucHV0IiwiaDQiLCJmb3JtIiwib25TdWJtaXQiLCJkaXNhYmxlZCIsInVsIiwibGkiLCJmb290ZXIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/MedicalCertificateDrawer.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/NotesPanel.tsx":
/*!****************************************************************!*\
  !*** ./app/(doctor)/doctor/patient/[patientId]/NotesPanel.tsx ***!
  \****************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ NotesPanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nfunction NotesPanel(param) {\n    let { patientId, consultationId, modeDefault = \"markdown\", autosave = false } = param;\n    _s();\n    const [mode, setMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(modeDefault);\n    const [md, setMd] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [soap, setSoap] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [err, setErr] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // timer to auto-hide \"Saved\"\n    const savedTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const clearSavedTimer = ()=>{\n        if (savedTimerRef.current) {\n            clearTimeout(savedTimerRef.current);\n            savedTimerRef.current = null;\n        }\n    };\n    const flashSaved = function() {\n        let ms = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 2000;\n        clearSavedTimer();\n        setSaving(\"saved\");\n        savedTimerRef.current = setTimeout(()=>{\n            setSaving(\"idle\");\n            savedTimerRef.current = null;\n        }, ms);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"NotesPanel.useEffect\": ()=>{\n            setMode(modeDefault);\n        }\n    }[\"NotesPanel.useEffect\"], [\n        modeDefault\n    ]);\n    // Prefill editor when consultationId becomes available (or changes)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"NotesPanel.useEffect\": ()=>{\n            let cancelled = false;\n            async function load() {\n                if (!consultationId) return;\n                setLoading(true);\n                setErr(null);\n                try {\n                    const res = await fetch(\"/api/doctor-notes/get?consultation_id=\".concat(encodeURIComponent(consultationId)));\n                    const j = await res.json();\n                    if (!res.ok) throw new Error((j === null || j === void 0 ? void 0 : j.error) || \"Failed to load notes.\");\n                    if (cancelled) return;\n                    var _j_notes_markdown;\n                    const gotMd = (_j_notes_markdown = j === null || j === void 0 ? void 0 : j.notes_markdown) !== null && _j_notes_markdown !== void 0 ? _j_notes_markdown : \"\";\n                    var _j_notes_soap;\n                    const gotSoap = (_j_notes_soap = j === null || j === void 0 ? void 0 : j.notes_soap) !== null && _j_notes_soap !== void 0 ? _j_notes_soap : null;\n                    setMd(gotMd || \"\");\n                    setSoap(gotSoap || {});\n                    // Choose sensible mode based on existing data (dont override if both empty)\n                    if (gotMd && !gotSoap) setMode(\"markdown\");\n                    else if (!gotMd && gotSoap) setMode(\"soap\");\n                    // fresh load -> not saved yet\n                    clearSavedTimer();\n                    setSaving(\"idle\");\n                } catch (e) {\n                    if (!cancelled) setErr(e.message || \"Failed to load notes.\");\n                } finally{\n                    if (!cancelled) setLoading(false);\n                }\n            }\n            load();\n            return ({\n                \"NotesPanel.useEffect\": ()=>{\n                    cancelled = true;\n                }\n            })[\"NotesPanel.useEffect\"];\n        }\n    }[\"NotesPanel.useEffect\"], [\n        consultationId\n    ]);\n    // Save handler\n    async function save() {\n        if (!consultationId) return;\n        clearSavedTimer();\n        setSaving(\"saving\");\n        setErr(null);\n        const res = await fetch(\"/api/doctor-notes/upsert\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                consultationId,\n                mode,\n                notesMarkdown: mode === \"markdown\" ? md : undefined,\n                notesSOAP: mode === \"soap\" ? soap : undefined\n            })\n        });\n        const j = await res.json().catch(()=>({}));\n        if (res.ok && (j === null || j === void 0 ? void 0 : j.ok) !== false) {\n            // success: show \"Saved\" briefly\n            flashSaved(2000);\n        } else {\n            setSaving(\"idle\");\n            setErr((j === null || j === void 0 ? void 0 : j.error) || \"Failed to save notes.\");\n        }\n    }\n    // Optional autosave\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"NotesPanel.useEffect\": ()=>{\n            if (!autosave || !consultationId) return;\n            const t = setTimeout(save, 800);\n            return ({\n                \"NotesPanel.useEffect\": ()=>clearTimeout(t)\n            })[\"NotesPanel.useEffect\"];\n        }\n    }[\"NotesPanel.useEffect\"], [\n        autosave,\n        consultationId,\n        mode,\n        md,\n        soap\n    ]);\n    // Any editor change should immediately hide \"Saved\"\n    const onMdChange = (v)=>{\n        if (saving === \"saved\") {\n            clearSavedTimer();\n            setSaving(\"idle\");\n        }\n        setMd(v);\n    };\n    const onSoapChange = (k, v)=>{\n        if (saving === \"saved\") {\n            clearSavedTimer();\n            setSaving(\"idle\");\n        }\n        setSoap((prev)=>({\n                ...prev,\n                [k]: v\n            }));\n    };\n    // Cleanup timer on unmount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"NotesPanel.useEffect\": ()=>clearSavedTimer\n    }[\"NotesPanel.useEffect\"], []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-2\",\n        children: [\n            err && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-sm text-red-600\",\n                children: err\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/NotesPanel.tsx\",\n                lineNumber: 139,\n                columnNumber: 15\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-sm\",\n                        children: \"Notes mode:\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/NotesPanel.tsx\",\n                        lineNumber: 142,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                onClick: ()=>setMode(\"markdown\"),\n                                className: \"px-2 py-1 rounded border text-sm \".concat(mode === \"markdown\" ? \"bg-black text-white\" : \"\"),\n                                children: \"Markdown\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/NotesPanel.tsx\",\n                                lineNumber: 144,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                onClick: ()=>setMode(\"soap\"),\n                                className: \"px-2 py-1 rounded border text-sm \".concat(mode === \"soap\" ? \"bg-black text-white\" : \"\"),\n                                children: \"SOAP\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/NotesPanel.tsx\",\n                                lineNumber: 151,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/NotesPanel.tsx\",\n                        lineNumber: 143,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"ml-auto text-xs text-gray-500\",\n                        children: loading ? \"Loading\" : saving === \"saving\" ? \"Saving\" : saving === \"saved\" ? \"Saved\" : \"\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/NotesPanel.tsx\",\n                        lineNumber: 160,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/NotesPanel.tsx\",\n                lineNumber: 141,\n                columnNumber: 7\n            }, this),\n            mode === \"markdown\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                className: \"w-full border rounded p-2 h-48 text-sm\",\n                placeholder: \"Type doctor notes (Markdown allowed: bullets, headings)\",\n                value: md,\n                onChange: (e)=>onMdChange(e.target.value),\n                disabled: !consultationId\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/NotesPanel.tsx\",\n                lineNumber: 166,\n                columnNumber: 9\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm\",\n                children: [\n                    \"S\",\n                    \"O\",\n                    \"A\",\n                    \"P\"\n                ].map((k)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"block text-xs text-gray-600 mb-1\",\n                                children: k\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/NotesPanel.tsx\",\n                                lineNumber: 177,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                className: \"w-full border rounded p-2 h-24\",\n                                value: soap[k] || \"\",\n                                onChange: (e)=>onSoapChange(k, e.target.value),\n                                disabled: !consultationId\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/NotesPanel.tsx\",\n                                lineNumber: 178,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, k, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/NotesPanel.tsx\",\n                        lineNumber: 176,\n                        columnNumber: 13\n                    }, this))\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/NotesPanel.tsx\",\n                lineNumber: 174,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-end\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    type: \"button\",\n                    className: \"rounded border px-3 py-2 text-sm\",\n                    onClick: save,\n                    disabled: !consultationId,\n                    children: \"Save Notes\"\n                }, void 0, false, {\n                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/NotesPanel.tsx\",\n                    lineNumber: 190,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/NotesPanel.tsx\",\n                lineNumber: 189,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/NotesPanel.tsx\",\n        lineNumber: 138,\n        columnNumber: 5\n    }, this);\n}\n_s(NotesPanel, \"T0qnn1ifnBK4bL8Rcvez0ofupbc=\");\n_c = NotesPanel;\nvar _c;\n$RefreshReg$(_c, \"NotesPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8oZG9jdG9yKS9kb2N0b3IvcGF0aWVudC9bcGF0aWVudElkXS9Ob3Rlc1BhbmVsLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFb0Q7QUFFckMsU0FBU0csV0FBVyxLQVVsQztRQVZrQyxFQUNqQ0MsU0FBUyxFQUNUQyxjQUFjLEVBQ2RDLGNBQWMsVUFBVSxFQUN4QkMsV0FBVyxLQUFLLEVBTWpCLEdBVmtDOztJQVdqQyxNQUFNLENBQUNDLE1BQU1DLFFBQVEsR0FBR1AsK0NBQVFBLENBQXNCSTtJQUN0RCxNQUFNLENBQUNJLElBQUlDLE1BQU0sR0FBR1QsK0NBQVFBLENBQUM7SUFDN0IsTUFBTSxDQUFDVSxNQUFNQyxRQUFRLEdBQUdYLCtDQUFRQSxDQUFxRCxDQUFDO0lBQ3RGLE1BQU0sQ0FBQ1ksUUFBUUMsVUFBVSxHQUFHYiwrQ0FBUUEsQ0FBOEI7SUFDbEUsTUFBTSxDQUFDYyxTQUFTQyxXQUFXLEdBQUdmLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ2dCLEtBQUtDLE9BQU8sR0FBR2pCLCtDQUFRQSxDQUFnQjtJQUU5Qyw2QkFBNkI7SUFDN0IsTUFBTWtCLGdCQUFnQm5CLDZDQUFNQSxDQUF1QztJQUNuRSxNQUFNb0Isa0JBQWtCO1FBQ3RCLElBQUlELGNBQWNFLE9BQU8sRUFBRTtZQUN6QkMsYUFBYUgsY0FBY0UsT0FBTztZQUNsQ0YsY0FBY0UsT0FBTyxHQUFHO1FBQzFCO0lBQ0Y7SUFDQSxNQUFNRSxhQUFhO1lBQUNDLHNFQUFLO1FBQ3ZCSjtRQUNBTixVQUFVO1FBQ1ZLLGNBQWNFLE9BQU8sR0FBR0ksV0FBVztZQUNqQ1gsVUFBVTtZQUNWSyxjQUFjRSxPQUFPLEdBQUc7UUFDMUIsR0FBR0c7SUFDTDtJQUVBekIsZ0RBQVNBO2dDQUFDO1lBQ1JTLFFBQVFIO1FBQ1Y7K0JBQUc7UUFBQ0E7S0FBWTtJQUVoQixvRUFBb0U7SUFDcEVOLGdEQUFTQTtnQ0FBQztZQUNSLElBQUkyQixZQUFZO1lBQ2hC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QUlDLFdBQVU7MEJBQ2IsNEVBQUNDO29CQUNDQyxNQUFLO29CQUNMRixXQUFVO29CQUNWRyxTQUFTcEI7b0JBQ1QyQixVQUFVLENBQUNqRTs4QkFDWjs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNVDtHQXBNd0JGO0tBQUFBIiwic291cmNlcyI6WyIvVXNlcnMvcG9jaG9sby9Qcm9qZWN0cy93ZWxsc2Vydi1wb3J0YWwvYXBwcy93ZWIvYXBwLyhkb2N0b3IpL2RvY3Rvci9wYXRpZW50L1twYXRpZW50SWRdL05vdGVzUGFuZWwudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTm90ZXNQYW5lbCh7XG4gIHBhdGllbnRJZCxcbiAgY29uc3VsdGF0aW9uSWQsXG4gIG1vZGVEZWZhdWx0ID0gXCJtYXJrZG93blwiLFxuICBhdXRvc2F2ZSA9IGZhbHNlLFxufToge1xuICBwYXRpZW50SWQ6IHN0cmluZztcbiAgY29uc3VsdGF0aW9uSWQ6IHN0cmluZyB8IG51bGw7XG4gIG1vZGVEZWZhdWx0PzogXCJtYXJrZG93blwiIHwgXCJzb2FwXCI7XG4gIGF1dG9zYXZlPzogYm9vbGVhbjtcbn0pIHtcbiAgY29uc3QgW21vZGUsIHNldE1vZGVdID0gdXNlU3RhdGU8XCJtYXJrZG93blwiIHwgXCJzb2FwXCI+KG1vZGVEZWZhdWx0IGFzIGFueSk7XG4gIGNvbnN0IFttZCwgc2V0TWRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtzb2FwLCBzZXRTb2FwXSA9IHVzZVN0YXRlPHsgUz86IHN0cmluZzsgTz86IHN0cmluZzsgQT86IHN0cmluZzsgUD86IHN0cmluZyB9Pih7fSk7XG4gIGNvbnN0IFtzYXZpbmcsIHNldFNhdmluZ10gPSB1c2VTdGF0ZTxcImlkbGVcIiB8IFwic2F2aW5nXCIgfCBcInNhdmVkXCI+KFwiaWRsZVwiKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyLCBzZXRFcnJdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gdGltZXIgdG8gYXV0by1oaWRlIFwiU2F2ZWRcIlxuICBjb25zdCBzYXZlZFRpbWVyUmVmID0gdXNlUmVmPFJldHVyblR5cGU8dHlwZW9mIHNldFRpbWVvdXQ+IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGNsZWFyU2F2ZWRUaW1lciA9ICgpID0+IHtcbiAgICBpZiAoc2F2ZWRUaW1lclJlZi5jdXJyZW50KSB7XG4gICAgICBjbGVhclRpbWVvdXQoc2F2ZWRUaW1lclJlZi5jdXJyZW50KTtcbiAgICAgIHNhdmVkVGltZXJSZWYuY3VycmVudCA9IG51bGw7XG4gICAgfVxuICB9O1xuICBjb25zdCBmbGFzaFNhdmVkID0gKG1zID0gMjAwMCkgPT4ge1xuICAgIGNsZWFyU2F2ZWRUaW1lcigpO1xuICAgIHNldFNhdmluZyhcInNhdmVkXCIpO1xuICAgIHNhdmVkVGltZXJSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0U2F2aW5nKFwiaWRsZVwiKTtcbiAgICAgIHNhdmVkVGltZXJSZWYuY3VycmVudCA9IG51bGw7XG4gICAgfSwgbXMpO1xuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0TW9kZShtb2RlRGVmYXVsdCBhcyBhbnkpO1xuICB9LCBbbW9kZURlZmF1bHRdKTtcblxuICAvLyBQcmVmaWxsIGVkaXRvciB3aGVuIGNvbnN1bHRhdGlvbklkIGJlY29tZXMgYXZhaWxhYmxlIChvciBjaGFuZ2VzKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBjYW5jZWxsZWQgPSBmYWxzZTtcbiAgICBhc3luYyBmdW5jdGlvbiBsb2FkKCkge1xuICAgICAgaWYgKCFjb25zdWx0YXRpb25JZCkgcmV0dXJuO1xuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIHNldEVycihudWxsKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL2RvY3Rvci1ub3Rlcy9nZXQ/Y29uc3VsdGF0aW9uX2lkPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbnN1bHRhdGlvbklkKX1gKTtcbiAgICAgICAgY29uc3QgaiA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3Ioaj8uZXJyb3IgfHwgXCJGYWlsZWQgdG8gbG9hZCBub3Rlcy5cIik7XG5cbiAgICAgICAgaWYgKGNhbmNlbGxlZCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGdvdE1kID0gKGo/Lm5vdGVzX21hcmtkb3duID8/IFwiXCIpIGFzIHN0cmluZztcbiAgICAgICAgY29uc3QgZ290U29hcCA9IChqPy5ub3Rlc19zb2FwID8/IG51bGwpIGFzIGFueTtcblxuICAgICAgICBzZXRNZChnb3RNZCB8fCBcIlwiKTtcbiAgICAgICAgc2V0U29hcChnb3RTb2FwIHx8IHt9KTtcblxuICAgICAgICAvLyBDaG9vc2Ugc2Vuc2libGUgbW9kZSBiYXNlZCBvbiBleGlzdGluZyBkYXRhIChkb27igJl0IG92ZXJyaWRlIGlmIGJvdGggZW1wdHkpXG4gICAgICAgIGlmIChnb3RNZCAmJiAhZ290U29hcCkgc2V0TW9kZShcIm1hcmtkb3duXCIpO1xuICAgICAgICBlbHNlIGlmICghZ290TWQgJiYgZ290U29hcCkgc2V0TW9kZShcInNvYXBcIik7XG5cbiAgICAgICAgLy8gZnJlc2ggbG9hZCAtPiBub3Qgc2F2ZWQgeWV0XG4gICAgICAgIGNsZWFyU2F2ZWRUaW1lcigpO1xuICAgICAgICBzZXRTYXZpbmcoXCJpZGxlXCIpO1xuICAgICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICAgIGlmICghY2FuY2VsbGVkKSBzZXRFcnIoZS5tZXNzYWdlIHx8IFwiRmFpbGVkIHRvIGxvYWQgbm90ZXMuXCIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKCFjYW5jZWxsZWQpIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgICBsb2FkKCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNhbmNlbGxlZCA9IHRydWU7XG4gICAgfTtcbiAgfSwgW2NvbnN1bHRhdGlvbklkXSk7XG5cbiAgLy8gU2F2ZSBoYW5kbGVyXG4gIGFzeW5jIGZ1bmN0aW9uIHNhdmUoKSB7XG4gICAgaWYgKCFjb25zdWx0YXRpb25JZCkgcmV0dXJuO1xuICAgIGNsZWFyU2F2ZWRUaW1lcigpO1xuICAgIHNldFNhdmluZyhcInNhdmluZ1wiKTtcbiAgICBzZXRFcnIobnVsbCk7XG5cbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcIi9hcGkvZG9jdG9yLW5vdGVzL3Vwc2VydFwiLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBjb25zdWx0YXRpb25JZCxcbiAgICAgICAgbW9kZSxcbiAgICAgICAgbm90ZXNNYXJrZG93bjogbW9kZSA9PT0gXCJtYXJrZG93blwiID8gbWQgOiB1bmRlZmluZWQsXG4gICAgICAgIG5vdGVzU09BUDogbW9kZSA9PT0gXCJzb2FwXCIgPyBzb2FwIDogdW5kZWZpbmVkLFxuICAgICAgfSksXG4gICAgfSk7XG5cbiAgICBjb25zdCBqID0gYXdhaXQgcmVzLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICBpZiAocmVzLm9rICYmIGo/Lm9rICE9PSBmYWxzZSkge1xuICAgICAgLy8gc3VjY2Vzczogc2hvdyBcIlNhdmVkXCIgYnJpZWZseVxuICAgICAgZmxhc2hTYXZlZCgyMDAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0U2F2aW5nKFwiaWRsZVwiKTtcbiAgICAgIHNldEVycihqPy5lcnJvciB8fCBcIkZhaWxlZCB0byBzYXZlIG5vdGVzLlwiKTtcbiAgICB9XG4gIH1cblxuICAvLyBPcHRpb25hbCBhdXRvc2F2ZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghYXV0b3NhdmUgfHwgIWNvbnN1bHRhdGlvbklkKSByZXR1cm47XG4gICAgY29uc3QgdCA9IHNldFRpbWVvdXQoc2F2ZSwgODAwKTtcbiAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHQpO1xuICB9LCBbYXV0b3NhdmUsIGNvbnN1bHRhdGlvbklkLCBtb2RlLCBtZCwgc29hcF0pO1xuXG4gIC8vIEFueSBlZGl0b3IgY2hhbmdlIHNob3VsZCBpbW1lZGlhdGVseSBoaWRlIFwiU2F2ZWRcIlxuICBjb25zdCBvbk1kQ2hhbmdlID0gKHY6IHN0cmluZykgPT4ge1xuICAgIGlmIChzYXZpbmcgPT09IFwic2F2ZWRcIikge1xuICAgICAgY2xlYXJTYXZlZFRpbWVyKCk7XG4gICAgICBzZXRTYXZpbmcoXCJpZGxlXCIpO1xuICAgIH1cbiAgICBzZXRNZCh2KTtcbiAgfTtcbiAgY29uc3Qgb25Tb2FwQ2hhbmdlID0gKGs6IFwiU1wiIHwgXCJPXCIgfCBcIkFcIiB8IFwiUFwiLCB2OiBzdHJpbmcpID0+IHtcbiAgICBpZiAoc2F2aW5nID09PSBcInNhdmVkXCIpIHtcbiAgICAgIGNsZWFyU2F2ZWRUaW1lcigpO1xuICAgICAgc2V0U2F2aW5nKFwiaWRsZVwiKTtcbiAgICB9XG4gICAgc2V0U29hcChwcmV2ID0+ICh7IC4uLnByZXYsIFtrXTogdiB9KSk7XG4gIH07XG5cbiAgLy8gQ2xlYW51cCB0aW1lciBvbiB1bm1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiBjbGVhclNhdmVkVGltZXIsIFtdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICB7ZXJyICYmIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXJlZC02MDBcIj57ZXJyfTwvZGl2Pn1cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc21cIj5Ob3RlcyBtb2RlOjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldE1vZGUoXCJtYXJrZG93blwiKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTIgcHktMSByb3VuZGVkIGJvcmRlciB0ZXh0LXNtICR7bW9kZSA9PT0gXCJtYXJrZG93blwiID8gXCJiZy1ibGFjayB0ZXh0LXdoaXRlXCIgOiBcIlwifWB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgTWFya2Rvd25cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldE1vZGUoXCJzb2FwXCIpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtMiBweS0xIHJvdW5kZWQgYm9yZGVyIHRleHQtc20gJHttb2RlID09PSBcInNvYXBcIiA/IFwiYmctYmxhY2sgdGV4dC13aGl0ZVwiIDogXCJcIn1gfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIFNPQVBcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtYXV0byB0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICB7bG9hZGluZyA/IFwiTG9hZGluZ+KAplwiIDogc2F2aW5nID09PSBcInNhdmluZ1wiID8gXCJTYXZpbmfigKZcIiA6IHNhdmluZyA9PT0gXCJzYXZlZFwiID8gXCJTYXZlZFwiIDogXCJcIn1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHttb2RlID09PSBcIm1hcmtkb3duXCIgPyAoXG4gICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBib3JkZXIgcm91bmRlZCBwLTIgaC00OCB0ZXh0LXNtXCJcbiAgICAgICAgICBwbGFjZWhvbGRlcj1cIlR5cGUgZG9jdG9yIG5vdGVz4oCmIChNYXJrZG93biBhbGxvd2VkOiBidWxsZXRzLCBoZWFkaW5ncylcIlxuICAgICAgICAgIHZhbHVlPXttZH1cbiAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IG9uTWRDaGFuZ2UoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgIGRpc2FibGVkPXshY29uc3VsdGF0aW9uSWR9XG4gICAgICAgIC8+XG4gICAgICApIDogKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgc206Z3JpZC1jb2xzLTIgZ2FwLTIgdGV4dC1zbVwiPlxuICAgICAgICAgIHsoW1wiU1wiLCBcIk9cIiwgXCJBXCIsIFwiUFwiXSBhcyBjb25zdCkubWFwKChrKSA9PiAoXG4gICAgICAgICAgICA8ZGl2IGtleT17a30+XG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXhzIHRleHQtZ3JheS02MDAgbWItMVwiPntrfTwvbGFiZWw+XG4gICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBib3JkZXIgcm91bmRlZCBwLTIgaC0yNFwiXG4gICAgICAgICAgICAgICAgdmFsdWU9eyhzb2FwIGFzIGFueSlba10gfHwgXCJcIn1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IG9uU29hcENoYW5nZShrLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFjb25zdWx0YXRpb25JZH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgcHgtMyBweS0yIHRleHQtc21cIlxuICAgICAgICAgIG9uQ2xpY2s9e3NhdmV9XG4gICAgICAgICAgZGlzYWJsZWQ9eyFjb25zdWx0YXRpb25JZH1cbiAgICAgICAgPlxuICAgICAgICAgIFNhdmUgTm90ZXNcbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIk5vdGVzUGFuZWwiLCJwYXRpZW50SWQiLCJjb25zdWx0YXRpb25JZCIsIm1vZGVEZWZhdWx0IiwiYXV0b3NhdmUiLCJtb2RlIiwic2V0TW9kZSIsIm1kIiwic2V0TWQiLCJzb2FwIiwic2V0U29hcCIsInNhdmluZyIsInNldFNhdmluZyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyIiwic2V0RXJyIiwic2F2ZWRUaW1lclJlZiIsImNsZWFyU2F2ZWRUaW1lciIsImN1cnJlbnQiLCJjbGVhclRpbWVvdXQiLCJmbGFzaFNhdmVkIiwibXMiLCJzZXRUaW1lb3V0IiwiY2FuY2VsbGVkIiwibG9hZCIsInJlcyIsImZldGNoIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiaiIsImpzb24iLCJvayIsIkVycm9yIiwiZXJyb3IiLCJnb3RNZCIsIm5vdGVzX21hcmtkb3duIiwiZ290U29hcCIsIm5vdGVzX3NvYXAiLCJlIiwibWVzc2FnZSIsInNhdmUiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJub3Rlc01hcmtkb3duIiwidW5kZWZpbmVkIiwibm90ZXNTT0FQIiwiY2F0Y2giLCJ0Iiwib25NZENoYW5nZSIsInYiLCJvblNvYXBDaGFuZ2UiLCJrIiwicHJldiIsImRpdiIsImNsYXNzTmFtZSIsImJ1dHRvbiIsInR5cGUiLCJvbkNsaWNrIiwic3BhbiIsInRleHRhcmVhIiwicGxhY2Vob2xkZXIiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwidGFyZ2V0IiwiZGlzYWJsZWQiLCJtYXAiLCJsYWJlbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/NotesPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx":
/*!*******************************************************************!*\
  !*** ./app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx ***!
  \*******************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ OtherLabsCard)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nconst ACCENT = \"#44969b\";\nfunction fmtDate(d) {\n    if (!d) return \"\";\n    const dt = new Date(d);\n    return Number.isNaN(dt.getTime()) ? d : dt.toLocaleString(undefined, {\n        year: \"numeric\",\n        month: \"short\",\n        day: \"2-digit\"\n    });\n}\nfunction isEcgItem(item) {\n    const type = String(item.type || \"\").trim().toUpperCase();\n    const category = String(item.category || \"\").trim().toUpperCase();\n    const subtype = String(item.subtype || \"\").trim().toUpperCase();\n    return type === \"ECG\" || type.startsWith(\"ECG\") || type.includes(\"ECG\") || category === \"ECG\" || category.startsWith(\"ECG\") || subtype.startsWith(\"ECG\");\n}\nfunction OtherLabsCard(param) {\n    let { patientId, showHeader = true } = param;\n    _s();\n    const [open, setOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [items, setItems] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [err, setErr] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [ecgReports, setEcgReports] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [reportsLoading, setReportsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"OtherLabsCard.useEffect\": ()=>{\n            let abort = false;\n            setErr(null);\n            setItems(null);\n            ({\n                \"OtherLabsCard.useEffect\": async ()=>{\n                    try {\n                        const res = await fetch(\"/api/patient/other-labs?patient_id=\".concat(encodeURIComponent(patientId)), {\n                            cache: \"no-store\"\n                        });\n                        const j = await res.json();\n                        if (!res.ok) throw new Error((j === null || j === void 0 ? void 0 : j.error) || \"HTTP \".concat(res.status));\n                        if (!abort) setItems(Array.isArray(j) ? j : []);\n                    } catch (e) {\n                        if (!abort) setErr((e === null || e === void 0 ? void 0 : e.message) || \"Failed to load\");\n                    }\n                }\n            })[\"OtherLabsCard.useEffect\"]();\n            return ({\n                \"OtherLabsCard.useEffect\": ()=>{\n                    abort = true;\n                }\n            })[\"OtherLabsCard.useEffect\"];\n        }\n    }[\"OtherLabsCard.useEffect\"], [\n        patientId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"OtherLabsCard.useEffect\": ()=>{\n            if (!items || items.length === 0) {\n                setEcgReports({});\n                setReportsLoading(false);\n                return;\n            }\n            const ecgIds = items.filter({\n                \"OtherLabsCard.useEffect.ecgIds\": (it)=>isEcgItem(it)\n            }[\"OtherLabsCard.useEffect.ecgIds\"]).map({\n                \"OtherLabsCard.useEffect.ecgIds\": (it)=>it.id\n            }[\"OtherLabsCard.useEffect.ecgIds\"]);\n            if (ecgIds.length === 0) {\n                setEcgReports({});\n                setReportsLoading(false);\n                return;\n            }\n            let abort = false;\n            setReportsLoading(true);\n            const params = new URLSearchParams();\n            params.set(\"ids\", ecgIds.join(\",\"));\n            fetch(\"/api/ecg/reports?\".concat(params.toString()), {\n                cache: \"no-store\"\n            }).then({\n                \"OtherLabsCard.useEffect\": async (res)=>{\n                    const body = await res.json().catch({\n                        \"OtherLabsCard.useEffect\": ()=>({})\n                    }[\"OtherLabsCard.useEffect\"]);\n                    if (!res.ok) {\n                        throw new Error((body === null || body === void 0 ? void 0 : body.error) || \"HTTP \".concat(res.status));\n                    }\n                    if (!abort) {\n                        const map = {};\n                        (body.reports || []).forEach({\n                            \"OtherLabsCard.useEffect\": (rep)=>{\n                                if (rep === null || rep === void 0 ? void 0 : rep.external_result_id) map[rep.external_result_id] = rep;\n                            }\n                        }[\"OtherLabsCard.useEffect\"]);\n                        setEcgReports(map);\n                    }\n                }\n            }[\"OtherLabsCard.useEffect\"]).catch({\n                \"OtherLabsCard.useEffect\": ()=>{\n                    if (!abort) setEcgReports({});\n                }\n            }[\"OtherLabsCard.useEffect\"]).finally({\n                \"OtherLabsCard.useEffect\": ()=>{\n                    if (!abort) setReportsLoading(false);\n                }\n            }[\"OtherLabsCard.useEffect\"]);\n            return ({\n                \"OtherLabsCard.useEffect\": ()=>{\n                    abort = true;\n                }\n            })[\"OtherLabsCard.useEffect\"];\n        }\n    }[\"OtherLabsCard.useEffect\"], [\n        items\n    ]);\n    const grouped = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"OtherLabsCard.useMemo[grouped]\": ()=>{\n            const g = {};\n            (items || []).forEach({\n                \"OtherLabsCard.useMemo[grouped]\": (it)=>{\n                    var _g, _key;\n                    const key = (it.type || \"Uncategorized\").trim();\n                    ((_g = g)[_key = key] || (_g[_key] = [])).push(it);\n                }\n            }[\"OtherLabsCard.useMemo[grouped]\"]);\n            Object.keys(g).forEach({\n                \"OtherLabsCard.useMemo[grouped]\": (k)=>{\n                    g[k].sort({\n                        \"OtherLabsCard.useMemo[grouped]\": (a, b)=>new Date(b.taken_at || b.uploaded_at || 0).getTime() - new Date(a.taken_at || a.uploaded_at || 0).getTime()\n                    }[\"OtherLabsCard.useMemo[grouped]\"]);\n                }\n            }[\"OtherLabsCard.useMemo[grouped]\"]);\n            return g;\n        }\n    }[\"OtherLabsCard.useMemo[grouped]\"], [\n        items\n    ]);\n    const groups = Object.keys(grouped);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"rounded-2xl border border-gray-200 bg-white shadow-sm\",\n        children: [\n            showHeader && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between px-4 py-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"inline-block h-2.5 w-2.5 rounded-full bg-emerald-500\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                lineNumber: 170,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"font-semibold text-gray-800\",\n                                children: \"Other Labs\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                lineNumber: 171,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                        lineNumber: 169,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        onClick: ()=>setOpen((v)=>!v),\n                        className: \"rounded-full border border-gray-300 px-3 py-1 text-sm hover:bg-gray-50\",\n                        children: open ? \"Hide\" : \"Show\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                        lineNumber: 173,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                lineNumber: 168,\n                columnNumber: 9\n            }, this),\n            open && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: showHeader ? \"px-4 pb-4\" : \"px-4 pt-4 pb-4\",\n                children: [\n                    !items && !err && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-sm text-gray-500\",\n                        children: \"Loading external results\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                        lineNumber: 187,\n                        columnNumber: 13\n                    }, this),\n                    err && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-sm text-red-600\",\n                        children: [\n                            \"Failed to load: \",\n                            err\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                        lineNumber: 189,\n                        columnNumber: 19\n                    }, this),\n                    items && items.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-sm text-gray-500\",\n                        children: \"No outside lab results uploaded.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                        lineNumber: 191,\n                        columnNumber: 13\n                    }, this),\n                    items && items.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-col gap-5\",\n                        children: groups.map((group)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"rounded-xl border border-gray-200\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between border-b px-3 py-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"font-medium text-gray-800\",\n                                                children: group\n                                            }, void 0, false, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                lineNumber: 200,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-xs text-gray-500\",\n                                                children: [\n                                                    grouped[group].length,\n                                                    \" file\",\n                                                    grouped[group].length > 1 ? \"s\" : \"\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                lineNumber: 201,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                        lineNumber: 199,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"grid grid-cols-1 gap-3 p-3 md:grid-cols-2 lg:grid-cols-3\",\n                                        children: grouped[group].map((it)=>{\n                                            const isEcg = isEcgItem(it);\n                                            const report = isEcg ? ecgReports[it.id] : undefined;\n                                            const isImg = (it.content_type || \"\").startsWith(\"image/\");\n                                            const isPdf = it.content_type === \"application/pdf\" || it.url.toLowerCase().includes(\".pdf\");\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"rounded-lg border border-gray-200 bg-white p-3 shadow-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mb-2 flex flex-wrap items-center gap-1.5\",\n                                                        children: [\n                                                            it.category && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"rounded-full border px-2 py-0.5 text-xs\",\n                                                                style: {\n                                                                    borderColor: ACCENT + \"66\",\n                                                                    color: ACCENT,\n                                                                    background: ACCENT + \"14\"\n                                                                },\n                                                                children: it.category\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                lineNumber: 223,\n                                                                columnNumber: 31\n                                                            }, this),\n                                                            it.subtype && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"rounded-full bg-gray-100 px-2 py-0.5 text-xs text-gray-700\",\n                                                                children: it.subtype\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                lineNumber: 235,\n                                                                columnNumber: 31\n                                                            }, this),\n                                                            it.provider && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"rounded-full bg-gray-100 px-2 py-0.5 text-xs text-gray-700\",\n                                                                children: it.provider\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                lineNumber: 240,\n                                                                columnNumber: 31\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"rounded-full bg-gray-100 px-2 py-0.5 text-xs text-gray-700\",\n                                                                children: fmtDate(it.taken_at)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                lineNumber: 244,\n                                                                columnNumber: 29\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                        lineNumber: 221,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mb-2\",\n                                                        children: isImg ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                            href: it.url,\n                                                            target: \"_blank\",\n                                                            rel: \"noreferrer\",\n                                                            className: \"block overflow-hidden rounded-md border\",\n                                                            title: \"Open image\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                src: it.url,\n                                                                alt: it.note || it.subtype || it.type,\n                                                                className: \"aspect-[4/3] w-full object-cover\",\n                                                                loading: \"lazy\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                lineNumber: 259,\n                                                                columnNumber: 33\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                            lineNumber: 252,\n                                                            columnNumber: 31\n                                                        }, this) : isPdf ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                            href: it.url,\n                                                            target: \"_blank\",\n                                                            rel: \"noreferrer\",\n                                                            className: \"flex items-center gap-3 rounded-md border p-3 hover:bg-gray-50\",\n                                                            title: \"Open PDF\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex h-10 w-10 items-center justify-center rounded bg-gray-100\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                                        xmlns: \"http://www.w3.org/2000/svg\",\n                                                                        viewBox: \"0 0 24 24\",\n                                                                        className: \"h-5 w-5 text-gray-600\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                            d: \"M6 2h7l5 5v15a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z\",\n                                                                            fill: \"currentColor\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                            lineNumber: 280,\n                                                                            columnNumber: 37\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                        lineNumber: 275,\n                                                                        columnNumber: 35\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                    lineNumber: 274,\n                                                                    columnNumber: 33\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-sm font-medium text-gray-800\",\n                                                                            children: \"Open PDF\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                            lineNumber: 287,\n                                                                            columnNumber: 35\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-xs text-gray-500\",\n                                                                            children: fmtDate(it.taken_at)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                            lineNumber: 290,\n                                                                            columnNumber: 35\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                    lineNumber: 286,\n                                                                    columnNumber: 33\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                            lineNumber: 267,\n                                                            columnNumber: 31\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                            href: it.url,\n                                                            target: \"_blank\",\n                                                            rel: \"noreferrer\",\n                                                            className: \"block rounded-md border p-3 hover:bg-gray-50\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-sm font-medium text-gray-800\",\n                                                                    children: \"Open file\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                    lineNumber: 302,\n                                                                    columnNumber: 33\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-xs text-gray-500\",\n                                                                    children: [\n                                                                        it.content_type || \"file\",\n                                                                        \"  \",\n                                                                        fmtDate(it.taken_at)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                    lineNumber: 305,\n                                                                    columnNumber: 33\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                            lineNumber: 296,\n                                                            columnNumber: 31\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                        lineNumber: 250,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"space-y-1.5 text-xs text-gray-600\",\n                                                        children: [\n                                                            it.impression && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"font-medium text-gray-800\",\n                                                                        children: \"Impression: \"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                        lineNumber: 316,\n                                                                        columnNumber: 33\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"whitespace-pre-wrap\",\n                                                                        children: it.impression\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                        lineNumber: 317,\n                                                                        columnNumber: 33\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                lineNumber: 315,\n                                                                columnNumber: 31\n                                                            }, this),\n                                                            it.reported_at && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"font-medium text-gray-800\",\n                                                                        children: \"Reported: \"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                        lineNumber: 322,\n                                                                        columnNumber: 33\n                                                                    }, this),\n                                                                    fmtDate(it.reported_at)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                lineNumber: 321,\n                                                                columnNumber: 31\n                                                            }, this),\n                                                            (it.performer_name || it.performer_role || it.performer_license) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-gray-700\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"font-medium text-gray-800\",\n                                                                        children: \"Performer: \"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                        lineNumber: 328,\n                                                                        columnNumber: 33\n                                                                    }, this),\n                                                                    it.performer_name || \"\",\n                                                                    it.performer_role ? \"  \".concat(it.performer_role) : \"\",\n                                                                    it.performer_license ? \"  PRC \".concat(it.performer_license) : \"\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                lineNumber: 327,\n                                                                columnNumber: 31\n                                                            }, this),\n                                                            it.note && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"font-medium text-gray-800\",\n                                                                        children: \"Notes: \"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                        lineNumber: 336,\n                                                                        columnNumber: 33\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"whitespace-pre-wrap\",\n                                                                        children: it.note\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                        lineNumber: 337,\n                                                                        columnNumber: 33\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                lineNumber: 335,\n                                                                columnNumber: 31\n                                                            }, this),\n                                                            isEcg && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"font-medium text-gray-800\",\n                                                                        children: \"ECG Status: \"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                        lineNumber: 342,\n                                                                        columnNumber: 33\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-semibold \".concat((report === null || report === void 0 ? void 0 : report.status) === \"final\" ? \"bg-emerald-100 text-emerald-700\" : \"bg-amber-100 text-amber-700\"),\n                                                                        children: (report === null || report === void 0 ? void 0 : report.status) === \"final\" ? \"Interpreted \".concat(fmtDate(report.interpreted_at)) : reportsLoading ? \"Fetching interpretation\" : \"Awaiting interpretation\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                        lineNumber: 343,\n                                                                        columnNumber: 33\n                                                                    }, this),\n                                                                    (report === null || report === void 0 ? void 0 : report.interpreted_name) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"mt-1 text-xs text-gray-600\",\n                                                                        children: [\n                                                                            \"by \",\n                                                                            report.interpreted_name,\n                                                                            report.interpreted_license ? \"  PRC \".concat(report.interpreted_license) : \"\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                        lineNumber: 357,\n                                                                        columnNumber: 35\n                                                                    }, this),\n                                                                    !report && !reportsLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"mt-1 text-xs text-gray-500\",\n                                                                        children: \"Doctor interpretation pending.\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                        lineNumber: 363,\n                                                                        columnNumber: 35\n                                                                    }, this),\n                                                                    (report === null || report === void 0 ? void 0 : report.impression) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"mt-2 rounded-lg border border-emerald-200 bg-emerald-50/80 p-2 text-[12px] text-emerald-900 whitespace-pre-wrap\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"block text-[10px] font-semibold uppercase tracking-wide text-emerald-700 mb-1\",\n                                                                                children: \"Interpretation\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                                lineNumber: 369,\n                                                                                columnNumber: 37\n                                                                            }, this),\n                                                                            report.impression,\n                                                                            report.recommendations && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"mt-1 text-emerald-800\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        className: \"font-medium\",\n                                                                                        children: \"Recommendations:\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                                        lineNumber: 375,\n                                                                                        columnNumber: 41\n                                                                                    }, this),\n                                                                                    \" \",\n                                                                                    report.recommendations\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                                lineNumber: 374,\n                                                                                columnNumber: 39\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                        lineNumber: 368,\n                                                                        columnNumber: 35\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                                lineNumber: 341,\n                                                                columnNumber: 31\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                        lineNumber: 313,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                ]\n                                            }, it.id, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                                lineNumber: 216,\n                                                columnNumber: 25\n                                            }, this);\n                                        })\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                        lineNumber: 206,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, group, true, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                                lineNumber: 198,\n                                columnNumber: 17\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                        lineNumber: 196,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n                lineNumber: 184,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\",\n        lineNumber: 166,\n        columnNumber: 5\n    }, this);\n}\n_s(OtherLabsCard, \"ufC3uZhuRHIogy48nDLOLcrUynQ=\");\n_c = OtherLabsCard;\nvar _c;\n$RefreshReg$(_c, \"OtherLabsCard\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8oZG9jdG9yKS9kb2N0b3IvcGF0aWVudC9bcGF0aWVudElkXS9PdGhlckxhYnNDYXJkLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFcUQ7QUFFckQsTUFBTUcsU0FBUztBQXNDZixTQUFTQyxRQUFRQyxDQUFpQjtJQUNoQyxJQUFJLENBQUNBLEdBQUcsT0FBTztJQUNmLE1BQU1DLEtBQUssSUFBSUMsS0FBS0Y7SUFDcEIsT0FBT0csT0FBT0MsS0FBSyxDQUFDSCxHQUFHSSxPQUFPLE1BQzFCTCxJQUNBQyxHQUFHSyxjQUFjLENBQUNDLFdBQVc7UUFBRUMsTUFBTTtRQUFXQyxPQUFPO1FBQVNDLEtBQUs7SUFBVTtBQUNyRjtBQUVBLFNBQVNDLFVBQVVDLElBQVU7SUFDM0IsTUFBTUMsT0FBT0MsT0FBT0YsS0FBS0MsSUFBSSxJQUFJLElBQUlFLElBQUksR0FBR0MsV0FBVztJQUN2RCxNQUFNQyxXQUFXSCxPQUFPRixLQUFLSyxRQUFRLElBQUksSUFBSUYsSUFBSSxHQUFHQyxXQUFXO0lBQy9ELE1BQU1FLFVBQVVKLE9BQU9GLEtBQUtNLE9BQU8sSUFBSSxJQUFJSCxJQUFJLEdBQUdDLFdBQVc7SUFDN0QsT0FDRUgsU0FBUyxTQUNUQSxLQUFLTSxVQUFVLENBQUMsVUFDaEJOLEtBQUtPLFFBQVEsQ0FBQyxVQUNkSCxhQUFhLFNBQ2JBLFNBQVNFLFVBQVUsQ0FBQyxVQUNwQkQsUUFBUUMsVUFBVSxDQUFDO0FBRXZCO0FBRWUsU0FBU0UsY0FBYyxLQU1yQztRQU5xQyxFQUNwQ0MsU0FBUyxFQUNUQyxhQUFhLElBQUksRUFJbEIsR0FOcUM7O0lBT3BDLE1BQU0sQ0FBQ0MsTUFBTUMsUUFBUSxHQUFHNUIsK0NBQVFBLENBQUM7SUFDakMsTUFBTSxDQUFDNkIsT0FBT0MsU0FBUyxHQUFHOUIsK0NBQVFBLENBQWdCO0lBQ2xELE1BQU0sQ0FBQytCLEtBQUtDLE9BQU8sR0FBR2hDLCtDQUFRQSxDQUFnQjtJQUM5QyxNQUFN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QUFDQzt3RUFDQ0QsV0FBVywrRUFJVixPQUhDUSxDQUFBQSxtQkFBQUEsNkJBQUFBLE9BQVE5QyxNQUFNLE1BQUssVUFDZixvQ0FDQTtrRkFHTDhDLENBQUFBLG1CQUFBQSw2QkFBQUEsT0FBUTlDLE1BQU0sTUFBSyxVQUNoQixlQUE4QyxPQUEvQjdDLFFBQVEyRixPQUFPOEIsY0FBYyxLQUM1Q3hGLGlCQUNBLDZCQUNBOzs7Ozs7b0VBRUwwRCxDQUFBQSxtQkFBQUEsNkJBQUFBLE9BQVErQixnQkFBZ0IsbUJBQ3ZCLDhEQUFDeEM7d0VBQUlDLFdBQVU7OzRFQUE2Qjs0RUFDdENRLE9BQU8rQixnQkFBZ0I7NEVBQzFCL0IsT0FBT2dDLG1CQUFtQixHQUFHLFVBQXFDLE9BQTNCaEMsT0FBT2dDLG1CQUFtQixJQUFLOzs7Ozs7O29FQUcxRSxDQUFDaEMsVUFBVSxDQUFDMUQsZ0NBQ1gsOERBQUNpRDt3RUFBSUMsV0FBVTtrRkFBNkI7Ozs7OztvRUFJN0NRLENBQUFBLG1CQUFBQSw2QkFBQUEsT0FBUXlCLFVBQVUsbUJBQ2pCLDhEQUFDbEM7d0VBQUlDLFdBQVU7OzBGQUNiLDhEQUFDQztnRkFBS0QsV0FBVTswRkFBZ0Y7Ozs7Ozs0RUFHL0ZRLE9BQU95QixVQUFVOzRFQUNqQnpCLE9BQU9pQyxlQUFlLGtCQUNyQiw4REFBQzFDO2dGQUFJQyxXQUFVOztrR0FDYiw4REFBQ0M7d0ZBQUtELFdBQVU7a0dBQWM7Ozs7OztvRkFBd0I7b0ZBQ3JEUSxPQUFPaUMsZUFBZTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7K0NBL0poQ3ZFLEdBQUdFLEVBQUU7Ozs7O3dDQXlLaEI7Ozs7Ozs7K0JBNUxNa0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFzTTFCO0dBM1V3Qm5FO0tBQUFBIiwic291cmNlcyI6WyIvVXNlcnMvcG9jaG9sby9Qcm9qZWN0cy93ZWxsc2Vydi1wb3J0YWwvYXBwcy93ZWIvYXBwLyhkb2N0b3IpL2RvY3Rvci9wYXRpZW50L1twYXRpZW50SWRdL090aGVyTGFic0NhcmQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5cbmNvbnN0IEFDQ0VOVCA9IFwiIzQ0OTY5YlwiO1xuXG50eXBlIEl0ZW0gPSB7XG4gIGlkOiBzdHJpbmc7XG4gIHBhdGllbnRfaWQ6IHN0cmluZztcbiAgdXJsOiBzdHJpbmc7ICAgICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgc2lnbmVkIGJ5IHRoZSBBUElcbiAgY29udGVudF90eXBlOiBzdHJpbmcgfCBudWxsO1xuICB0eXBlOiBzdHJpbmc7ICAgICAgICAgICAgICAgICAgLy8gbGVnYWN5IGdyb3VwaW5nIGxhYmVsXG4gIGVuY291bnRlcl9pZD86IHN0cmluZyB8IG51bGw7XG4gIHByb3ZpZGVyPzogc3RyaW5nIHwgbnVsbDtcbiAgdGFrZW5fYXQ/OiBzdHJpbmcgfCBudWxsO1xuICB1cGxvYWRlZF9hdD86IHN0cmluZyB8IG51bGw7XG4gIHVwbG9hZGVkX2J5Pzogc3RyaW5nIHwgbnVsbDtcbiAgbm90ZT86IHN0cmluZyB8IG51bGw7XG4gIC8vIG5ldyBZYWthcCBmaWVsZHNcbiAgY2F0ZWdvcnk/OiBzdHJpbmcgfCBudWxsO1xuICBzdWJ0eXBlPzogc3RyaW5nIHwgbnVsbDtcbiAgaW1wcmVzc2lvbj86IHN0cmluZyB8IG51bGw7XG4gIHJlcG9ydGVkX2F0Pzogc3RyaW5nIHwgbnVsbDtcbiAgcGVyZm9ybWVyX25hbWU/OiBzdHJpbmcgfCBudWxsO1xuICBwZXJmb3JtZXJfcm9sZT86IHN0cmluZyB8IG51bGw7XG4gIHBlcmZvcm1lcl9saWNlbnNlPzogc3RyaW5nIHwgbnVsbDtcbn07XG5cbnR5cGUgRWNnUmVwb3J0U3VtbWFyeSA9IHtcbiAgaWQ6IHN0cmluZztcbiAgZXh0ZXJuYWxfcmVzdWx0X2lkOiBzdHJpbmc7XG4gIHBhdGllbnRfaWQ6IHN0cmluZztcbiAgZW5jb3VudGVyX2lkOiBzdHJpbmcgfCBudWxsO1xuICBkb2N0b3JfaWQ6IHN0cmluZztcbiAgaW50ZXJwcmV0ZWRfYXQ6IHN0cmluZyB8IG51bGw7XG4gIGludGVycHJldGVkX25hbWU6IHN0cmluZztcbiAgaW50ZXJwcmV0ZWRfbGljZW5zZTogc3RyaW5nIHwgbnVsbDtcbiAgaW1wcmVzc2lvbjogc3RyaW5nO1xuICByZWNvbW1lbmRhdGlvbnM/OiBzdHJpbmcgfCBudWxsO1xuICBzdGF0dXM6IHN0cmluZztcbn07XG5cbmZ1bmN0aW9uIGZtdERhdGUoZD86IHN0cmluZyB8IG51bGwpIHtcbiAgaWYgKCFkKSByZXR1cm4gXCLigJRcIjtcbiAgY29uc3QgZHQgPSBuZXcgRGF0ZShkKTtcbiAgcmV0dXJuIE51bWJlci5pc05hTihkdC5nZXRUaW1lKCkpXG4gICAgPyBkXG4gICAgOiBkdC50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsIHsgeWVhcjogXCJudW1lcmljXCIsIG1vbnRoOiBcInNob3J0XCIsIGRheTogXCIyLWRpZ2l0XCIgfSk7XG59XG5cbmZ1bmN0aW9uIGlzRWNnSXRlbShpdGVtOiBJdGVtKSB7XG4gIGNvbnN0IHR5cGUgPSBTdHJpbmcoaXRlbS50eXBlIHx8IFwiXCIpLnRyaW0oKS50b1VwcGVyQ2FzZSgpO1xuICBjb25zdCBjYXRlZ29yeSA9IFN0cmluZyhpdGVtLmNhdGVnb3J5IHx8IFwiXCIpLnRyaW0oKS50b1VwcGVyQ2FzZSgpO1xuICBjb25zdCBzdWJ0eXBlID0gU3RyaW5nKGl0ZW0uc3VidHlwZSB8fCBcIlwiKS50cmltKCkudG9VcHBlckNhc2UoKTtcbiAgcmV0dXJuIChcbiAgICB0eXBlID09PSBcIkVDR1wiIHx8XG4gICAgdHlwZS5zdGFydHNXaXRoKFwiRUNHXCIpIHx8XG4gICAgdHlwZS5pbmNsdWRlcyhcIkVDR1wiKSB8fFxuICAgIGNhdGVnb3J5ID09PSBcIkVDR1wiIHx8XG4gICAgY2F0ZWdvcnkuc3RhcnRzV2l0aChcIkVDR1wiKSB8fFxuICAgIHN1YnR5cGUuc3RhcnRzV2l0aChcIkVDR1wiKVxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBPdGhlckxhYnNDYXJkKHtcbiAgcGF0aWVudElkLFxuICBzaG93SGVhZGVyID0gdHJ1ZSxcbn06IHtcbiAgcGF0aWVudElkOiBzdHJpbmc7XG4gIHNob3dIZWFkZXI/OiBib29sZWFuO1xufSkge1xuICBjb25zdCBbb3Blbiwgc2V0T3Blbl0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2l0ZW1zLCBzZXRJdGVtc10gPSB1c2VTdGF0ZTxJdGVtW10gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2Vyciwgc2V0RXJyXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZWNnUmVwb3J0cywgc2V0RWNnUmVwb3J0c10gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBFY2dSZXBvcnRTdW1tYXJ5Pj4oe30pO1xuICBjb25zdCBbcmVwb3J0c0xvYWRpbmcsIHNldFJlcG9ydHNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBhYm9ydCA9IGZhbHNlO1xuICAgIHNldEVycihudWxsKTtcbiAgICBzZXRJdGVtcyhudWxsKTtcbiAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYC9hcGkvcGF0aWVudC9vdGhlci1sYWJzP3BhdGllbnRfaWQ9JHtlbmNvZGVVUklDb21wb25lbnQocGF0aWVudElkKX1gLFxuICAgICAgICAgIHsgY2FjaGU6IFwibm8tc3RvcmVcIiB9XG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IGogPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKGo/LmVycm9yIHx8IGBIVFRQICR7cmVzLnN0YXR1c31gKTtcbiAgICAgICAgaWYgKCFhYm9ydCkgc2V0SXRlbXMoQXJyYXkuaXNBcnJheShqKSA/IGogOiBbXSk7XG4gICAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgICAgaWYgKCFhYm9ydCkgc2V0RXJyKGU/Lm1lc3NhZ2UgfHwgXCJGYWlsZWQgdG8gbG9hZFwiKTtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBhYm9ydCA9IHRydWU7XG4gICAgfTtcbiAgfSwgW3BhdGllbnRJZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpdGVtcyB8fCBpdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHNldEVjZ1JlcG9ydHMoe30pO1xuICAgICAgc2V0UmVwb3J0c0xvYWRpbmcoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGVjZ0lkcyA9IGl0ZW1zLmZpbHRlcigoaXQpID0+IGlzRWNnSXRlbShpdCkpLm1hcCgoaXQpID0+IGl0LmlkKTtcblxuICAgIGlmIChlY2dJZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBzZXRFY2dSZXBvcnRzKHt9KTtcbiAgICAgIHNldFJlcG9ydHNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgYWJvcnQgPSBmYWxzZTtcbiAgICBzZXRSZXBvcnRzTG9hZGluZyh0cnVlKTtcblxuICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICBwYXJhbXMuc2V0KFwiaWRzXCIsIGVjZ0lkcy5qb2luKFwiLFwiKSk7XG5cbiAgICBmZXRjaChgL2FwaS9lY2cvcmVwb3J0cz8ke3BhcmFtcy50b1N0cmluZygpfWAsIHsgY2FjaGU6IFwibm8tc3RvcmVcIiB9KVxuICAgICAgLnRoZW4oYXN5bmMgKHJlcykgPT4ge1xuICAgICAgICBjb25zdCBib2R5OiB7IHJlcG9ydHM/OiBFY2dSZXBvcnRTdW1tYXJ5W107IGVycm9yPzogc3RyaW5nIH0gPSBhd2FpdCByZXMuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAoIXJlcy5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihib2R5Py5lcnJvciB8fCBgSFRUUCAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhYm9ydCkge1xuICAgICAgICAgIGNvbnN0IG1hcDogUmVjb3JkPHN0cmluZywgRWNnUmVwb3J0U3VtbWFyeT4gPSB7fTtcbiAgICAgICAgICAoYm9keS5yZXBvcnRzIHx8IFtdKS5mb3JFYWNoKChyZXApID0+IHtcbiAgICAgICAgICAgIGlmIChyZXA/LmV4dGVybmFsX3Jlc3VsdF9pZCkgbWFwW3JlcC5leHRlcm5hbF9yZXN1bHRfaWRdID0gcmVwO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldEVjZ1JlcG9ydHMobWFwKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgIGlmICghYWJvcnQpIHNldEVjZ1JlcG9ydHMoe30pO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgaWYgKCFhYm9ydCkgc2V0UmVwb3J0c0xvYWRpbmcoZmFsc2UpO1xuICAgICAgfSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgYWJvcnQgPSB0cnVlO1xuICAgIH07XG4gIH0sIFtpdGVtc10pO1xuXG4gIGNvbnN0IGdyb3VwZWQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBnOiBSZWNvcmQ8c3RyaW5nLCBJdGVtW10+ID0ge307XG4gICAgKGl0ZW1zIHx8IFtdKS5mb3JFYWNoKChpdCkgPT4ge1xuICAgICAgY29uc3Qga2V5ID0gKGl0LnR5cGUgfHwgXCJVbmNhdGVnb3JpemVkXCIpLnRyaW0oKTtcbiAgICAgIChnW2tleV0gfHw9IFtdKS5wdXNoKGl0KTtcbiAgICB9KTtcbiAgICBPYmplY3Qua2V5cyhnKS5mb3JFYWNoKChrKSA9PiB7XG4gICAgICBnW2tdLnNvcnQoXG4gICAgICAgIChhLCBiKSA9PlxuICAgICAgICAgIG5ldyBEYXRlKGIudGFrZW5fYXQgfHwgYi51cGxvYWRlZF9hdCB8fCAwKS5nZXRUaW1lKCkgLVxuICAgICAgICAgIG5ldyBEYXRlKGEudGFrZW5fYXQgfHwgYS51cGxvYWRlZF9hdCB8fCAwKS5nZXRUaW1lKClcbiAgICAgICk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGc7XG4gIH0sIFtpdGVtc10pO1xuXG4gIGNvbnN0IGdyb3VwcyA9IE9iamVjdC5rZXlzKGdyb3VwZWQpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkLTJ4bCBib3JkZXIgYm9yZGVyLWdyYXktMjAwIGJnLXdoaXRlIHNoYWRvdy1zbVwiPlxuICAgICAge3Nob3dIZWFkZXIgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBweC00IHB5LTNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtYmxvY2sgaC0yLjUgdy0yLjUgcm91bmRlZC1mdWxsIGJnLWVtZXJhbGQtNTAwXCIgLz5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtZ3JheS04MDBcIj5PdGhlciBMYWJzPC9oMz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldE9wZW4oKHYpID0+ICF2KX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHB4LTMgcHktMSB0ZXh0LXNtIGhvdmVyOmJnLWdyYXktNTBcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtvcGVuID8gXCJIaWRlXCIgOiBcIlNob3dcIn1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7b3BlbiAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzaG93SGVhZGVyID8gXCJweC00IHBiLTRcIiA6IFwicHgtNCBwdC00IHBiLTRcIn0+XG4gICAgICAgICAgey8qIHN0YXR1cyArIGVycm9ycyAqL31cbiAgICAgICAgICB7IWl0ZW1zICYmICFlcnIgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5Mb2FkaW5nIGV4dGVybmFsIHJlc3VsdHPigKY8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtlcnIgJiYgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcmVkLTYwMFwiPkZhaWxlZCB0byBsb2FkOiB7ZXJyfTwvZGl2Pn1cbiAgICAgICAgICB7aXRlbXMgJiYgaXRlbXMubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+Tm8gb3V0c2lkZSBsYWIgcmVzdWx0cyB1cGxvYWRlZC48L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgey8qIGNvbnRlbnQgKi99XG4gICAgICAgICAge2l0ZW1zICYmIGl0ZW1zLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC01XCI+XG4gICAgICAgICAgICAgIHtncm91cHMubWFwKChncm91cCkgPT4gKFxuICAgICAgICAgICAgICAgIDxkaXYga2V5PXtncm91cH0gY2xhc3NOYW1lPVwicm91bmRlZC14bCBib3JkZXIgYm9yZGVyLWdyYXktMjAwXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBib3JkZXItYiBweC0zIHB5LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyYXktODAwXCI+e2dyb3VwfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtncm91cGVkW2dyb3VwXS5sZW5ndGh9IGZpbGV7Z3JvdXBlZFtncm91cF0ubGVuZ3RoID4gMSA/IFwic1wiIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIGdhcC0zIHAtMyBtZDpncmlkLWNvbHMtMiBsZzpncmlkLWNvbHMtM1wiPlxuICAgICAgICAgICAgICAgICAgICB7Z3JvdXBlZFtncm91cF0ubWFwKChpdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzRWNnID0gaXNFY2dJdGVtKGl0KTtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXBvcnQgPSBpc0VjZyA/IGVjZ1JlcG9ydHNbaXQuaWRdIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzSW1nID0gKGl0LmNvbnRlbnRfdHlwZSB8fCBcIlwiKS5zdGFydHNXaXRoKFwiaW1hZ2UvXCIpO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzUGRmID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGl0LmNvbnRlbnRfdHlwZSA9PT0gXCJhcHBsaWNhdGlvbi9wZGZcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgaXQudXJsLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCIucGRmXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpdC5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWdyYXktMjAwIGJnLXdoaXRlIHAtMyBzaGFkb3ctc21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogaGVhZGVyIHJvdzogY2hpcHMgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMiBmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIgZ2FwLTEuNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdC5jYXRlZ29yeSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLWZ1bGwgYm9yZGVyIHB4LTIgcHktMC41IHRleHQteHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiBBQ0NFTlQgKyBcIjY2XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IEFDQ0VOVCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBBQ0NFTlQgKyBcIjE0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdC5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdC5zdWJ0eXBlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJvdW5kZWQtZnVsbCBiZy1ncmF5LTEwMCBweC0yIHB5LTAuNSB0ZXh0LXhzIHRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0LnN1YnR5cGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXQucHJvdmlkZXIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicm91bmRlZC1mdWxsIGJnLWdyYXktMTAwIHB4LTIgcHktMC41IHRleHQteHMgdGV4dC1ncmF5LTcwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXQucHJvdmlkZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyb3VuZGVkLWZ1bGwgYmctZ3JheS0xMDAgcHgtMiBweS0wLjUgdGV4dC14cyB0ZXh0LWdyYXktNzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Zm10RGF0ZShpdC50YWtlbl9hdCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogcHJldmlldyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzSW1nID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJlZj17aXQudXJsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWw9XCJub3JlZmVycmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtbWQgYm9yZGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJPcGVuIGltYWdlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17aXQudXJsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17aXQubm90ZSB8fCBpdC5zdWJ0eXBlIHx8IGl0LnR5cGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYXNwZWN0LVs0LzNdIHctZnVsbCBvYmplY3QtY292ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc9XCJsYXp5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogaXNQZGYgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmPXtpdC51cmx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbD1cIm5vcmVmZXJyZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyByb3VuZGVkLW1kIGJvcmRlciBwLTMgaG92ZXI6YmctZ3JheS01MFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiT3BlbiBQREZcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0xMCB3LTEwIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkIGJnLWdyYXktMTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtNSB3LTUgdGV4dC1ncmF5LTYwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZD1cIk02IDJoN2w1IDV2MTVhMiAyIDAgMCAxLTIgMkg2YTIgMiAwIDAgMS0yLTJWNGEyIDIgMCAwIDEgMi0yelwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS04MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9wZW4gUERGXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmbXREYXRlKGl0LnRha2VuX2F0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY9e2l0LnVybH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsPVwibm9yZWZlcnJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJsb2NrIHJvdW5kZWQtbWQgYm9yZGVyIHAtMyBob3ZlcjpiZy1ncmF5LTUwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS04MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPcGVuIGZpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0LmNvbnRlbnRfdHlwZSB8fCBcImZpbGVcIn0g4oCiIHtmbXREYXRlKGl0LnRha2VuX2F0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIG1ldGEgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0xLjUgdGV4dC14cyB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0LmltcHJlc3Npb24gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTgwMFwiPkltcHJlc3Npb246IDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwid2hpdGVzcGFjZS1wcmUtd3JhcFwiPntpdC5pbXByZXNzaW9ufTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0LnJlcG9ydGVkX2F0ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS04MDBcIj5SZXBvcnRlZDogPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Zm10RGF0ZShpdC5yZXBvcnRlZF9hdCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsoaXQucGVyZm9ybWVyX25hbWUgfHwgaXQucGVyZm9ybWVyX3JvbGUgfHwgaXQucGVyZm9ybWVyX2xpY2Vuc2UpICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTcwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyYXktODAwXCI+UGVyZm9ybWVyOiA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdC5wZXJmb3JtZXJfbmFtZSB8fCBcIuKAlFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXQucGVyZm9ybWVyX3JvbGUgPyBgIOKAoiAke2l0LnBlcmZvcm1lcl9yb2xlfWAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXQucGVyZm9ybWVyX2xpY2Vuc2UgPyBgIOKAoiBQUkMgJHtpdC5wZXJmb3JtZXJfbGljZW5zZX1gIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0Lm5vdGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTgwMFwiPk5vdGVzOiA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIndoaXRlc3BhY2UtcHJlLXdyYXBcIj57aXQubm90ZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc0VjZyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyYXktODAwXCI+RUNHIFN0YXR1czogPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciByb3VuZGVkLWZ1bGwgcHgtMiBweS0wLjUgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwb3J0Py5zdGF0dXMgPT09IFwiZmluYWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiYmctZW1lcmFsZC0xMDAgdGV4dC1lbWVyYWxkLTcwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJiZy1hbWJlci0xMDAgdGV4dC1hbWJlci03MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlcG9ydD8uc3RhdHVzID09PSBcImZpbmFsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYEludGVycHJldGVkICR7Zm10RGF0ZShyZXBvcnQuaW50ZXJwcmV0ZWRfYXQpfWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcmVwb3J0c0xvYWRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJGZXRjaGluZyBpbnRlcnByZXRhdGlvbuKAplwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiQXdhaXRpbmcgaW50ZXJwcmV0YXRpb25cIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVwb3J0Py5pbnRlcnByZXRlZF9uYW1lICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTEgdGV4dC14cyB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBieSB7cmVwb3J0LmludGVycHJldGVkX25hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVwb3J0LmludGVycHJldGVkX2xpY2Vuc2UgPyBgIOKAoiBQUkMgJHtyZXBvcnQuaW50ZXJwcmV0ZWRfbGljZW5zZX1gIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyFyZXBvcnQgJiYgIXJlcG9ydHNMb2FkaW5nICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTEgdGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEb2N0b3IgaW50ZXJwcmV0YXRpb24gcGVuZGluZy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlcG9ydD8uaW1wcmVzc2lvbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTIwMCBiZy1lbWVyYWxkLTUwLzgwIHAtMiB0ZXh0LVsxMnB4XSB0ZXh0LWVtZXJhbGQtOTAwIHdoaXRlc3BhY2UtcHJlLXdyYXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtWzEwcHhdIGZvbnQtc2VtaWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC1lbWVyYWxkLTcwMCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEludGVycHJldGF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVwb3J0LmltcHJlc3Npb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVwb3J0LnJlY29tbWVuZGF0aW9ucyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LWVtZXJhbGQtODAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5SZWNvbW1lbmRhdGlvbnM6PC9zcGFuPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVwb3J0LnJlY29tbWVuZGF0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlU3RhdGUiLCJBQ0NFTlQiLCJmbXREYXRlIiwiZCIsImR0IiwiRGF0ZSIsIk51bWJlciIsImlzTmFOIiwiZ2V0VGltZSIsInRvTG9jYWxlU3RyaW5nIiwidW5kZWZpbmVkIiwieWVhciIsIm1vbnRoIiwiZGF5IiwiaXNFY2dJdGVtIiwiaXRlbSIsInR5cGUiLCJTdHJpbmciLCJ0cmltIiwidG9VcHBlckNhc2UiLCJjYXRlZ29yeSIsInN1YnR5cGUiLCJzdGFydHNXaXRoIiwiaW5jbHVkZXMiLCJPdGhlckxhYnNDYXJkIiwicGF0aWVudElkIiwic2hvd0hlYWRlciIsIm9wZW4iLCJzZXRPcGVuIiwiaXRlbXMiLCJzZXRJdGVtcyIsImVyciIsInNldEVyciIsImVjZ1JlcG9ydHMiLCJzZXRFY2dSZXBvcnRzIiwicmVwb3J0c0xvYWRpbmciLCJzZXRSZXBvcnRzTG9hZGluZyIsImFib3J0IiwicmVzIiwiZmV0Y2giLCJlbmNvZGVVUklDb21wb25lbnQiLCJjYWNoZSIsImoiLCJqc29uIiwib2siLCJFcnJvciIsImVycm9yIiwic3RhdHVzIiwiQXJyYXkiLCJpc0FycmF5IiwiZSIsIm1lc3NhZ2UiLCJsZW5ndGgiLCJlY2dJZHMiLCJmaWx0ZXIiLCJpdCIsIm1hcCIsImlkIiwicGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwic2V0Iiwiam9pbiIsInRvU3RyaW5nIiwidGhlbiIsImJvZHkiLCJjYXRjaCIsInJlcG9ydHMiLCJmb3JFYWNoIiwicmVwIiwiZXh0ZXJuYWxfcmVzdWx0X2lkIiwiZmluYWxseSIsImdyb3VwZWQiLCJnIiwia2V5IiwicHVzaCIsIk9iamVjdCIsImtleXMiLCJrIiwic29ydCIsImEiLCJiIiwidGFrZW5fYXQiLCJ1cGxvYWRlZF9hdCIsImdyb3VwcyIsImRpdiIsImNsYXNzTmFtZSIsInNwYW4iLCJoMyIsImJ1dHRvbiIsIm9uQ2xpY2siLCJ2IiwiZ3JvdXAiLCJpc0VjZyIsInJlcG9ydCIsImlzSW1nIiwiY29udGVudF90eXBlIiwiaXNQZGYiLCJ1cmwiLCJ0b0xvd2VyQ2FzZSIsInN0eWxlIiwiYm9yZGVyQ29sb3IiLCJjb2xvciIsImJhY2tncm91bmQiLCJwcm92aWRlciIsImhyZWYiLCJ0YXJnZXQiLCJyZWwiLCJ0aXRsZSIsImltZyIsInNyYyIsImFsdCIsIm5vdGUiLCJsb2FkaW5nIiwic3ZnIiwieG1sbnMiLCJ2aWV3Qm94IiwicGF0aCIsImZpbGwiLCJpbXByZXNzaW9uIiwicmVwb3J0ZWRfYXQiLCJwZXJmb3JtZXJfbmFtZSIsInBlcmZvcm1lcl9yb2xlIiwicGVyZm9ybWVyX2xpY2Vuc2UiLCJpbnRlcnByZXRlZF9hdCIsImludGVycHJldGVkX25hbWUiLCJpbnRlcnByZXRlZF9saWNlbnNlIiwicmVjb21tZW5kYXRpb25zIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/OtherLabsCard.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx":
/*!***********************************************************************!*\
  !*** ./app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx ***!
  \***********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PastConsultations)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_time__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/time */ \"(app-pages-browser)/./lib/time.ts\");\n/* harmony import */ var _ConsultDx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ConsultDx */ \"(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/ConsultDx.tsx\");\n// app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\nfunction PastConsultations(param) {\n    let { patientId } = param;\n    _s();\n    const [list, setList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [openId, setOpenId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [details, setDetails] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [err, setErr] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [refreshing, setRefreshing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Build a display name:\n    // - Prefer \"full_name, credentials\" when available\n    // - Else use display_name and append credentials if they're not already included\n    // - Else fall back to reliever snapshot (doctor_name_at_time)\n    function docName(c) {\n        var _this;\n        const d = c.doctor;\n        const cred = (_this = (d === null || d === void 0 ? void 0 : d.credentials) || \"\") === null || _this === void 0 ? void 0 : _this.trim();\n        const hasCred = !!cred;\n        if (d === null || d === void 0 ? void 0 : d.full_name) {\n            return hasCred ? \"\".concat(d.full_name, \", \").concat(cred) : d.full_name;\n        }\n        if (d === null || d === void 0 ? void 0 : d.display_name) {\n            if (hasCred && !new RegExp(\",\\\\s*\".concat(cred, \"$\")).test(d.display_name)) {\n                return \"\".concat(d.display_name, \", \").concat(cred);\n            }\n            return d.display_name;\n        }\n        if (c.signing_doctor_name) return c.signing_doctor_name;\n        if (c.doctor_name_at_time) return c.doctor_name_at_time;\n        return \"Attending Doctor\";\n    }\n    function formatDateOnly(iso) {\n        if (!iso) return null;\n        const dt = new Date(iso);\n        if (Number.isNaN(+dt)) return null;\n        return dt.toLocaleDateString(\"en-PH\", {\n            year: \"numeric\",\n            month: \"short\",\n            day: \"numeric\"\n        });\n    }\n    const fetchList = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PastConsultations.useCallback[fetchList]\": async ()=>{\n            setRefreshing(true);\n            setErr(null);\n            try {\n                const res = await fetch(\"/api/consultations/list?patient_id=\".concat(encodeURIComponent(patientId)));\n                const j = await res.json();\n                if (res.ok) setList(j.consultations || []);\n            } catch (e) {\n                setErr(\"Failed to load past consultations.\");\n            } finally{\n                setRefreshing(false);\n                setLoading(false);\n            }\n        }\n    }[\"PastConsultations.useCallback[fetchList]\"], [\n        patientId\n    ]);\n    //  Add this initial load effect\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PastConsultations.useEffect\": ()=>{\n            setLoading(true);\n            fetchList();\n        }\n    }[\"PastConsultations.useEffect\"], [\n        fetchList\n    ]);\n    //  Listen for Rx signed events so Past Consultations reloads automatically\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PastConsultations.useEffect\": ()=>{\n            async function onSigned(e) {\n                var _e_detail;\n                const cid = (_e_detail = e.detail) === null || _e_detail === void 0 ? void 0 : _e_detail.consultationId;\n                // Always refresh the list after signing\n                await fetchList();\n                // If the signed consultation is currently expanded  reload its details\n                if (cid && openId === cid) {\n                    const r = await fetch(\"/api/consultations/details?id=\".concat(encodeURIComponent(cid)));\n                    const jj = await r.json();\n                    if (r.ok) setDetails(jj.details);\n                }\n            }\n            window.addEventListener(\"rx:signed\", onSigned);\n            return ({\n                \"PastConsultations.useEffect\": ()=>window.removeEventListener(\"rx:signed\", onSigned)\n            })[\"PastConsultations.useEffect\"];\n        }\n    }[\"PastConsultations.useEffect\"], [\n        patientId,\n        openId,\n        fetchList\n    ]);\n    async function toggleOpen(id) {\n        if (openId === id) {\n            setOpenId(null);\n            setDetails(null);\n            return;\n        }\n        setOpenId(id);\n        setDetails(null);\n        try {\n            const res = await fetch(\"/api/consultations/details?id=\".concat(encodeURIComponent(id)));\n            const j = await res.json();\n            if (!res.ok) throw new Error((j === null || j === void 0 ? void 0 : j.error) || \"Failed to load details.\");\n            setDetails(j.details);\n        } catch (e) {\n            setErr(e.message || \"Failed to load details.\");\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"mt-3\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between mb-2 gap-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"text-lg font-semibold\",\n                        children: \"Past Consultations\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                        lineNumber: 153,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        onClick: ()=>{\n                            setLoading(true);\n                            fetchList();\n                        },\n                        disabled: refreshing || loading,\n                        className: \"inline-flex items-center gap-1 rounded border border-gray-300 bg-white px-2.5 py-1 text-xs font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-60\",\n                        children: refreshing || loading ? \"Refreshing\" : \"Refresh\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                        lineNumber: 154,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                lineNumber: 152,\n                columnNumber: 7\n            }, this),\n            loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Loading\"\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                lineNumber: 167,\n                columnNumber: 19\n            }, this),\n            !loading && list.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"No consultations yet.\"\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                lineNumber: 170,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-2\",\n                children: list.map((c)=>{\n                    var _details_rx, _details_rx1;\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"border rounded-lg\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                disabled: loading,\n                                onClick: ()=>toggleOpen(c.id),\n                                className: \"w-full text-left flex items-center justify-between px-3 py-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                                            children: (0,_lib_time__WEBPACK_IMPORTED_MODULE_2__.fmtManila)(c.visit_at)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                            lineNumber: 184,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                        lineNumber: 183,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xs text-gray-500\",\n                                        children: openId === c.id ? \"Hide\" : \"View\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                        lineNumber: 186,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                lineNumber: 176,\n                                columnNumber: 13\n                            }, this),\n                            openId === c.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-3 pb-3\",\n                                children: !details ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm text-gray-500\",\n                                    children: \"Loading details\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                    lineNumber: 192,\n                                    columnNumber: 19\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-sm text-gray-500 mb-2\",\n                                            children: [\n                                                \"Consulting MD: \",\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                                                    children: docName(details)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                                    lineNumber: 197,\n                                                    columnNumber: 38\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                            lineNumber: 196,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mb-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mb-4\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ConsultDx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                                        consultationId: c.id\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                                        lineNumber: 203,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                                    lineNumber: 202,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"font-medium mb-1\",\n                                                    children: \"Doctor Notes\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                                    lineNumber: 205,\n                                                    columnNumber: 23\n                                                }, this),\n                                                (()=>{\n                                                    var _details_notes_notes_markdown, _details_notes, _details_notes1;\n                                                    const md = ((_details_notes = details.notes) === null || _details_notes === void 0 ? void 0 : (_details_notes_notes_markdown = _details_notes.notes_markdown) === null || _details_notes_notes_markdown === void 0 ? void 0 : _details_notes_notes_markdown.trim()) || \"\";\n                                                    const soap = ((_details_notes1 = details.notes) === null || _details_notes1 === void 0 ? void 0 : _details_notes1.notes_soap) || {};\n                                                    const soapHasContent = [\n                                                        \"S\",\n                                                        \"O\",\n                                                        \"A\",\n                                                        \"P\"\n                                                    ].some((k)=>((soap === null || soap === void 0 ? void 0 : soap[k]) || \"\").trim());\n                                                    if (!md && !soapHasContent) {\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-sm text-gray-500\",\n                                                            children: \"No notes.\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                                            lineNumber: 212,\n                                                            columnNumber: 34\n                                                        }, this);\n                                                    }\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"space-y-3\",\n                                                        children: [\n                                                            md && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-xs font-semibold text-gray-500 uppercase mb-1\",\n                                                                        children: \"Markdown\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                                                        lineNumber: 219,\n                                                                        columnNumber: 33\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                                                                        className: \"whitespace-pre-wrap text-sm\",\n                                                                        children: md\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                                                        lineNumber: 220,\n                                                                        columnNumber: 33\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                                                lineNumber: 218,\n                                                                columnNumber: 31\n                                                            }, this),\n                                                            soapHasContent && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-xs font-semibold text-gray-500 uppercase mb-1\",\n                                                                        children: \"SOAP\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                                                        lineNumber: 225,\n                                                                        columnNumber: 33\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-sm space-y-1\",\n                                                                        children: [\n                                                                            \"S\",\n                                                                            \"O\",\n                                                                            \"A\",\n                                                                            \"P\"\n                                                                        ].map((k)=>{\n                                                                            const val = ((soap === null || soap === void 0 ? void 0 : soap[k]) || \"\").trim();\n                                                                            if (!val) return null;\n                                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                                                                                        children: [\n                                                                                            k,\n                                                                                            \":\"\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                                                                        lineNumber: 232,\n                                                                                        columnNumber: 41\n                                                                                    }, this),\n                                                                                    \" \",\n                                                                                    val\n                                                                                ]\n                                                                            }, k, true, {\n                                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                                                                lineNumber: 231,\n                                                                                columnNumber: 39\n                                                                            }, this);\n                                                                        })\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                                                        lineNumber: 226,\n                                                                        columnNumber: 33\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                                                lineNumber: 224,\n                                                                columnNumber: 31\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                                        lineNumber: 216,\n                                                        columnNumber: 27\n                                                    }, this);\n                                                })()\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                            lineNumber: 201,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mb-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"font-medium mb-1\",\n                                                    children: \"Prescription\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                                    lineNumber: 246,\n                                                    columnNumber: 23\n                                                }, this),\n                                                !details.rx ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-gray-500\",\n                                                    children: \"No prescription.\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                                    lineNumber: 248,\n                                                    columnNumber: 25\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-sm\",\n                                                    children: [\n                                                        details.rx.valid_until && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs text-gray-500 mb-2\",\n                                                            children: [\n                                                                \"Valid until \",\n                                                                formatDateOnly(details.rx.valid_until) || \"\",\n                                                                details.rx.valid_days ? \" (\".concat(details.rx.valid_days, \" days)\") : \"\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                                            lineNumber: 252,\n                                                            columnNumber: 29\n                                                        }, this),\n                                                        details.rx.items.map((it, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    it.generic_name,\n                                                                    it.brand_name ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                                        children: [\n                                                                            \" (\",\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                                                children: it.brand_name\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                                                                lineNumber: 260,\n                                                                                columnNumber: 50\n                                                                            }, this),\n                                                                            \")\"\n                                                                        ]\n                                                                    }, void 0, true) : null,\n                                                                    \"  \",\n                                                                    \" \",\n                                                                    it.strength,\n                                                                    \" \",\n                                                                    it.form,\n                                                                    it.quantity != null && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: [\n                                                                            \" \\xb7 Qty \",\n                                                                            it.quantity\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                                                        lineNumber: 262,\n                                                                        columnNumber: 53\n                                                                    }, this)\n                                                                ]\n                                                            }, i, true, {\n                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                                                lineNumber: 258,\n                                                                columnNumber: 29\n                                                            }, this)),\n                                                        details.rx.notes_for_patient && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"mt-2 text-gray-600\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                                                                    children: \"Instructions:\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                                                    lineNumber: 267,\n                                                                    columnNumber: 31\n                                                                }, this),\n                                                                \" \",\n                                                                details.rx.notes_for_patient\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                                            lineNumber: 266,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                                    lineNumber: 250,\n                                                    columnNumber: 25\n                                                }, this),\n                                                ((_details_rx = details.rx) === null || _details_rx === void 0 ? void 0 : _details_rx.id) && ((_details_rx1 = details.rx) === null || _details_rx1 === void 0 ? void 0 : _details_rx1.status) === \"signed\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-3 text-right\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                        href: \"/prescription/\".concat(details.rx.id, \"/print\"),\n                                                        target: \"_blank\",\n                                                        rel: \"noopener noreferrer\",\n                                                        className: \"inline-block rounded border border-gray-300 bg-white px-3 py-1.5 text-sm hover:bg-gray-100\",\n                                                        children: \"\\uD83D\\uDDA8 Print Prescription\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                                        lineNumber: 275,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                                    lineNumber: 274,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                            lineNumber: 245,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true)\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                                lineNumber: 190,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, c.id, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                        lineNumber: 175,\n                        columnNumber: 11\n                    }, this);\n                })\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                lineNumber: 173,\n                columnNumber: 7\n            }, this),\n            err && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-sm text-red-600 mt-2\",\n                children: err\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n                lineNumber: 294,\n                columnNumber: 15\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\",\n        lineNumber: 151,\n        columnNumber: 5\n    }, this);\n}\n_s(PastConsultations, \"KBSxWtu7QjvdQrnNzlBC3ax96G8=\");\n_c = PastConsultations;\nvar _c;\n$RefreshReg$(_c, \"PastConsultations\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8oZG9jdG9yKS9kb2N0b3IvcGF0aWVudC9bcGF0aWVudElkXS9QYXN0Q29uc3VsdGF0aW9ucy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsZ0VBQWdFOzs7QUFHUDtBQUNsQjtBQUNIO0FBMkNyQixTQUFTSyxrQkFBa0IsS0FBb0M7UUFBcEMsRUFBRUMsU0FBUyxFQUF5QixHQUFwQzs7SUFDeEMsTUFBTSxDQUFDQyxNQUFNQyxRQUFRLEdBQUdOLCtDQUFRQSxDQUFZLEVBQUU7SUFDOUMsTUFBTSxDQUFDTyxRQUFRQyxVQUFVLEdBQUdSLCtDQUFRQSxDQUFnQjtJQUNwRCxNQUFNLENBQUNTLFNBQVNDLFdBQVcsR0FBR1YsK0NBQVFBLENBQXdCO0lBQzlELE1BQU0sQ0FBQ1csS0FBS0MsT0FBTyxHQUFHWiwrQ0FBUUEsQ0FBZ0I7SUFDOUMsTUFBTSxDQUFDYSxTQUFTQyxXQUFXLEdBQUdkLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ2UsWUFBWUMsY0FBYyxHQUFHaEIsK0NBQVFBLENBQUM7SUFFN0Msd0JBQXdCO0lBQ3hCLG1EQUFtRDtJQUNuRCxpRkFBaUY7SUFDakYsOERBQThEO0lBQzlELFNBQVNpQixRQUFRQyxDQUloQjtZQUVlQztRQURkLE1BQU1BLElBQUlELEVBQUVFLE1BQU07UUFDbEIsTUFBTUMsUUFBUUYsUUFBQUEsQ0FBQUEsY0FBQUEsd0JBQUFBLEVBQUdHLFdBQVcsS0FBSSxnQkFBbEJILDRCQUFELE1BQXdCSSxJQUFJO1FBQ3pDLE1BQU1DLFVBQVUsQ0FBQyxDQUFDSDtRQUVsQixJQUFJRixjQUFBQSx3QkFBQUEsRUFBR00sU0FBUyxFQUFFO1lBQ2hCLE9BQU9ELFVBQVUsR0FBbUJILE9BQWhCRixFQUFFTSxTQUFTLEVBQUMsTUFBUyxPQUFMSixRQUFTRixFQUFFTSxTQUFTO1FBQzFEO1FBQ0EsSUFBSU4sY0FBQUEsd0JBQUFBLEVBQUdPLFlBQVksRUFBRTtZQUNuQixJQUFJRixXQUFX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LEVBQUUsY0FBVjlFLGtDQUFBQSxZQUFZbUQsRUFBRSxLQUFJbkQsRUFBQUEsZUFBQUEsUUFBUThFLEVBQUUsY0FBVjlFLG1DQUFBQSxhQUFZMEYsTUFBTSxNQUFLLDBCQUN4Qyw4REFBQ25DO29EQUFJQyxXQUFVOzhEQUNiLDRFQUFDbUM7d0RBQ0NDLE1BQU0saUJBQStCLE9BQWQ1RixRQUFROEUsRUFBRSxDQUFDM0IsRUFBRSxFQUFDO3dEQUNyQzBDLFFBQU87d0RBQ1BDLEtBQUk7d0RBQ0p0QyxXQUFVO2tFQUNYOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O3VCQXpHUC9DLEVBQUUwQyxFQUFFOzs7Ozs7Ozs7OztZQXVIakJqRCxxQkFBTyw4REFBQzREO2dCQUFFTixXQUFVOzBCQUE2QnREOzs7Ozs7Ozs7Ozs7QUFHeEQ7R0F4UHdCUjtLQUFBQSIsInNvdXJjZXMiOlsiL1VzZXJzL3BvY2hvbG8vUHJvamVjdHMvd2VsbHNlcnYtcG9ydGFsL2FwcHMvd2ViL2FwcC8oZG9jdG9yKS9kb2N0b3IvcGF0aWVudC9bcGF0aWVudElkXS9QYXN0Q29uc3VsdGF0aW9ucy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLy8gYXBwLyhkb2N0b3IpL2RvY3Rvci9wYXRpZW50L1twYXRpZW50SWRdL1Bhc3RDb25zdWx0YXRpb25zLnRzeFxuXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBmbXRNYW5pbGEgfSBmcm9tIFwiQC9saWIvdGltZVwiO1xuaW1wb3J0IENvbnN1bHREeCBmcm9tIFwiLi9Db25zdWx0RHhcIjtcblxudHlwZSBDb25zdWx0ID0ge1xuICBpZDogc3RyaW5nO1xuICBwYXRpZW50X2lkOiBzdHJpbmc7XG4gIGRvY3Rvcl9pZDogc3RyaW5nIHwgbnVsbDtcbiAgdmlzaXRfYXQ6IHN0cmluZzsgICAgICAgICAgICAgIC8vIElTT1xuICBwbGFuX3NoYXJlZDogYm9vbGVhbiB8IG51bGw7XG4gIHByZXNjcmlwdGlvbl9pZD86IHN0cmluZyB8IG51bGw7XG4gIHByZXNjcmlwdGlvbl9zdGF0dXM/OiBzdHJpbmcgfCBudWxsO1xuICBkb2N0b3JfbmFtZV9hdF90aW1lPzogc3RyaW5nIHwgbnVsbDsgLy8gc25hcHNob3QgZm9yIHJlbGlldmVyc1xuICBkb2N0b3I/OiB7XG4gICAgZGlzcGxheV9uYW1lPzogc3RyaW5nIHwgbnVsbDtcbiAgICBmdWxsX25hbWU/OiBzdHJpbmcgfCBudWxsO1xuICAgIGNyZWRlbnRpYWxzPzogc3RyaW5nIHwgbnVsbDtcbiAgfSB8IG51bGw7XG59O1xuXG50eXBlIENvbnN1bHREZXRhaWxzID0ge1xuICBub3Rlcz86IHtcbiAgICBub3Rlc19tYXJrZG93bj86IHN0cmluZyB8IG51bGw7XG4gICAgbm90ZXNfc29hcD86IGFueSB8IG51bGw7XG4gIH0gfCBudWxsO1xuICByeD86IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIHN0YXR1czogc3RyaW5nO1xuICAgIGl0ZW1zOiBBcnJheTx7XG4gICAgICBnZW5lcmljX25hbWU6IHN0cmluZyB8IG51bGw7XG4gICAgICBicmFuZF9uYW1lOiBzdHJpbmcgfCBudWxsO1xuICAgICAgc3RyZW5ndGg6IHN0cmluZyB8IG51bGw7XG4gICAgICBmb3JtOiBzdHJpbmcgfCBudWxsO1xuICAgICAgcXVhbnRpdHk6IG51bWJlciB8IG51bGw7XG4gICAgICB1bml0X3ByaWNlOiBudW1iZXIgfCBudWxsO1xuICAgIH0+O1xuICAgIG5vdGVzX2Zvcl9wYXRpZW50Pzogc3RyaW5nIHwgbnVsbDtcbiAgICB2YWxpZF9kYXlzPzogbnVtYmVyIHwgbnVsbDtcbiAgICB2YWxpZF91bnRpbD86IHN0cmluZyB8IG51bGw7XG4gIH0gfCBudWxsO1xuICBkb2N0b3JfbmFtZV9hdF90aW1lPzogc3RyaW5nIHwgbnVsbDtcbiAgc2lnbmluZ19kb2N0b3JfbmFtZT86IHN0cmluZyB8IG51bGw7XG4gIGRvY3Rvcj86IENvbnN1bHRbXCJkb2N0b3JcIl07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQYXN0Q29uc3VsdGF0aW9ucyh7IHBhdGllbnRJZCB9OiB7IHBhdGllbnRJZDogc3RyaW5nIH0pIHtcbiAgY29uc3QgW2xpc3QsIHNldExpc3RdID0gdXNlU3RhdGU8Q29uc3VsdFtdPihbXSk7XG4gIGNvbnN0IFtvcGVuSWQsIHNldE9wZW5JZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2RldGFpbHMsIHNldERldGFpbHNdID0gdXNlU3RhdGU8Q29uc3VsdERldGFpbHMgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2Vyciwgc2V0RXJyXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtyZWZyZXNoaW5nLCBzZXRSZWZyZXNoaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBCdWlsZCBhIGRpc3BsYXkgbmFtZTpcbiAgLy8gLSBQcmVmZXIgXCJmdWxsX25hbWUsIGNyZWRlbnRpYWxzXCIgd2hlbiBhdmFpbGFibGVcbiAgLy8gLSBFbHNlIHVzZSBkaXNwbGF5X25hbWUgYW5kIGFwcGVuZCBjcmVkZW50aWFscyBpZiB0aGV5J3JlIG5vdCBhbHJlYWR5IGluY2x1ZGVkXG4gIC8vIC0gRWxzZSBmYWxsIGJhY2sgdG8gcmVsaWV2ZXIgc25hcHNob3QgKGRvY3Rvcl9uYW1lX2F0X3RpbWUpXG4gIGZ1bmN0aW9uIGRvY05hbWUoYzoge1xuICAgIGRvY3Rvcj86IENvbnN1bHRbXCJkb2N0b3JcIl07XG4gICAgZG9jdG9yX25hbWVfYXRfdGltZT86IHN0cmluZyB8IG51bGw7XG4gICAgc2lnbmluZ19kb2N0b3JfbmFtZT86IHN0cmluZyB8IG51bGw7XG4gIH0pIHtcbiAgICBjb25zdCBkID0gYy5kb2N0b3I7XG4gICAgY29uc3QgY3JlZCA9IChkPy5jcmVkZW50aWFscyB8fCBcIlwiKT8udHJpbSgpO1xuICAgIGNvbnN0IGhhc0NyZWQgPSAhIWNyZWQ7XG5cbiAgICBpZiAoZD8uZnVsbF9uYW1lKSB7XG4gICAgICByZXR1cm4gaGFzQ3JlZCA/IGAke2QuZnVsbF9uYW1lfSwgJHtjcmVkfWAgOiBkLmZ1bGxfbmFtZSE7XG4gICAgfVxuICAgIGlmIChkPy5kaXNwbGF5X25hbWUpIHtcbiAgICAgIGlmIChoYXNDcmVkICYmICFuZXcgUmVnRXhwKGAsXFxcXHMqJHtjcmVkfSRgKS50ZXN0KGQuZGlzcGxheV9uYW1lKSkge1xuICAgICAgICByZXR1cm4gYCR7ZC5kaXNwbGF5X25hbWV9LCAke2NyZWR9YDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkLmRpc3BsYXlfbmFtZTtcbiAgICB9XG4gICAgaWYgKGMuc2lnbmluZ19kb2N0b3JfbmFtZSkgcmV0dXJuIGMuc2lnbmluZ19kb2N0b3JfbmFtZTtcbiAgICBpZiAoYy5kb2N0b3JfbmFtZV9hdF90aW1lKSByZXR1cm4gYy5kb2N0b3JfbmFtZV9hdF90aW1lO1xuICAgIHJldHVybiBcIkF0dGVuZGluZyBEb2N0b3JcIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvcm1hdERhdGVPbmx5KGlzbz86IHN0cmluZyB8IG51bGwpIHtcbiAgICBpZiAoIWlzbykgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgZHQgPSBuZXcgRGF0ZShpc28pO1xuICAgIGlmIChOdW1iZXIuaXNOYU4oK2R0KSkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIGR0LnRvTG9jYWxlRGF0ZVN0cmluZyhcImVuLVBIXCIsIHsgeWVhcjogXCJudW1lcmljXCIsIG1vbnRoOiBcInNob3J0XCIsIGRheTogXCJudW1lcmljXCIgfSk7XG4gIH1cblxuICBjb25zdCBmZXRjaExpc3QgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgc2V0UmVmcmVzaGluZyh0cnVlKTtcbiAgICBzZXRFcnIobnVsbCk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL2NvbnN1bHRhdGlvbnMvbGlzdD9wYXRpZW50X2lkPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhdGllbnRJZCl9YCk7XG4gICAgICBjb25zdCBqID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgIGlmIChyZXMub2spIHNldExpc3QoKGouY29uc3VsdGF0aW9ucyB8fCBbXSkgYXMgQ29uc3VsdFtdKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHNldEVycihcIkZhaWxlZCB0byBsb2FkIHBhc3QgY29uc3VsdGF0aW9ucy5cIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFJlZnJlc2hpbmcoZmFsc2UpO1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbcGF0aWVudElkXSk7XG5cbiAgLy8g4qyH77iPIEFkZCB0aGlzIGluaXRpYWwgbG9hZCBlZmZlY3RcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIGZldGNoTGlzdCgpO1xuICB9LCBbZmV0Y2hMaXN0XSk7XG5cbiAgLy8g8J+UgSBMaXN0ZW4gZm9yIFJ4IHNpZ25lZCBldmVudHMgc28gUGFzdCBDb25zdWx0YXRpb25zIHJlbG9hZHMgYXV0b21hdGljYWxseVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGFzeW5jIGZ1bmN0aW9uIG9uU2lnbmVkKGU6IEN1c3RvbUV2ZW50KSB7XG4gICAgICBjb25zdCBjaWQgPSBlLmRldGFpbD8uY29uc3VsdGF0aW9uSWQ7XG4gICAgICAvLyBBbHdheXMgcmVmcmVzaCB0aGUgbGlzdCBhZnRlciBzaWduaW5nXG4gICAgICBhd2FpdCBmZXRjaExpc3QoKTtcblxuICAgICAgLy8gSWYgdGhlIHNpZ25lZCBjb25zdWx0YXRpb24gaXMgY3VycmVudGx5IGV4cGFuZGVkIOKGkiByZWxvYWQgaXRzIGRldGFpbHNcbiAgICAgIGlmIChjaWQgJiYgb3BlbklkID09PSBjaWQpIHtcbiAgICAgICAgY29uc3QgciA9IGF3YWl0IGZldGNoKGAvYXBpL2NvbnN1bHRhdGlvbnMvZGV0YWlscz9pZD0ke2VuY29kZVVSSUNvbXBvbmVudChjaWQpfWApO1xuICAgICAgICBjb25zdCBqaiA9IGF3YWl0IHIuanNvbigpO1xuICAgICAgICBpZiAoci5vaykgc2V0RGV0YWlscyhqai5kZXRhaWxzIGFzIENvbnN1bHREZXRhaWxzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJ4OnNpZ25lZFwiLCBvblNpZ25lZCBhcyBhbnkpO1xuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJ4OnNpZ25lZFwiLCBvblNpZ25lZCBhcyBhbnkpO1xuICB9LCBbcGF0aWVudElkLCBvcGVuSWQsIGZldGNoTGlzdF0pO1xuXG5cbiAgYXN5bmMgZnVuY3Rpb24gdG9nZ2xlT3BlbihpZDogc3RyaW5nKSB7XG4gICAgaWYgKG9wZW5JZCA9PT0gaWQpIHtcbiAgICAgIHNldE9wZW5JZChudWxsKTtcbiAgICAgIHNldERldGFpbHMobnVsbCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldE9wZW5JZChpZCk7XG4gICAgc2V0RGV0YWlscyhudWxsKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYC9hcGkvY29uc3VsdGF0aW9ucy9kZXRhaWxzP2lkPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGlkKX1gKTtcbiAgICAgIGNvbnN0IGogPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgaWYgKCFyZXMub2spIHRocm93IG5ldyBFcnJvcihqPy5lcnJvciB8fCBcIkZhaWxlZCB0byBsb2FkIGRldGFpbHMuXCIpO1xuICAgICAgc2V0RGV0YWlscyhqLmRldGFpbHMgYXMgQ29uc3VsdERldGFpbHMpO1xuICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgc2V0RXJyKGUubWVzc2FnZSB8fCBcIkZhaWxlZCB0byBsb2FkIGRldGFpbHMuXCIpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi0yIGdhcC0zXCI+XG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGRcIj5QYXN0IENvbnN1bHRhdGlvbnM8L2gzPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgICAgIGZldGNoTGlzdCgpO1xuICAgICAgICAgIH19XG4gICAgICAgICAgZGlzYWJsZWQ9e3JlZnJlc2hpbmcgfHwgbG9hZGluZ31cbiAgICAgICAgICBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgcm91bmRlZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIGJnLXdoaXRlIHB4LTIuNSBweS0xIHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBob3ZlcjpiZy1ncmF5LTUwIGRpc2FibGVkOm9wYWNpdHktNjBcIlxuICAgICAgICA+XG4gICAgICAgICAge3JlZnJlc2hpbmcgfHwgbG9hZGluZyA/IFwiUmVmcmVzaGluZ+KAplwiIDogXCJSZWZyZXNoXCJ9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHtsb2FkaW5nICYmIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPkxvYWRpbmfigKY8L3A+fVxuXG4gICAgICB7IWxvYWRpbmcgJiYgbGlzdC5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5ObyBjb25zdWx0YXRpb25zIHlldC48L3A+XG4gICAgICApfVxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICB7bGlzdC5tYXAoKGMpID0+IChcbiAgICAgICAgICA8ZGl2IGtleT17Yy5pZH0gY2xhc3NOYW1lPVwiYm9yZGVyIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0b2dnbGVPcGVuKGMuaWQpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBweC0zIHB5LTJcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7LyogUm93IGhlYWRlcjogc2hvdyBvbmx5IGRhdGUvdGltZSAoUkVNT1ZFIG5hbWUgaGVyZSkgKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgIDxiPntmbXRNYW5pbGEoYy52aXNpdF9hdCl9PC9iPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+e29wZW5JZCA9PT0gYy5pZCA/IFwiSGlkZVwiIDogXCJWaWV3XCJ9PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgIHtvcGVuSWQgPT09IGMuaWQgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTMgcGItM1wiPlxuICAgICAgICAgICAgICAgIHshZGV0YWlscyA/IChcbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPkxvYWRpbmcgZGV0YWlsc+KApjwvcD5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgey8qIEV4cGFuZGVkOiBzaG93IENvbnN1bHRpbmcgTUQgd2l0aCBwcm9wZXIgY3JlZGVudGlhbHMgKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICBDb25zdWx0aW5nIE1EOiA8Yj57ZG9jTmFtZShkZXRhaWxzKX08L2I+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBOb3RlcyAqL31cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q29uc3VsdER4IGNvbnN1bHRhdGlvbklkPXtjLmlkfSAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gbWItMVwiPkRvY3RvciBOb3RlczwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIHsoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWQgPSBkZXRhaWxzLm5vdGVzPy5ub3Rlc19tYXJrZG93bj8udHJpbSgpIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzb2FwID0gZGV0YWlscy5ub3Rlcz8ubm90ZXNfc29hcCB8fCB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvYXBIYXNDb250ZW50ID0gW1wiU1wiLFwiT1wiLFwiQVwiLFwiUFwiXS5zb21lKChrKSA9PiAoc29hcD8uW2tdIHx8IFwiXCIpLnRyaW0oKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbWQgJiYgIXNvYXBIYXNDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5ObyBub3Rlcy48L3A+O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktNTAwIHVwcGVyY2FzZSBtYi0xXCI+TWFya2Rvd248L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZSBjbGFzc05hbWU9XCJ3aGl0ZXNwYWNlLXByZS13cmFwIHRleHQtc21cIj57bWR9PC9wcmU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzb2FwSGFzQ29udGVudCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktNTAwIHVwcGVyY2FzZSBtYi0xXCI+U09BUDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gc3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyhbXCJTXCIsXCJPXCIsXCJBXCIsXCJQXCJdIGFzIGNvbnN0KS5tYXAoKGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IChzb2FwPy5ba10gfHwgXCJcIikudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWwpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2t9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPntrfTo8L2I+IHt2YWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgey8qIFJ4IHN1bW1hcnkgKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gbWItMVwiPlByZXNjcmlwdGlvbjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIHshZGV0YWlscy5yeCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPk5vIHByZXNjcmlwdGlvbi48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZGV0YWlscy5yeC52YWxpZF91bnRpbCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVmFsaWQgdW50aWwge2Zvcm1hdERhdGVPbmx5KGRldGFpbHMucngudmFsaWRfdW50aWwpIHx8IFwi4oCUXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZGV0YWlscy5yeC52YWxpZF9kYXlzID8gYCAoJHtkZXRhaWxzLnJ4LnZhbGlkX2RheXN9IGRheXMpYCA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkZXRhaWxzLnJ4Lml0ZW1zLm1hcCgoaXQsIGkpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0LmdlbmVyaWNfbmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXQuYnJhbmRfbmFtZSA/IDw+ICg8aT57aXQuYnJhbmRfbmFtZX08L2k+KTwvPiA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1wiIOKAlCBcIn0ge2l0LnN0cmVuZ3RofSB7aXQuZm9ybX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXQucXVhbnRpdHkgIT0gbnVsbCAmJiA8c3Bhbj4gwrcgUXR5IHtpdC5xdWFudGl0eX08L3NwYW4+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkZXRhaWxzLnJ4Lm5vdGVzX2Zvcl9wYXRpZW50ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+SW5zdHJ1Y3Rpb25zOjwvYj4ge2RldGFpbHMucngubm90ZXNfZm9yX3BhdGllbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBQcmludCBidXR0b24gZm9yIHNpZ25lZCBwcmVzY3JpcHRpb25zICovfVxuICAgICAgICAgICAgICAgICAgICAgIHtkZXRhaWxzLnJ4Py5pZCAmJiBkZXRhaWxzLnJ4Py5zdGF0dXMgPT09IFwic2lnbmVkXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIHRleHQtcmlnaHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmPXtgL3ByZXNjcmlwdGlvbi8ke2RldGFpbHMucnguaWR9L3ByaW50YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImlubGluZS1ibG9jayByb3VuZGVkIGJvcmRlciBib3JkZXItZ3JheS0zMDAgYmctd2hpdGUgcHgtMyBweS0xLjUgdGV4dC1zbSBob3ZlcjpiZy1ncmF5LTEwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5ao77iPIFByaW50IFByZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSl9XG4gICAgICA8L2Rpdj5cblxuICAgICAge2VyciAmJiA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcmVkLTYwMCBtdC0yXCI+e2Vycn08L3A+fVxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZUNhbGxiYWNrIiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJmbXRNYW5pbGEiLCJDb25zdWx0RHgiLCJQYXN0Q29uc3VsdGF0aW9ucyIsInBhdGllbnRJZCIsImxpc3QiLCJzZXRMaXN0Iiwib3BlbklkIiwic2V0T3BlbklkIiwiZGV0YWlscyIsInNldERldGFpbHMiLCJlcnIiLCJzZXRFcnIiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInJlZnJlc2hpbmciLCJzZXRSZWZyZXNoaW5nIiwiZG9jTmFtZSIsImMiLCJkIiwiZG9jdG9yIiwiY3JlZCIsImNyZWRlbnRpYWxzIiwidHJpbSIsImhhc0NyZWQiLCJmdWxsX25hbWUiLCJkaXNwbGF5X25hbWUiLCJSZWdFeHAiLCJ0ZXN0Iiwic2lnbmluZ19kb2N0b3JfbmFtZSIsImRvY3Rvcl9uYW1lX2F0X3RpbWUiLCJmb3JtYXREYXRlT25seSIsImlzbyIsImR0IiwiRGF0ZSIsIk51bWJlciIsImlzTmFOIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwieWVhciIsIm1vbnRoIiwiZGF5IiwiZmV0Y2hMaXN0IiwicmVzIiwiZmV0Y2giLCJlbmNvZGVVUklDb21wb25lbnQiLCJqIiwianNvbiIsIm9rIiwiY29uc3VsdGF0aW9ucyIsIm9uU2lnbmVkIiwiZSIsImNpZCIsImRldGFpbCIsImNvbnN1bHRhdGlvbklkIiwiciIsImpqIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0b2dnbGVPcGVuIiwiaWQiLCJFcnJvciIsImVycm9yIiwibWVzc2FnZSIsImRpdiIsImNsYXNzTmFtZSIsImgzIiwiYnV0dG9uIiwidHlwZSIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsInAiLCJsZW5ndGgiLCJtYXAiLCJiIiwidmlzaXRfYXQiLCJzcGFuIiwibWQiLCJub3RlcyIsIm5vdGVzX21hcmtkb3duIiwic29hcCIsIm5vdGVzX3NvYXAiLCJzb2FwSGFzQ29udGVudCIsInNvbWUiLCJrIiwicHJlIiwidmFsIiwicngiLCJ2YWxpZF91bnRpbCIsInZhbGlkX2RheXMiLCJpdGVtcyIsIml0IiwiaSIsImdlbmVyaWNfbmFtZSIsImJyYW5kX25hbWUiLCJzdHJlbmd0aCIsImZvcm0iLCJxdWFudGl0eSIsIm5vdGVzX2Zvcl9wYXRpZW50Iiwic3RhdHVzIiwiYSIsImhyZWYiLCJ0YXJnZXQiLCJyZWwiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/PastConsultations.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx":
/*!*************************************************************!*\
  !*** ./app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx ***!
  \*************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RxPanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_rx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/rx */ \"(app-pages-browser)/./lib/rx.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\nconst ROUTES = [\n    \"PO\",\n    \"IM\",\n    \"IV\",\n    \"SC\",\n    \"Topical\",\n    \"Inhale\"\n];\nconst UNITS = [\n    \"tab\",\n    \"cap\",\n    \"mL\",\n    \"puff\"\n];\nconst FREQS = [\n    \"OD\",\n    \"BID\",\n    \"TID\",\n    \"QID\",\n    \"HS\",\n    \"PRN\"\n];\nconst FREQ_PER_DAY = {\n    OD: 1,\n    QD: 1,\n    QAM: 1,\n    QPM: 1,\n    BID: 2,\n    TID: 3,\n    QID: 4,\n    HS: 1,\n    PRN: 0\n};\nfunction RxPanel(param) {\n    let { patientId, consultationId: cidProp, onSigned } = param;\n    _s();\n    // --- state ---\n    const [consultationId, setConsultationId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(cidProp !== null && cidProp !== void 0 ? cidProp : null);\n    const [notesForPatient, setNotesForPatient] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [items, setItems] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [search, setSearch] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [results, setResults] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const [lockedSigned, setLockedSigned] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [reviseBusy, setReviseBusy] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [signing, setSigning] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isDirty, setIsDirty] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [validDays, setValidDays] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_lib_rx__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_RX_VALID_DAYS);\n    const [signedValidUntil, setSignedValidUntil] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // new state for revision/sign flow\n    const [rxId, setRxId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Enhanced sign control logic\n    const canSign = Boolean(rxId) && !lockedSigned && !isDirty && saving !== \"saving\" && !signing; // remove if you don't have `signing` state\n    const signTitle = !rxId ? \"Create or load a draft before signing.\" : lockedSigned ? \"Already signed  create a revision to make changes.\" : isDirty ? \"Save the draft first, then sign.\" : saving === \"saving\" ? \"Saving draft\" : signing ? \"Signing\" : \"Sign this prescription\";\n    const validityPreviewDate = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"RxPanel.useMemo[validityPreviewDate]\": ()=>{\n            if (lockedSigned && signedValidUntil) {\n                const dt = new Date(signedValidUntil);\n                return Number.isNaN(+dt) ? null : dt;\n            }\n            const days = Number(validDays);\n            if (!Number.isFinite(days) || days <= 0) return null;\n            const dt = new Date();\n            dt.setHours(0, 0, 0, 0);\n            dt.setDate(dt.getDate() + Math.round(days));\n            return dt;\n        }\n    }[\"RxPanel.useMemo[validityPreviewDate]\"], [\n        lockedSigned,\n        signedValidUntil,\n        validDays\n    ]);\n    const validityPreviewLabel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"RxPanel.useMemo[validityPreviewLabel]\": ()=>{\n            if (!validityPreviewDate) return null;\n            return validityPreviewDate.toLocaleDateString(\"en-PH\", {\n                year: \"numeric\",\n                month: \"short\",\n                day: \"numeric\"\n            });\n        }\n    }[\"RxPanel.useMemo[validityPreviewLabel]\"], [\n        validityPreviewDate\n    ]);\n    // If parent provides a consultation id\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RxPanel.useEffect\": ()=>{\n            if (cidProp != null) setConsultationId(cidProp);\n        }\n    }[\"RxPanel.useEffect\"], [\n        cidProp\n    ]);\n    // Helper: load current draft; if none, hydrate with active signed (read-only)\n    async function loadCurrentDraft() {\n        var _dj_details, _dj_details1;\n        if (!consultationId) return;\n        // Try draft first\n        const res = await fetch(\"/api/prescriptions/draft?consultation_id=\".concat(encodeURIComponent(consultationId)));\n        const j = await res.json().catch(()=>({}));\n        if (res.ok && (j === null || j === void 0 ? void 0 : j.id)) {\n            //  Draft exists  unlock & bind\n            setLockedSigned(false);\n            setRxId(j.id);\n            setItems(Array.isArray(j.items) ? j.items : []);\n            var _j_notes_for_patient;\n            setNotesForPatient((_j_notes_for_patient = j.notes_for_patient) !== null && _j_notes_for_patient !== void 0 ? _j_notes_for_patient : \"\");\n            var _j_valid_days;\n            setValidDays((_j_valid_days = j.valid_days) !== null && _j_valid_days !== void 0 ? _j_valid_days : _lib_rx__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_RX_VALID_DAYS);\n            setSignedValidUntil(null);\n            setIsDirty(false);\n            return;\n        }\n        //  No draft  hydrate with active signed (read-only) so banner shows\n        const dres = await fetch(\"/api/consultations/details?id=\".concat(encodeURIComponent(consultationId)));\n        const dj = await dres.json().catch(()=>({}));\n        const rx = (dj === null || dj === void 0 ? void 0 : (_dj_details = dj.details) === null || _dj_details === void 0 ? void 0 : _dj_details.rx) || (dj === null || dj === void 0 ? void 0 : (_dj_details1 = dj.details) === null || _dj_details1 === void 0 ? void 0 : _dj_details1.prescription);\n        if (dres.ok && (rx === null || rx === void 0 ? void 0 : rx.id) && (rx === null || rx === void 0 ? void 0 : rx.status) === \"signed\") {\n            setLockedSigned(true); //  this drives the banner\n            setRxId(null); // no draft selected\n            setItems(Array.isArray(rx.items) ? rx.items : []);\n            var _rx_notes_for_patient;\n            setNotesForPatient((_rx_notes_for_patient = rx.notes_for_patient) !== null && _rx_notes_for_patient !== void 0 ? _rx_notes_for_patient : \"\");\n            var _rx_valid_days;\n            setValidDays((_rx_valid_days = rx.valid_days) !== null && _rx_valid_days !== void 0 ? _rx_valid_days : _lib_rx__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_RX_VALID_DAYS);\n            var _rx_valid_until;\n            setSignedValidUntil((_rx_valid_until = rx.valid_until) !== null && _rx_valid_until !== void 0 ? _rx_valid_until : null);\n            setIsDirty(false);\n            return;\n        }\n        // Neither draft nor signed  clean slate (editable)\n        setLockedSigned(false);\n        setRxId(null);\n        setItems([]);\n        setNotesForPatient(\"\");\n        setValidDays(_lib_rx__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_RX_VALID_DAYS);\n        setSignedValidUntil(null);\n        setIsDirty(false);\n    }\n    // Load existing Rx whenever consultation changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RxPanel.useEffect\": ()=>{\n            if (!consultationId) return;\n            setError(null);\n            loadCurrentDraft();\n        }\n    }[\"RxPanel.useEffect\"], [\n        consultationId\n    ]);\n    // Search meds from pharmacy table\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RxPanel.useEffect\": ()=>{\n            const t = setTimeout({\n                \"RxPanel.useEffect.t\": async ()=>{\n                    if (!search.trim()) {\n                        setResults([]);\n                        return;\n                    }\n                    const res = await fetch(\"/api/meds/search?q=\".concat(encodeURIComponent(search.trim())));\n                    const json = await res.json();\n                    if (res.ok) setResults(json.items || []);\n                }\n            }[\"RxPanel.useEffect.t\"], 250);\n            return ({\n                \"RxPanel.useEffect\": ()=>clearTimeout(t)\n            })[\"RxPanel.useEffect\"];\n        }\n    }[\"RxPanel.useEffect\"], [\n        search\n    ]);\n    // Add from pharmacy  prevent duplicates (generic+strength+form)\n    function addMed(m) {\n        const exists = items.some((it)=>{\n            var _it_generic_name;\n            var _m_generic_name;\n            return ((_it_generic_name = it.generic_name) === null || _it_generic_name === void 0 ? void 0 : _it_generic_name.toLowerCase()) === ((_m_generic_name = m.generic_name) !== null && _m_generic_name !== void 0 ? _m_generic_name : \"\").toLowerCase() && it.strength === m.strength && it.form === m.form;\n        });\n        if (exists) {\n            alert(\"This medication is already in the list.\");\n            return;\n        }\n        setItems((prev)=>{\n            var _m_generic_name, _m_strength, _m_form, _m_price;\n            return [\n                ...prev,\n                {\n                    med_id: m.id,\n                    generic_name: (_m_generic_name = m.generic_name) !== null && _m_generic_name !== void 0 ? _m_generic_name : \"\",\n                    strength: (_m_strength = m.strength) !== null && _m_strength !== void 0 ? _m_strength : \"\",\n                    form: (_m_form = m.form) !== null && _m_form !== void 0 ? _m_form : \"\",\n                    brand_name: \"\",\n                    route: \"PO\",\n                    dose_amount: 1,\n                    dose_unit: \"tab\",\n                    frequency_code: \"BID\",\n                    duration_days: 7,\n                    quantity: 14,\n                    instructions: \"\",\n                    unit_price: (_m_price = m.price) !== null && _m_price !== void 0 ? _m_price : null\n                }\n            ];\n        });\n        setSearch(\"\");\n        setResults([]);\n        setIsDirty(true);\n        ;\n    }\n    // Add custom (not in DB)\n    function addFreeMed() {\n        if (!search.trim()) return;\n        const parts = search.trim().split(\",\"); // \"Amlodipine, 10 mg, tablet\"\n        const generic = (parts[0] || \"New Medication\").trim();\n        const strength = (parts[1] || \"\").trim();\n        const form = (parts[2] || \"\").trim();\n        const exists = items.some((it)=>{\n            var _it_generic_name;\n            return ((_it_generic_name = it.generic_name) === null || _it_generic_name === void 0 ? void 0 : _it_generic_name.toLowerCase()) === generic.toLowerCase() && it.strength === strength && it.form === form;\n        });\n        if (exists) {\n            alert(\"This medication is already in the list.\");\n            return;\n        }\n        setItems((prev)=>[\n                ...prev,\n                {\n                    med_id: null,\n                    generic_name: generic,\n                    strength,\n                    form,\n                    brand_name: \"\",\n                    route: \"PO\",\n                    dose_amount: 1,\n                    dose_unit: \"tab\",\n                    frequency_code: \"BID\",\n                    duration_days: 7,\n                    quantity: 14,\n                    instructions: \"\",\n                    unit_price: null\n                }\n            ]);\n        setSearch(\"\");\n        setResults([]);\n        setIsDirty(true);\n    }\n    function updateLine(i, patch) {\n        setItems((prev)=>prev.map((ln, idx)=>idx === i ? {\n                    ...ln,\n                    ...patch\n                } : ln));\n        setIsDirty(true);\n    }\n    function removeLine(i) {\n        setItems((prev)=>prev.filter((_, idx)=>idx !== i));\n        setIsDirty(true);\n    }\n    // Totals\n    const subtotal = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"RxPanel.useMemo[subtotal]\": ()=>{\n            return items.reduce({\n                \"RxPanel.useMemo[subtotal]\": (sum, it)=>{\n                    if (it.unit_price != null && it.quantity != null) return sum + it.unit_price * it.quantity;\n                    return sum;\n                }\n            }[\"RxPanel.useMemo[subtotal]\"], 0);\n        }\n    }[\"RxPanel.useMemo[subtotal]\"], [\n        items\n    ]);\n    function calcSuggestedQty(line) {\n        var _line_dose_amount;\n        const perDose = Number((_line_dose_amount = line.dose_amount) !== null && _line_dose_amount !== void 0 ? _line_dose_amount : 0);\n        var _FREQ_PER_DAY_String_toUpperCase;\n        const perDay = (_FREQ_PER_DAY_String_toUpperCase = FREQ_PER_DAY[String(line.frequency_code || \"\").toUpperCase()]) !== null && _FREQ_PER_DAY_String_toUpperCase !== void 0 ? _FREQ_PER_DAY_String_toUpperCase : 0;\n        var _line_duration_days;\n        const days = Number((_line_duration_days = line.duration_days) !== null && _line_duration_days !== void 0 ? _line_duration_days : 0);\n        if (!isFinite(perDose) || !isFinite(perDay) || !isFinite(days)) return null;\n        if (perDose <= 0 || perDay <= 0 || days <= 0) return null;\n        return Math.max(0, Math.round(perDose * perDay * days));\n    }\n    function updateValidDaysInput(next) {\n        const num = Number(next);\n        if (!Number.isFinite(num) || num <= 0) {\n            setValidDays(1);\n        } else {\n            setValidDays(Math.min(365, Math.round(num)));\n        }\n        setSignedValidUntil(null);\n        setIsDirty(true);\n    }\n    // Create a draft revision from the active signed Rx, switch UI to it, and return its id\n    async function startRevision() {\n        if (reviseBusy) return null;\n        if (!consultationId) return null; //  satisfies TS for encodeURIComponent below\n        setReviseBusy(true);\n        setError(null);\n        try {\n            const res = await fetch(\"/api/prescriptions/revise\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    consultationId\n                })\n            });\n            const j = await res.json().catch(()=>({}));\n            if (!res.ok || !(j === null || j === void 0 ? void 0 : j.id)) {\n                setError((j === null || j === void 0 ? void 0 : j.error) || \"Failed to create a revision.\");\n                return null;\n            }\n            //  New draft created\n            setLockedSigned(false); // unlock editing\n            setRxId(j.id);\n            //  Hydrate immediately if the server included items and notes\n            if (Array.isArray(j.items)) {\n                setItems(j.items);\n                var _j_notes_for_patient;\n                setNotesForPatient((_j_notes_for_patient = j.notes_for_patient) !== null && _j_notes_for_patient !== void 0 ? _j_notes_for_patient : \"\");\n                var _j_valid_days;\n                setValidDays((_j_valid_days = j.valid_days) !== null && _j_valid_days !== void 0 ? _j_valid_days : _lib_rx__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_RX_VALID_DAYS);\n                setSignedValidUntil(null);\n                setIsDirty(false);\n            } else {\n                // Otherwise, fall back to fetching the draft endpoint\n                const dr = await fetch(\"/api/prescriptions/draft?consultation_id=\".concat(encodeURIComponent(consultationId)));\n                const dj = await dr.json().catch(()=>({}));\n                if (dr.ok && (dj === null || dj === void 0 ? void 0 : dj.id)) {\n                    setItems(Array.isArray(dj.items) ? dj.items : []);\n                    var _dj_notes_for_patient;\n                    setNotesForPatient((_dj_notes_for_patient = dj.notes_for_patient) !== null && _dj_notes_for_patient !== void 0 ? _dj_notes_for_patient : \"\");\n                    var _dj_valid_days;\n                    setValidDays((_dj_valid_days = dj.valid_days) !== null && _dj_valid_days !== void 0 ? _dj_valid_days : _lib_rx__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_RX_VALID_DAYS);\n                    setSignedValidUntil(null);\n                } else {\n                    await loadCurrentDraft();\n                }\n            }\n            // tiny UX ping\n            setSaving(\"saved\");\n            setTimeout(()=>setSaving(\"idle\"), 1000);\n            return j.id; //  return the new draft id\n        } finally{\n            setReviseBusy(false);\n        }\n    }\n    // Save / delete / sign\n    async function saveDraft(opts) {\n        var _opts_silent;\n        const silent = (_opts_silent = opts === null || opts === void 0 ? void 0 : opts.silent) !== null && _opts_silent !== void 0 ? _opts_silent : false;\n        //  If we're on a signed Rx, ask first\n        if (lockedSigned) {\n            const proceed = window.confirm(\"A signed prescription already exists for today. Create a revision?\");\n            if (!proceed) return;\n            //  Create revision and switch to new draft\n            const newId = await startRevision(); //  uses the improved function\n            if (!newId) return;\n            //  then reattempt save silently on the new draft\n            await saveDraft({\n                silent: true\n            });\n            return;\n        }\n        //  Proceed with normal draft saving\n        if (!consultationId || !patientId) return;\n        setError(null);\n        setSaving(\"saving\");\n        const res = await fetch(\"/api/prescriptions/upsert\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                consultationId,\n                patientId,\n                notesForPatient,\n                validDays,\n                items\n            })\n        });\n        const j = await res.json().catch(()=>({}));\n        if (!res.ok) {\n            setSaving(\"idle\");\n            if (!silent) alert((j === null || j === void 0 ? void 0 : j.error) || \"Failed to save draft\");\n            return;\n        }\n        setRxId(j.id || null);\n        setSaving(silent ? \"idle\" : \"saved\");\n        if (!silent) setTimeout(()=>setSaving(\"idle\"), 1200);\n        setIsDirty(false);\n    }\n    async function deleteDraft() {\n        if (!consultationId) return;\n        if (!confirm(\"Delete this draft?\")) return;\n        const res = await fetch(\"/api/prescriptions/draft\", {\n            method: \"DELETE\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                consultationId\n            })\n        });\n        if (!res.ok) {\n            const j = await res.json().catch(()=>({}));\n            setError((j === null || j === void 0 ? void 0 : j.error) || \"Failed to delete draft.\");\n            return;\n        }\n        // Reset and reflect the lock state (if a signed Rx exists, banner will return)\n        setItems([]);\n        setNotesForPatient(\"\");\n        setRxId(null);\n        setValidDays(_lib_rx__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_RX_VALID_DAYS);\n        setSignedValidUntil(null);\n        await loadCurrentDraft();\n        setIsDirty(false);\n    }\n    async function signRx() {\n        if (signing) return; // prevent double-clicks\n        setSigning(true);\n        setError(null);\n        try {\n            // If panel currently shows a signed Rx, start a revision first\n            if (lockedSigned) {\n                const newId = await startRevision();\n                if (!newId) {\n                    setError(\"Unable to start a revision for signing.\");\n                    return;\n                }\n                setRxId(newId);\n            }\n            // Ensure we have a draft to sign\n            if (!rxId) {\n                await saveDraft({\n                    silent: true\n                });\n            }\n            if (!rxId) {\n                setError(\"Unable to prepare the prescription for signing.\");\n                return;\n            }\n            // Call the sign API\n            const res = await fetch(\"/api/prescriptions/sign\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    prescriptionId: rxId,\n                    validDays\n                })\n            });\n            const j = await res.json().catch(()=>({}));\n            if (!res.ok || (j === null || j === void 0 ? void 0 : j.error)) {\n                setError((j === null || j === void 0 ? void 0 : j.error) || \"HTTP \".concat(res.status));\n                return;\n            }\n            //  SUCCESS: Open the consent modal (parent controls it)\n            onSigned === null || onSigned === void 0 ? void 0 : onSigned();\n            // Lock the panel underneath (no page reload here)\n            setLockedSigned(true);\n            setSaving(\"saved\");\n            setTimeout(()=>setSaving(\"idle\"), 1200);\n            // Clear draft context and re-hydrate view\n            setRxId(null);\n            await loadCurrentDraft();\n            // Let other widgets (like PastConsultations) refresh themselves\n            window.dispatchEvent(new CustomEvent(\"rx:signed\", {\n                detail: {\n                    consultationId\n                }\n            }));\n        } catch (e) {\n            setError((e === null || e === void 0 ? void 0 : e.message) || \"Failed to sign prescription\");\n        } finally{\n            setSigning(false);\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-4\",\n        children: [\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-sm text-red-600\",\n                children: error\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                lineNumber: 482,\n                columnNumber: 15\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"ml-auto text-xs text-gray-500\",\n                    children: saving === \"saving\" ? \"Saving\" : saving === \"saved\" ? \"Saved\" : null\n                }, void 0, false, {\n                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                    lineNumber: 485,\n                    columnNumber: 7\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                lineNumber: 484,\n                columnNumber: 5\n            }, this),\n            lockedSigned && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-3 rounded-md border border-red-200 bg-red-50 p-3 text-sm text-red-700\",\n                children: [\n                    \"Prescription already \",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                        children: \"signed\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                        lineNumber: 493,\n                        columnNumber: 30\n                    }, this),\n                    \" for this consultation. To make changes, create a \",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                        children: \"Revision\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                        lineNumber: 494,\n                        columnNumber: 18\n                    }, this),\n                    \".\",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        onClick: startRevision,\n                        disabled: reviseBusy,\n                        className: \"ml-3 inline-flex items-center rounded border border-red-300 bg-white px-2.5 py-1 text-xs font-medium text-red-700 hover:bg-red-100 disabled:opacity-50\",\n                        children: \"Create Revision\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                        lineNumber: 495,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                lineNumber: 492,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"fieldset\", {\n                disabled: lockedSigned,\n                className: lockedSigned ? \"opacity-60 pointer-events-none\" : \"\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"block text-sm mb-1\",\n                                children: \"Add medicine from pharmacy list. If preferred medication is not available: input [Generic Name, strength, form]  Add Custom\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                lineNumber: 513,\n                                columnNumber: 9\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        className: \"flex-1 border rounded-lg px-3 py-2\",\n                                        placeholder: \"Search meds (generic, strength, form)\",\n                                        value: search,\n                                        onChange: (e)=>setSearch(e.target.value)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                        lineNumber: 518,\n                                        columnNumber: 11\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        type: \"button\",\n                                        className: \"px-3 py-2 border rounded text-sm\",\n                                        onClick: ()=>addFreeMed(),\n                                        children: \"Add Custom\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                        lineNumber: 524,\n                                        columnNumber: 11\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                lineNumber: 517,\n                                columnNumber: 9\n                            }, this),\n                            !!results.length && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"border rounded-lg mt-2 max-h-48 overflow-auto\",\n                                children: results.map((m)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        type: \"button\",\n                                        className: \"w-full text-left px-3 py-2 hover:bg-gray-50 border-b last:border-0\",\n                                        onClick: ()=>addMed(m),\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-sm\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                                                    children: m.generic_name\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                    lineNumber: 542,\n                                                    columnNumber: 19\n                                                }, this),\n                                                \"  \",\n                                                m.strength,\n                                                \" \",\n                                                m.form,\n                                                m.price != null && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-gray-500\",\n                                                    children: [\n                                                        \" \\xb7 \",\n                                                        m.price\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                    lineNumber: 544,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                            lineNumber: 541,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, m.id, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                        lineNumber: 535,\n                                        columnNumber: 15\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                lineNumber: 533,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                        lineNumber: 512,\n                        columnNumber: 7\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-5\",\n                        children: items.map((ln, i)=>{\n                            var _ln_dose_amount, _ln_duration_days, _ln_quantity;\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"border rounded-xl p-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2 text-sm\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"font-medium\",\n                                                children: [\n                                                    ln.generic_name,\n                                                    \"  \",\n                                                    ln.strength,\n                                                    \" \",\n                                                    ln.form,\n                                                    ln.brand_name && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-gray-500\",\n                                                        children: [\n                                                            \" (\",\n                                                            ln.brand_name,\n                                                            \")\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                        lineNumber: 562,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    ln.unit_price != null && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-gray-500\",\n                                                        children: [\n                                                            \" \\xb7 Unit \",\n                                                            ln.unit_price\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                        lineNumber: 565,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                lineNumber: 559,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"ml-auto text-xs text-red-600 underline\",\n                                                onClick: ()=>removeLine(i),\n                                                type: \"button\",\n                                                children: \"Remove\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                lineNumber: 568,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                        lineNumber: 558,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"grid grid-cols-1 sm:grid-cols-3 gap-3 mt-3 text-sm\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"block text-xs text-gray-600 mb-1\",\n                                                        children: \"Brand (optional)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                        lineNumber: 580,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        className: \"w-full border rounded px-2 py-1\",\n                                                        value: ln.brand_name || \"\",\n                                                        onChange: (e)=>updateLine(i, {\n                                                                brand_name: e.target.value\n                                                            }),\n                                                        placeholder: \"e.g., Norvasc\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                        lineNumber: 583,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                lineNumber: 579,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"block text-xs text-gray-600 mb-1\",\n                                                        children: \"Route\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                        lineNumber: 592,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                        className: \"w-full border rounded px-2 py-1\",\n                                                        value: ln.route || \"PO\",\n                                                        onChange: (e)=>updateLine(i, {\n                                                                route: e.target.value\n                                                            }),\n                                                        children: ROUTES.map((r)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: r,\n                                                                children: r\n                                                            }, r, false, {\n                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                                lineNumber: 599,\n                                                                columnNumber: 21\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                        lineNumber: 593,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                lineNumber: 591,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"block text-xs text-gray-600 mb-1\",\n                                                        children: \"Dose amount\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                        lineNumber: 607,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        className: \"w-full border rounded px-2 py-1\",\n                                                        type: \"number\",\n                                                        step: \"0.5\",\n                                                        value: (_ln_dose_amount = ln.dose_amount) !== null && _ln_dose_amount !== void 0 ? _ln_dose_amount : 1,\n                                                        onChange: (e)=>updateLine(i, {\n                                                                dose_amount: Number(e.target.value)\n                                                            })\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                        lineNumber: 610,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                lineNumber: 606,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"block text-xs text-gray-600 mb-1\",\n                                                        children: \"Dose unit\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                        lineNumber: 622,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                        className: \"w-full border rounded px-2 py-1\",\n                                                        value: ln.dose_unit || \"tab\",\n                                                        onChange: (e)=>updateLine(i, {\n                                                                dose_unit: e.target.value\n                                                            }),\n                                                        children: UNITS.map((u)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: u,\n                                                                children: u\n                                                            }, u, false, {\n                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                                lineNumber: 631,\n                                                                columnNumber: 21\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                        lineNumber: 625,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                lineNumber: 621,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"block text-xs text-gray-600 mb-1\",\n                                                        children: \"Frequency\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                        lineNumber: 639,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                        className: \"w-full border rounded px-2 py-1\",\n                                                        value: ln.frequency_code || \"BID\",\n                                                        onChange: (e)=>updateLine(i, {\n                                                                frequency_code: e.target.value\n                                                            }),\n                                                        children: FREQS.map((f)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: f,\n                                                                children: f\n                                                            }, f, false, {\n                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                                lineNumber: 650,\n                                                                columnNumber: 21\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                        lineNumber: 642,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex flex-wrap gap-1 mt-1\",\n                                                        children: [\n                                                            \"OD\",\n                                                            \"BID\",\n                                                            \"TID\",\n                                                            \"QID\",\n                                                            \"HS\",\n                                                            \"PRN\"\n                                                        ].map((code)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                type: \"button\",\n                                                                className: \"text-[11px] px-2 py-1 rounded border\",\n                                                                onClick: ()=>updateLine(i, {\n                                                                        frequency_code: code\n                                                                    }),\n                                                                children: code\n                                                            }, code, false, {\n                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                                lineNumber: 657,\n                                                                columnNumber: 21\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                        lineNumber: 655,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                lineNumber: 638,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"block text-xs text-gray-600 mb-1\",\n                                                        children: \"Duration (days)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                        lineNumber: 670,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        className: \"w-full border rounded px-2 py-1\",\n                                                        type: \"number\",\n                                                        min: 1,\n                                                        value: (_ln_duration_days = ln.duration_days) !== null && _ln_duration_days !== void 0 ? _ln_duration_days : 7,\n                                                        onChange: (e)=>updateLine(i, {\n                                                                duration_days: Number(e.target.value)\n                                                            })\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                        lineNumber: 673,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex flex-wrap gap-1 mt-1\",\n                                                        children: [\n                                                            3,\n                                                            5,\n                                                            7,\n                                                            14,\n                                                            30\n                                                        ].map((d)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                type: \"button\",\n                                                                className: \"text-[11px] px-2 py-1 rounded border\",\n                                                                onClick: ()=>updateLine(i, {\n                                                                        duration_days: d\n                                                                    }),\n                                                                children: [\n                                                                    d,\n                                                                    \"d\"\n                                                                ]\n                                                            }, d, true, {\n                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                                lineNumber: 684,\n                                                                columnNumber: 21\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                        lineNumber: 682,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                lineNumber: 669,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"block text-xs text-gray-600 mb-1\",\n                                                        children: \"Quantity\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                        lineNumber: 697,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                className: \"border rounded px-2 py-1 w-28\",\n                                                                type: \"number\",\n                                                                min: 1,\n                                                                value: (_ln_quantity = ln.quantity) !== null && _ln_quantity !== void 0 ? _ln_quantity : 14,\n                                                                onChange: (e)=>updateLine(i, {\n                                                                        quantity: Number(e.target.value)\n                                                                    })\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                                lineNumber: 701,\n                                                                columnNumber: 19\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                className: \"text-xs underline text-gray-700\",\n                                                                type: \"button\",\n                                                                onClick: ()=>{\n                                                                    const q = calcSuggestedQty(ln);\n                                                                    if (q != null) updateLine(i, {\n                                                                        quantity: q\n                                                                    });\n                                                                },\n                                                                children: \"Calc\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                                lineNumber: 710,\n                                                                columnNumber: 19\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                        lineNumber: 700,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                                lineNumber: 696,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                        lineNumber: 578,\n                                        columnNumber: 13\n                                    }, this),\n                                    ln.unit_price != null && ln.quantity != null && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-right text-sm mt-2\",\n                                        children: [\n                                            \"Line total: \",\n                                            (ln.unit_price * ln.quantity).toFixed(2)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                        lineNumber: 725,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, i, true, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                lineNumber: 556,\n                                columnNumber: 11\n                            }, this);\n                        })\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                        lineNumber: 554,\n                        columnNumber: 7\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"block text-sm mb-1\",\n                                children: \"Shared instructions for patient\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                lineNumber: 735,\n                                columnNumber: 9\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                className: \"w-full border rounded p-2 text-sm\",\n                                value: notesForPatient,\n                                onChange: (e)=>{\n                                    setNotesForPatient(e.target.value);\n                                    setIsDirty(true);\n                                },\n                                placeholder: \"Diet, lifestyle, follow-up, special instructions\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                lineNumber: 736,\n                                columnNumber: 9\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                        lineNumber: 734,\n                        columnNumber: 7\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"block text-sm mb-1\",\n                                children: \"Prescription validity (days)\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                lineNumber: 749,\n                                columnNumber: 9\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-wrap items-center gap-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        className: \"w-28 border rounded px-2 py-1\",\n                                        type: \"number\",\n                                        min: 1,\n                                        max: 365,\n                                        value: validDays,\n                                        onChange: (e)=>updateValidDaysInput(Number(e.target.value))\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                        lineNumber: 751,\n                                        columnNumber: 11\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-gray-500\",\n                                        children: lockedSigned && signedValidUntil ? \"Signed Rx valid until \".concat(validityPreviewLabel !== null && validityPreviewLabel !== void 0 ? validityPreviewLabel : \"\", \".\") : validityPreviewLabel ? \"Will be valid until \".concat(validityPreviewLabel, \".\") : \"Enter number of days to auto-compute expiry.\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                        lineNumber: 759,\n                                        columnNumber: 11\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                lineNumber: 750,\n                                columnNumber: 9\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-wrap gap-1 mt-1 text-xs\",\n                                children: [\n                                    7,\n                                    14,\n                                    30,\n                                    60,\n                                    90\n                                ].map((d)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        type: \"button\",\n                                        className: \"rounded border px-2 py-1\",\n                                        onClick: ()=>updateValidDaysInput(d),\n                                        children: [\n                                            d,\n                                            \"d\"\n                                        ]\n                                    }, d, true, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                        lineNumber: 769,\n                                        columnNumber: 13\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                lineNumber: 767,\n                                columnNumber: 9\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                        lineNumber: 748,\n                        columnNumber: 7\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"sticky bottom-0 bg-white pt-2 pb-2 border-t mt-2\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-sm font-medium\",\n                                    children: [\n                                        \"Subtotal: \",\n                                        subtotal.toFixed(2)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                    lineNumber: 784,\n                                    columnNumber: 11\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"ml-auto rounded border px-3 py-2\",\n                                    type: \"button\",\n                                    onClick: ()=>saveDraft(),\n                                    children: \"Save Draft\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                    lineNumber: 787,\n                                    columnNumber: 11\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"rounded border px-3 py-2\",\n                                    type: \"button\",\n                                    onClick: ()=>deleteDraft(),\n                                    children: \"Delete Draft\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                    lineNumber: 794,\n                                    columnNumber: 11\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    type: \"button\",\n                                    onClick: signRx,\n                                    className: \"rounded bg-[#44969b] text-white px-3 py-2 text-sm disabled:opacity-50 disabled:cursor-not-allowed\",\n                                    disabled: !canSign,\n                                    title: signTitle,\n                                    \"aria-disabled\": !canSign,\n                                    children: \"Sign Prescription\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                                    lineNumber: 801,\n                                    columnNumber: 11\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                            lineNumber: 783,\n                            columnNumber: 9\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                        lineNumber: 782,\n                        columnNumber: 7\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n                lineNumber: 507,\n                columnNumber: 5\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\",\n        lineNumber: 481,\n        columnNumber: 3\n    }, this);\n}\n_s(RxPanel, \"hsgqxAeDmvV0CHgeQFndXD8kCAw=\");\n_c = RxPanel;\nvar _c;\n$RefreshReg$(_c, \"RxPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8oZG9jdG9yKS9kb2N0b3IvcGF0aWVudC9bcGF0aWVudElkXS9SeFBhbmVsLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRXFEO0FBQ0o7QUEwQmpELE1BQU1JLFNBQVM7SUFBQztJQUFNO0lBQU07SUFBTTtJQUFNO0lBQVc7Q0FBUztBQUM1RCxNQUFNQyxRQUFRO0lBQUM7SUFBTztJQUFPO0lBQU07Q0FBTztBQUMxQyxNQUFNQyxRQUFRO0lBQUM7SUFBTTtJQUFPO0lBQU87SUFBTztJQUFNO0NBQU07QUFDdEQsTUFBTUMsZUFBdUM7SUFDM0NDLElBQUk7SUFBR0MsSUFBSTtJQUFHQyxLQUFLO0lBQUdDLEtBQUs7SUFDM0JDLEtBQUs7SUFBR0MsS0FBSztJQUFHQyxLQUFLO0lBQUdDLElBQUk7SUFBR0MsS0FBSztBQUN0QztBQUVlLFNBQVNDLFFBQVEsS0FRL0I7UUFSK0IsRUFDOUJDLFNBQVMsRUFDVEMsZ0JBQWdCQyxPQUFPLEVBQ3ZCQyxRQUFRLEVBS1QsR0FSK0I7O0lBUzlCLGdCQUFnQjtJQUNoQixNQUFNLENBQUNGLGdCQUFnQkcsa0JBQWtCLEdBQUdwQiwrQ0FBUUEsQ0FBZ0JrQixvQkFBQUEscUJBQUFBLFVBQVc7SUFDL0UsTUFBTSxDQUFDRyxpQkFBaUJDLG1CQUFtQixHQUFHdEIsK0NBQVFBLENBQUM7SUFDdkQsTUFBTSxDQUFDdUIsT0FBT0MsU0FBUyxHQUFHeEIsK0NBQVFBLENBQVMsRUFBRTtJQUM3QyxNQUFNLENBQUN5QixRQUFRQyxVQUFVLEdBQUcxQiwrQ0FBUUEsQ0FBQztJQUNyQyxNQUFNLENBQUMyQixTQUFTQyxXQUFXLEdBQUc1QiwrQ0FBUUEsQ0FBUSxFQUFFO0lBQ2hELE1BQU0sQ0FBQzZCLFFBQVFDLFVBQVUsR0FBRzlCLCtDQUFRQSxDQUE4QjtJQUNsRSxNQUFNLENBQUMrQixjQUFjQyxnQkFBZ0IsR0FBR2hDLCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ2lDLFlBQVlDLGNB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QUM7b0NBQUc7b0NBQUk7b0NBQUk7b0NBQUk7aUNBQUcsQ0FBQzNDLEdBQUcsQ0FBQyxDQUFDaUUsa0JBQ3hCLDhEQUFDbkI7d0NBRUNDLE1BQUs7d0NBQ0xKLFdBQVU7d0NBQ1ZLLFNBQVMsSUFBTWhDLHFCQUFxQmlEOzs0Q0FFbkNBOzRDQUFFOzt1Q0FMRUE7Ozs7Ozs7Ozs7Ozs7Ozs7a0NBWWIsOERBQUN2Qjt3QkFBSUMsV0FBVTtrQ0FDYiw0RUFBQ0Q7NEJBQUlDLFdBQVU7OzhDQUNiLDhEQUFDRDtvQ0FBSUMsV0FBVTs7d0NBQXNCO3dDQUN2QnJDLFNBQVM2RCxPQUFPLENBQUM7Ozs7Ozs7OENBRS9CLDhEQUFDckI7b0NBQ0NILFdBQVU7b0NBQ1ZJLE1BQUs7b0NBQ0xDLFNBQVMsSUFBTXJCOzhDQUNoQjs7Ozs7OzhDQUdELDhEQUFDbUI7b0NBQ0NILFdBQVU7b0NBQ1ZJLE1BQUs7b0NBQ0xDLFNBQVMsSUFBTWQ7OENBQ2hCOzs7Ozs7OENBR0QsOERBQUNZO29DQUNDQyxNQUFLO29DQUNMQyxTQUFTYjtvQ0FDVFEsV0FBVTtvQ0FDVk0sVUFBVSxDQUFDMUg7b0NBQ1g4SSxPQUFPNUk7b0NBQ1A2SSxpQkFBZSxDQUFDL0k7OENBQ2pCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVFYO0dBMXdCd0JoQztLQUFBQSIsInNvdXJjZXMiOlsiL1VzZXJzL3BvY2hvbG8vUHJvamVjdHMvd2VsbHNlcnYtcG9ydGFsL2FwcHMvd2ViL2FwcC8oZG9jdG9yKS9kb2N0b3IvcGF0aWVudC9bcGF0aWVudElkXS9SeFBhbmVsLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgREVGQVVMVF9SWF9WQUxJRF9EQVlTIH0gZnJvbSBcIkAvbGliL3J4XCI7XG5cbnR5cGUgTWVkID0ge1xuICBpZDogc3RyaW5nO1xuICBnZW5lcmljX25hbWU6IHN0cmluZyB8IG51bGw7XG4gIHN0cmVuZ3RoOiBzdHJpbmcgfCBudWxsO1xuICBmb3JtOiBzdHJpbmcgfCBudWxsO1xuICBwcmljZTogbnVtYmVyIHwgbnVsbDtcbn07XG5cbnR5cGUgTGluZSA9IHtcbiAgbWVkX2lkPzogc3RyaW5nIHwgbnVsbDtcbiAgZ2VuZXJpY19uYW1lPzogc3RyaW5nO1xuICBzdHJlbmd0aD86IHN0cmluZztcbiAgZm9ybT86IHN0cmluZztcbiAgYnJhbmRfbmFtZT86IHN0cmluZzsgICAgICAgIC8vIG9wdGlvbmFsLCBwZXJzaXN0ZWQgaW4gcHJlc2NyaXB0aW9uX2l0ZW1zLmJyYW5kX25hbWVcbiAgcm91dGU/OiBzdHJpbmc7XG4gIGRvc2VfYW1vdW50PzogbnVtYmVyO1xuICBkb3NlX3VuaXQ/OiBzdHJpbmc7XG4gIGZyZXF1ZW5jeV9jb2RlPzogc3RyaW5nO1xuICBkdXJhdGlvbl9kYXlzPzogbnVtYmVyO1xuICBxdWFudGl0eT86IG51bWJlcjtcbiAgaW5zdHJ1Y3Rpb25zPzogc3RyaW5nO1xuICB1bml0X3ByaWNlPzogbnVtYmVyIHwgbnVsbDtcbn07XG5cbmNvbnN0IFJPVVRFUyA9IFtcIlBPXCIsIFwiSU1cIiwgXCJJVlwiLCBcIlNDXCIsIFwiVG9waWNhbFwiLCBcIkluaGFsZVwiXTtcbmNvbnN0IFVOSVRTID0gW1widGFiXCIsIFwiY2FwXCIsIFwibUxcIiwgXCJwdWZmXCJdO1xuY29uc3QgRlJFUVMgPSBbXCJPRFwiLCBcIkJJRFwiLCBcIlRJRFwiLCBcIlFJRFwiLCBcIkhTXCIsIFwiUFJOXCJdO1xuY29uc3QgRlJFUV9QRVJfREFZOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge1xuICBPRDogMSwgUUQ6IDEsIFFBTTogMSwgUVBNOiAxLFxuICBCSUQ6IDIsIFRJRDogMywgUUlEOiA0LCBIUzogMSwgUFJOOiAwLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUnhQYW5lbCh7XG4gIHBhdGllbnRJZCxcbiAgY29uc3VsdGF0aW9uSWQ6IGNpZFByb3AsXG4gIG9uU2lnbmVkLFxufToge1xuICBwYXRpZW50SWQ6IHN0cmluZztcbiAgY29uc3VsdGF0aW9uSWQ/OiBzdHJpbmcgfCBudWxsO1xuICBvblNpZ25lZD86ICgpID0+IHZvaWQ7XG59KSB7XG4gIC8vIC0tLSBzdGF0ZSAtLS1cbiAgY29uc3QgW2NvbnN1bHRhdGlvbklkLCBzZXRDb25zdWx0YXRpb25JZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihjaWRQcm9wID8/IG51bGwpO1xuICBjb25zdCBbbm90ZXNGb3JQYXRpZW50LCBzZXROb3Rlc0ZvclBhdGllbnRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtpdGVtcywgc2V0SXRlbXNdID0gdXNlU3RhdGU8TGluZVtdPihbXSk7XG4gIGNvbnN0IFtzZWFyY2gsIHNldFNlYXJjaF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3Jlc3VsdHMsIHNldFJlc3VsdHNdID0gdXNlU3RhdGU8TWVkW10+KFtdKTtcbiAgY29uc3QgW3NhdmluZywgc2V0U2F2aW5nXSA9IHVzZVN0YXRlPFwiaWRsZVwiIHwgXCJzYXZpbmdcIiB8IFwic2F2ZWRcIj4oXCJpZGxlXCIpO1xuICBjb25zdCBbbG9ja2VkU2lnbmVkLCBzZXRMb2NrZWRTaWduZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcmV2aXNlQnVzeSwgc2V0UmV2aXNlQnVzeV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaWduaW5nLCBzZXRTaWduaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzRGlydHksIHNldElzRGlydHldID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsaWREYXlzLCBzZXRWYWxpZERheXNdID0gdXNlU3RhdGU8bnVtYmVyPihERUZBVUxUX1JYX1ZBTElEX0RBWVMpO1xuICBjb25zdCBbc2lnbmVkVmFsaWRVbnRpbCwgc2V0U2lnbmVkVmFsaWRVbnRpbF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICAvLyBuZXcgc3RhdGUgZm9yIHJldmlzaW9uL3NpZ24gZmxvd1xuICBjb25zdCBbcnhJZCwgc2V0UnhJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgLy8gRW5oYW5jZWQgc2lnbiBjb250cm9sIGxvZ2ljXG4gIGNvbnN0IGNhblNpZ24gPVxuICAgIEJvb2xlYW4ocnhJZCkgJiZcbiAgICAhbG9ja2VkU2lnbmVkICYmXG4gICAgIWlzRGlydHkgJiZcbiAgICBzYXZpbmcgIT09IFwic2F2aW5nXCIgJiZcbiAgICAhc2lnbmluZzsgLy8gcmVtb3ZlIGlmIHlvdSBkb24ndCBoYXZlIGBzaWduaW5nYCBzdGF0ZVxuXG4gIGNvbnN0IHNpZ25UaXRsZSA9XG4gICAgIXJ4SWRcbiAgICAgID8gXCJDcmVhdGUgb3IgbG9hZCBhIGRyYWZ0IGJlZm9yZSBzaWduaW5nLlwiXG4gICAgICA6IGxvY2tlZFNpZ25lZFxuICAgICAgPyBcIkFscmVhZHkgc2lnbmVkIOKAlCBjcmVhdGUgYSByZXZpc2lvbiB0byBtYWtlIGNoYW5nZXMuXCJcbiAgICAgIDogaXNEaXJ0eVxuICAgICAgPyBcIlNhdmUgdGhlIGRyYWZ0IGZpcnN0LCB0aGVuIHNpZ24uXCJcbiAgICAgIDogc2F2aW5nID09PSBcInNhdmluZ1wiXG4gICAgICA/IFwiU2F2aW5nIGRyYWZ04oCmXCJcbiAgICAgIDogc2lnbmluZ1xuICAgICAgPyBcIlNpZ25pbmfigKZcIlxuICAgICAgOiBcIlNpZ24gdGhpcyBwcmVzY3JpcHRpb25cIjtcblxuICBjb25zdCB2YWxpZGl0eVByZXZpZXdEYXRlID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKGxvY2tlZFNpZ25lZCAmJiBzaWduZWRWYWxpZFVudGlsKSB7XG4gICAgICBjb25zdCBkdCA9IG5ldyBEYXRlKHNpZ25lZFZhbGlkVW50aWwpO1xuICAgICAgcmV0dXJuIE51bWJlci5pc05hTigrZHQpID8gbnVsbCA6IGR0O1xuICAgIH1cbiAgICBjb25zdCBkYXlzID0gTnVtYmVyKHZhbGlkRGF5cyk7XG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoZGF5cykgfHwgZGF5cyA8PSAwKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBkdCA9IG5ldyBEYXRlKCk7XG4gICAgZHQuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gICAgZHQuc2V0RGF0ZShkdC5nZXREYXRlKCkgKyBNYXRoLnJvdW5kKGRheXMpKTtcbiAgICByZXR1cm4gZHQ7XG4gIH0sIFtsb2NrZWRTaWduZWQsIHNpZ25lZFZhbGlkVW50aWwsIHZhbGlkRGF5c10pO1xuXG4gIGNvbnN0IHZhbGlkaXR5UHJldmlld0xhYmVsID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKCF2YWxpZGl0eVByZXZpZXdEYXRlKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gdmFsaWRpdHlQcmV2aWV3RGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoXCJlbi1QSFwiLCB7XG4gICAgICB5ZWFyOiBcIm51bWVyaWNcIixcbiAgICAgIG1vbnRoOiBcInNob3J0XCIsXG4gICAgICBkYXk6IFwibnVtZXJpY1wiLFxuICAgIH0pO1xuICB9LCBbdmFsaWRpdHlQcmV2aWV3RGF0ZV0pO1xuXG5cbiAgLy8gSWYgcGFyZW50IHByb3ZpZGVzIGEgY29uc3VsdGF0aW9uIGlkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNpZFByb3AgIT0gbnVsbCkgc2V0Q29uc3VsdGF0aW9uSWQoY2lkUHJvcCk7XG4gIH0sIFtjaWRQcm9wXSk7XG5cbiAgLy8gSGVscGVyOiBsb2FkIGN1cnJlbnQgZHJhZnQ7IGlmIG5vbmUsIGh5ZHJhdGUgd2l0aCBhY3RpdmUgc2lnbmVkIChyZWFkLW9ubHkpXG4gIGFzeW5jIGZ1bmN0aW9uIGxvYWRDdXJyZW50RHJhZnQoKSB7XG4gICAgaWYgKCFjb25zdWx0YXRpb25JZCkgcmV0dXJuO1xuXG4gICAgLy8gVHJ5IGRyYWZ0IGZpcnN0XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYC9hcGkvcHJlc2NyaXB0aW9ucy9kcmFmdD9jb25zdWx0YXRpb25faWQ9JHtlbmNvZGVVUklDb21wb25lbnQoY29uc3VsdGF0aW9uSWQpfWApO1xuICAgIGNvbnN0IGogPSBhd2FpdCByZXMuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuXG4gICAgaWYgKHJlcy5vayAmJiBqPy5pZCkge1xuICAgICAgLy8g4pyFIERyYWZ0IGV4aXN0cyDigJQgdW5sb2NrICYgYmluZFxuICAgICAgc2V0TG9ja2VkU2lnbmVkKGZhbHNlKTtcbiAgICAgIHNldFJ4SWQoai5pZCk7XG4gICAgICBzZXRJdGVtcyhBcnJheS5pc0FycmF5KGouaXRlbXMpID8gai5pdGVtcyA6IFtdKTtcbiAgICAgIHNldE5vdGVzRm9yUGF0aWVudChqLm5vdGVzX2Zvcl9wYXRpZW50ID8/IFwiXCIpO1xuICAgICAgc2V0VmFsaWREYXlzKGoudmFsaWRfZGF5cyA/PyBERUZBVUxUX1JYX1ZBTElEX0RBWVMpO1xuICAgICAgc2V0U2lnbmVkVmFsaWRVbnRpbChudWxsKTtcbiAgICAgIHNldElzRGlydHkoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIOKdjCBObyBkcmFmdCDigJQgaHlkcmF0ZSB3aXRoIGFjdGl2ZSBzaWduZWQgKHJlYWQtb25seSkgc28gYmFubmVyIHNob3dzXG4gICAgY29uc3QgZHJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL2NvbnN1bHRhdGlvbnMvZGV0YWlscz9pZD0ke2VuY29kZVVSSUNvbXBvbmVudChjb25zdWx0YXRpb25JZCl9YCk7XG4gICAgY29uc3QgZGogPSBhd2FpdCBkcmVzLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICBjb25zdCByeCA9IGRqPy5kZXRhaWxzPy5yeCB8fCBkaj8uZGV0YWlscz8ucHJlc2NyaXB0aW9uO1xuXG4gICAgaWYgKGRyZXMub2sgJiYgcng/LmlkICYmIHJ4Py5zdGF0dXMgPT09IFwic2lnbmVkXCIpIHtcbiAgICAgIHNldExvY2tlZFNpZ25lZCh0cnVlKTsgICAgIC8vIPCflJIgdGhpcyBkcml2ZXMgdGhlIGJhbm5lclxuICAgICAgc2V0UnhJZChudWxsKTsgICAgICAgICAgICAgLy8gbm8gZHJhZnQgc2VsZWN0ZWRcbiAgICAgIHNldEl0ZW1zKEFycmF5LmlzQXJyYXkocnguaXRlbXMpID8gcnguaXRlbXMgOiBbXSk7XG4gICAgICBzZXROb3Rlc0ZvclBhdGllbnQocngubm90ZXNfZm9yX3BhdGllbnQgPz8gXCJcIik7XG4gICAgICBzZXRWYWxpZERheXMocngudmFsaWRfZGF5cyA/PyBERUZBVUxUX1JYX1ZBTElEX0RBWVMpO1xuICAgICAgc2V0U2lnbmVkVmFsaWRVbnRpbChyeC52YWxpZF91bnRpbCA/PyBudWxsKTtcbiAgICAgIHNldElzRGlydHkoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIE5laXRoZXIgZHJhZnQgbm9yIHNpZ25lZCDihpIgY2xlYW4gc2xhdGUgKGVkaXRhYmxlKVxuICAgIHNldExvY2tlZFNpZ25lZChmYWxzZSk7XG4gICAgc2V0UnhJZChudWxsKTtcbiAgICBzZXRJdGVtcyhbXSk7XG4gICAgc2V0Tm90ZXNGb3JQYXRpZW50KFwiXCIpO1xuICAgIHNldFZhbGlkRGF5cyhERUZBVUxUX1JYX1ZBTElEX0RBWVMpO1xuICAgIHNldFNpZ25lZFZhbGlkVW50aWwobnVsbCk7XG4gICAgc2V0SXNEaXJ0eShmYWxzZSk7XG4gIH1cblxuICAvLyBMb2FkIGV4aXN0aW5nIFJ4IHdoZW5ldmVyIGNvbnN1bHRhdGlvbiBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFjb25zdWx0YXRpb25JZCkgcmV0dXJuO1xuICAgIHNldEVycm9yKG51bGwpO1xuICAgIGxvYWRDdXJyZW50RHJhZnQoKTtcbiAgfSwgW2NvbnN1bHRhdGlvbklkXSk7XG5cbiAgLy8gU2VhcmNoIG1lZHMgZnJvbSBwaGFybWFjeSB0YWJsZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHQgPSBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghc2VhcmNoLnRyaW0oKSkgeyBzZXRSZXN1bHRzKFtdKTsgcmV0dXJuOyB9XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9tZWRzL3NlYXJjaD9xPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHNlYXJjaC50cmltKCkpfWApO1xuICAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICBpZiAocmVzLm9rKSBzZXRSZXN1bHRzKGpzb24uaXRlbXMgfHwgW10pO1xuICAgIH0sIDI1MCk7XG4gICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0KTtcbiAgfSwgW3NlYXJjaF0pO1xuXG4gIC8vIEFkZCBmcm9tIHBoYXJtYWN5IOKAlCBwcmV2ZW50IGR1cGxpY2F0ZXMgKGdlbmVyaWMrc3RyZW5ndGgrZm9ybSlcbiAgZnVuY3Rpb24gYWRkTWVkKG06IE1lZCkge1xuICAgIGNvbnN0IGV4aXN0cyA9IGl0ZW1zLnNvbWUoXG4gICAgICBpdCA9PlxuICAgICAgICBpdC5nZW5lcmljX25hbWU/LnRvTG93ZXJDYXNlKCkgPT09IChtLmdlbmVyaWNfbmFtZSA/PyBcIlwiKS50b0xvd2VyQ2FzZSgpICYmXG4gICAgICAgIGl0LnN0cmVuZ3RoID09PSBtLnN0cmVuZ3RoICYmXG4gICAgICAgIGl0LmZvcm0gPT09IG0uZm9ybVxuICAgICk7XG4gICAgaWYgKGV4aXN0cykgeyBhbGVydChcIlRoaXMgbWVkaWNhdGlvbiBpcyBhbHJlYWR5IGluIHRoZSBsaXN0LlwiKTsgcmV0dXJuOyB9XG4gICAgc2V0SXRlbXMocHJldiA9PiBbXG4gICAgICAuLi5wcmV2LFxuICAgICAge1xuICAgICAgICBtZWRfaWQ6IG0uaWQsXG4gICAgICAgIGdlbmVyaWNfbmFtZTogbS5nZW5lcmljX25hbWUgPz8gXCJcIixcbiAgICAgICAgc3RyZW5ndGg6IG0uc3RyZW5ndGggPz8gXCJcIixcbiAgICAgICAgZm9ybTogbS5mb3JtID8/IFwiXCIsXG4gICAgICAgIGJyYW5kX25hbWU6IFwiXCIsXG4gICAgICAgIHJvdXRlOiBcIlBPXCIsXG4gICAgICAgIGRvc2VfYW1vdW50OiAxLFxuICAgICAgICBkb3NlX3VuaXQ6IFwidGFiXCIsXG4gICAgICAgIGZyZXF1ZW5jeV9jb2RlOiBcIkJJRFwiLFxuICAgICAgICBkdXJhdGlvbl9kYXlzOiA3LFxuICAgICAgICBxdWFudGl0eTogMTQsXG4gICAgICAgIGluc3RydWN0aW9uczogXCJcIixcbiAgICAgICAgdW5pdF9wcmljZTogbS5wcmljZSA/PyBudWxsLFxuICAgICAgfVxuICAgIF0pO1xuICAgIHNldFNlYXJjaChcIlwiKTtcbiAgICBzZXRSZXN1bHRzKFtdKVxuICAgIHNldElzRGlydHkodHJ1ZSk7O1xuICB9XG5cbiAgLy8gQWRkIGN1c3RvbSAobm90IGluIERCKVxuICBmdW5jdGlvbiBhZGRGcmVlTWVkKCkge1xuICAgIGlmICghc2VhcmNoLnRyaW0oKSkgcmV0dXJuO1xuICAgIGNvbnN0IHBhcnRzID0gc2VhcmNoLnRyaW0oKS5zcGxpdChcIixcIik7IC8vIFwiQW1sb2RpcGluZSwgMTAgbWcsIHRhYmxldFwiXG4gICAgY29uc3QgZ2VuZXJpYyA9IChwYXJ0c1swXSB8fCBcIk5ldyBNZWRpY2F0aW9uXCIpLnRyaW0oKTtcbiAgICBjb25zdCBzdHJlbmd0aCA9IChwYXJ0c1sxXSB8fCBcIlwiKS50cmltKCk7XG4gICAgY29uc3QgZm9ybSA9IChwYXJ0c1syXSB8fCBcIlwiKS50cmltKCk7XG4gICAgY29uc3QgZXhpc3RzID0gaXRlbXMuc29tZShcbiAgICAgIGl0ID0+XG4gICAgICAgIGl0LmdlbmVyaWNfbmFtZT8udG9Mb3dlckNhc2UoKSA9PT0gZ2VuZXJpYy50b0xvd2VyQ2FzZSgpICYmXG4gICAgICAgIGl0LnN0cmVuZ3RoID09PSBzdHJlbmd0aCAmJlxuICAgICAgICBpdC5mb3JtID09PSBmb3JtXG4gICAgKTtcbiAgICBpZiAoZXhpc3RzKSB7IGFsZXJ0KFwiVGhpcyBtZWRpY2F0aW9uIGlzIGFscmVhZHkgaW4gdGhlIGxpc3QuXCIpOyByZXR1cm47IH1cbiAgICBzZXRJdGVtcyhwcmV2ID0+IFtcbiAgICAgIC4uLnByZXYsXG4gICAgICB7XG4gICAgICAgIG1lZF9pZDogbnVsbCxcbiAgICAgICAgZ2VuZXJpY19uYW1lOiBnZW5lcmljLFxuICAgICAgICBzdHJlbmd0aCxcbiAgICAgICAgZm9ybSxcbiAgICAgICAgYnJhbmRfbmFtZTogXCJcIixcbiAgICAgICAgcm91dGU6IFwiUE9cIixcbiAgICAgICAgZG9zZV9hbW91bnQ6IDEsXG4gICAgICAgIGRvc2VfdW5pdDogXCJ0YWJcIixcbiAgICAgICAgZnJlcXVlbmN5X2NvZGU6IFwiQklEXCIsXG4gICAgICAgIGR1cmF0aW9uX2RheXM6IDcsXG4gICAgICAgIHF1YW50aXR5OiAxNCxcbiAgICAgICAgaW5zdHJ1Y3Rpb25zOiBcIlwiLFxuICAgICAgICB1bml0X3ByaWNlOiBudWxsLFxuICAgICAgfVxuICAgIF0pO1xuICAgIHNldFNlYXJjaChcIlwiKTtcbiAgICBzZXRSZXN1bHRzKFtdKTtcbiAgICBzZXRJc0RpcnR5KHRydWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTGluZShpOiBudW1iZXIsIHBhdGNoOiBQYXJ0aWFsPExpbmU+KSB7XG4gICAgc2V0SXRlbXMocHJldiA9PiBwcmV2Lm1hcCgobG4sIGlkeCkgPT4gKGlkeCA9PT0gaSA/IHsgLi4ubG4sIC4uLnBhdGNoIH0gOiBsbikpKTtcbiAgICBzZXRJc0RpcnR5KHRydWUpO1xuICB9XG4gIGZ1bmN0aW9uIHJlbW92ZUxpbmUoaTogbnVtYmVyKSB7XG4gICAgc2V0SXRlbXMocHJldiA9PiBwcmV2LmZpbHRlcigoXywgaWR4KSA9PiBpZHggIT09IGkpKTtcbiAgICBzZXRJc0RpcnR5KHRydWUpO1xuICB9XG5cbiAgLy8gVG90YWxzXG4gIGNvbnN0IHN1YnRvdGFsID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIGl0ZW1zLnJlZHVjZSgoc3VtLCBpdCkgPT4ge1xuICAgICAgaWYgKGl0LnVuaXRfcHJpY2UgIT0gbnVsbCAmJiBpdC5xdWFudGl0eSAhPSBudWxsKSByZXR1cm4gc3VtICsgaXQudW5pdF9wcmljZSAqIGl0LnF1YW50aXR5O1xuICAgICAgcmV0dXJuIHN1bTtcbiAgICB9LCAwKTtcbiAgfSwgW2l0ZW1zXSk7XG5cbiAgZnVuY3Rpb24gY2FsY1N1Z2dlc3RlZFF0eShsaW5lOiBMaW5lKTogbnVtYmVyIHwgbnVsbCB7XG4gICAgY29uc3QgcGVyRG9zZSA9IE51bWJlcihsaW5lLmRvc2VfYW1vdW50ID8/IDApO1xuICAgIGNvbnN0IHBlckRheSA9IEZSRVFfUEVSX0RBWVtTdHJpbmcobGluZS5mcmVxdWVuY3lfY29kZSB8fCBcIlwiKS50b1VwcGVyQ2FzZSgpXSA/PyAwO1xuICAgIGNvbnN0IGRheXMgPSBOdW1iZXIobGluZS5kdXJhdGlvbl9kYXlzID8/IDApO1xuICAgIGlmICghaXNGaW5pdGUocGVyRG9zZSkgfHwgIWlzRmluaXRlKHBlckRheSkgfHwgIWlzRmluaXRlKGRheXMpKSByZXR1cm4gbnVsbDtcbiAgICBpZiAocGVyRG9zZSA8PSAwIHx8IHBlckRheSA8PSAwIHx8IGRheXMgPD0gMCkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgucm91bmQocGVyRG9zZSAqIHBlckRheSAqIGRheXMpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVZhbGlkRGF5c0lucHV0KG5leHQ6IG51bWJlcikge1xuICAgIGNvbnN0IG51bSA9IE51bWJlcihuZXh0KTtcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShudW0pIHx8IG51bSA8PSAwKSB7XG4gICAgICBzZXRWYWxpZERheXMoMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFZhbGlkRGF5cyhNYXRoLm1pbigzNjUsIE1hdGgucm91bmQobnVtKSkpO1xuICAgIH1cbiAgICBzZXRTaWduZWRWYWxpZFVudGlsKG51bGwpO1xuICAgIHNldElzRGlydHkodHJ1ZSk7XG4gIH1cblxuICAvLyBDcmVhdGUgYSBkcmFmdCByZXZpc2lvbiBmcm9tIHRoZSBhY3RpdmUgc2lnbmVkIFJ4LCBzd2l0Y2ggVUkgdG8gaXQsIGFuZCByZXR1cm4gaXRzIGlkXG4gIGFzeW5jIGZ1bmN0aW9uIHN0YXJ0UmV2aXNpb24oKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XG4gICAgaWYgKHJldmlzZUJ1c3kpIHJldHVybiBudWxsO1xuICAgIGlmICghY29uc3VsdGF0aW9uSWQpIHJldHVybiBudWxsOyAvLyDinIUgc2F0aXNmaWVzIFRTIGZvciBlbmNvZGVVUklDb21wb25lbnQgYmVsb3dcbiAgICBzZXRSZXZpc2VCdXN5KHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcIi9hcGkvcHJlc2NyaXB0aW9ucy9yZXZpc2VcIiwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgY29uc3VsdGF0aW9uSWQgfSksXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGogPSBhd2FpdCByZXMuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgaWYgKCFyZXMub2sgfHwgIWo/LmlkKSB7XG4gICAgICAgIHNldEVycm9yKGo/LmVycm9yIHx8IFwiRmFpbGVkIHRvIGNyZWF0ZSBhIHJldmlzaW9uLlwiKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIOKchSBOZXcgZHJhZnQgY3JlYXRlZFxuICAgICAgc2V0TG9ja2VkU2lnbmVkKGZhbHNlKTsgLy8gdW5sb2NrIGVkaXRpbmdcbiAgICAgIHNldFJ4SWQoai5pZCk7XG5cbiAgICAgIC8vIOKchSBIeWRyYXRlIGltbWVkaWF0ZWx5IGlmIHRoZSBzZXJ2ZXIgaW5jbHVkZWQgaXRlbXMgYW5kIG5vdGVzXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShqLml0ZW1zKSkge1xuICAgICAgICBzZXRJdGVtcyhqLml0ZW1zKTtcbiAgICAgICAgc2V0Tm90ZXNGb3JQYXRpZW50KGoubm90ZXNfZm9yX3BhdGllbnQgPz8gXCJcIik7XG4gICAgICAgIHNldFZhbGlkRGF5cyhqLnZhbGlkX2RheXMgPz8gREVGQVVMVF9SWF9WQUxJRF9EQVlTKTtcbiAgICAgICAgc2V0U2lnbmVkVmFsaWRVbnRpbChudWxsKTtcbiAgICAgICAgc2V0SXNEaXJ0eShmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBPdGhlcndpc2UsIGZhbGwgYmFjayB0byBmZXRjaGluZyB0aGUgZHJhZnQgZW5kcG9pbnRcbiAgICAgICAgY29uc3QgZHIgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBgL2FwaS9wcmVzY3JpcHRpb25zL2RyYWZ0P2NvbnN1bHRhdGlvbl9pZD0ke2VuY29kZVVSSUNvbXBvbmVudChjb25zdWx0YXRpb25JZCl9YFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBkaiA9IGF3YWl0IGRyLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKGRyLm9rICYmIGRqPy5pZCkge1xuICAgICAgICAgIHNldEl0ZW1zKEFycmF5LmlzQXJyYXkoZGouaXRlbXMpID8gZGouaXRlbXMgOiBbXSk7XG4gICAgICAgICAgc2V0Tm90ZXNGb3JQYXRpZW50KGRqLm5vdGVzX2Zvcl9wYXRpZW50ID8/IFwiXCIpO1xuICAgICAgICAgIHNldFZhbGlkRGF5cyhkai52YWxpZF9kYXlzID8/IERFRkFVTFRfUlhfVkFMSURfREFZUyk7XG4gICAgICAgICAgc2V0U2lnbmVkVmFsaWRVbnRpbChudWxsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhd2FpdCBsb2FkQ3VycmVudERyYWZ0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gdGlueSBVWCBwaW5nXG4gICAgICBzZXRTYXZpbmcoXCJzYXZlZFwiKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0U2F2aW5nKFwiaWRsZVwiKSwgMTAwMCk7XG5cbiAgICAgIHJldHVybiBqLmlkOyAvLyDinIUgcmV0dXJuIHRoZSBuZXcgZHJhZnQgaWRcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0UmV2aXNlQnVzeShmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gU2F2ZSAvIGRlbGV0ZSAvIHNpZ25cbiAgYXN5bmMgZnVuY3Rpb24gc2F2ZURyYWZ0KG9wdHM/OiB7IHNpbGVudD86IGJvb2xlYW4gfSkge1xuICAgIGNvbnN0IHNpbGVudCA9IG9wdHM/LnNpbGVudCA/PyBmYWxzZTtcblxuICAgIC8vIPCflJIgSWYgd2UncmUgb24gYSBzaWduZWQgUngsIGFzayBmaXJzdFxuICAgIGlmIChsb2NrZWRTaWduZWQpIHtcbiAgICAgIGNvbnN0IHByb2NlZWQgPSB3aW5kb3cuY29uZmlybShcbiAgICAgICAgXCJBIHNpZ25lZCBwcmVzY3JpcHRpb24gYWxyZWFkeSBleGlzdHMgZm9yIHRvZGF5LiBDcmVhdGUgYSByZXZpc2lvbj9cIlxuICAgICAgKTtcbiAgICAgIGlmICghcHJvY2VlZCkgcmV0dXJuO1xuXG4gICAgICAvLyDinIUgQ3JlYXRlIHJldmlzaW9uIGFuZCBzd2l0Y2ggdG8gbmV3IGRyYWZ0XG4gICAgICBjb25zdCBuZXdJZCA9IGF3YWl0IHN0YXJ0UmV2aXNpb24oKTsgICAgIC8vIOKGkCB1c2VzIHRoZSBpbXByb3ZlZCBmdW5jdGlvblxuICAgICAgaWYgKCFuZXdJZCkgcmV0dXJuO1xuXG4gICAgICAvLyDwn5GHIHRoZW4gcmVhdHRlbXB0IHNhdmUgc2lsZW50bHkgb24gdGhlIG5ldyBkcmFmdFxuICAgICAgYXdhaXQgc2F2ZURyYWZ0KHsgc2lsZW50OiB0cnVlIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIPCfmoAgUHJvY2VlZCB3aXRoIG5vcm1hbCBkcmFmdCBzYXZpbmdcbiAgICBpZiAoIWNvbnN1bHRhdGlvbklkIHx8ICFwYXRpZW50SWQpIHJldHVybjtcblxuICAgIHNldEVycm9yKG51bGwpO1xuICAgIHNldFNhdmluZyhcInNhdmluZ1wiKTtcblxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiL2FwaS9wcmVzY3JpcHRpb25zL3Vwc2VydFwiLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBjb25zdWx0YXRpb25JZCxcbiAgICAgICAgcGF0aWVudElkLFxuICAgICAgICBub3Rlc0ZvclBhdGllbnQsXG4gICAgICAgIHZhbGlkRGF5cyxcbiAgICAgICAgaXRlbXMsIC8vIGluY2x1ZGVzIGJyYW5kX25hbWUgZXRjLlxuICAgICAgfSksXG4gICAgfSk7XG5cbiAgICBjb25zdCBqID0gYXdhaXQgcmVzLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcblxuICAgIGlmICghcmVzLm9rKSB7XG4gICAgICBzZXRTYXZpbmcoXCJpZGxlXCIpO1xuICAgICAgaWYgKCFzaWxlbnQpIGFsZXJ0KGo/LmVycm9yIHx8IFwiRmFpbGVkIHRvIHNhdmUgZHJhZnRcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0UnhJZChqLmlkIHx8IG51bGwpO1xuICAgIHNldFNhdmluZyhzaWxlbnQgPyBcImlkbGVcIiA6IFwic2F2ZWRcIik7XG4gICAgaWYgKCFzaWxlbnQpIHNldFRpbWVvdXQoKCkgPT4gc2V0U2F2aW5nKFwiaWRsZVwiKSwgMTIwMCk7XG4gICAgc2V0SXNEaXJ0eShmYWxzZSk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBkZWxldGVEcmFmdCgpIHtcbiAgICBpZiAoIWNvbnN1bHRhdGlvbklkKSByZXR1cm47XG4gICAgaWYgKCFjb25maXJtKFwiRGVsZXRlIHRoaXMgZHJhZnQ/XCIpKSByZXR1cm47XG5cbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcIi9hcGkvcHJlc2NyaXB0aW9ucy9kcmFmdFwiLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGNvbnN1bHRhdGlvbklkIH0pLFxuICAgIH0pO1xuXG4gICAgaWYgKCFyZXMub2spIHtcbiAgICAgIGNvbnN0IGogPSBhd2FpdCByZXMuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgc2V0RXJyb3Ioaj8uZXJyb3IgfHwgXCJGYWlsZWQgdG8gZGVsZXRlIGRyYWZ0LlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBSZXNldCBhbmQgcmVmbGVjdCB0aGUgbG9jayBzdGF0ZSAoaWYgYSBzaWduZWQgUnggZXhpc3RzLCBiYW5uZXIgd2lsbCByZXR1cm4pXG4gICAgc2V0SXRlbXMoW10pO1xuICAgIHNldE5vdGVzRm9yUGF0aWVudChcIlwiKTtcbiAgICBzZXRSeElkKG51bGwpO1xuICAgIHNldFZhbGlkRGF5cyhERUZBVUxUX1JYX1ZBTElEX0RBWVMpO1xuICAgIHNldFNpZ25lZFZhbGlkVW50aWwobnVsbCk7XG4gICAgYXdhaXQgbG9hZEN1cnJlbnREcmFmdCgpO1xuICAgIHNldElzRGlydHkoZmFsc2UpO1xuICB9XG5cblxuICBhc3luYyBmdW5jdGlvbiBzaWduUngoKSB7XG4gICAgaWYgKHNpZ25pbmcpIHJldHVybjsgLy8gcHJldmVudCBkb3VibGUtY2xpY2tzXG4gICAgc2V0U2lnbmluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBJZiBwYW5lbCBjdXJyZW50bHkgc2hvd3MgYSBzaWduZWQgUngsIHN0YXJ0IGEgcmV2aXNpb24gZmlyc3RcbiAgICAgIGlmIChsb2NrZWRTaWduZWQpIHtcbiAgICAgICAgY29uc3QgbmV3SWQgPSBhd2FpdCBzdGFydFJldmlzaW9uKCk7XG4gICAgICAgIGlmICghbmV3SWQpIHtcbiAgICAgICAgICBzZXRFcnJvcihcIlVuYWJsZSB0byBzdGFydCBhIHJldmlzaW9uIGZvciBzaWduaW5nLlwiKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0UnhJZChuZXdJZCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEVuc3VyZSB3ZSBoYXZlIGEgZHJhZnQgdG8gc2lnblxuICAgICAgaWYgKCFyeElkKSB7XG4gICAgICAgIGF3YWl0IHNhdmVEcmFmdCh7IHNpbGVudDogdHJ1ZSB9KTtcbiAgICAgIH1cbiAgICAgIGlmICghcnhJZCkge1xuICAgICAgICBzZXRFcnJvcihcIlVuYWJsZSB0byBwcmVwYXJlIHRoZSBwcmVzY3JpcHRpb24gZm9yIHNpZ25pbmcuXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIENhbGwgdGhlIHNpZ24gQVBJXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcIi9hcGkvcHJlc2NyaXB0aW9ucy9zaWduXCIsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHByZXNjcmlwdGlvbklkOiByeElkLCB2YWxpZERheXMgfSksXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGogPSBhd2FpdCByZXMuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuXG4gICAgICBpZiAoIXJlcy5vayB8fCBqPy5lcnJvcikge1xuICAgICAgICBzZXRFcnJvcihqPy5lcnJvciB8fCBgSFRUUCAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8g4pyFIFNVQ0NFU1M6IE9wZW4gdGhlIGNvbnNlbnQgbW9kYWwgKHBhcmVudCBjb250cm9scyBpdClcbiAgICAgIG9uU2lnbmVkPy4oKTtcblxuICAgICAgLy8gTG9jayB0aGUgcGFuZWwgdW5kZXJuZWF0aCAobm8gcGFnZSByZWxvYWQgaGVyZSlcbiAgICAgIHNldExvY2tlZFNpZ25lZCh0cnVlKTtcbiAgICAgIHNldFNhdmluZyhcInNhdmVkXCIpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRTYXZpbmcoXCJpZGxlXCIpLCAxMjAwKTtcblxuICAgICAgLy8gQ2xlYXIgZHJhZnQgY29udGV4dCBhbmQgcmUtaHlkcmF0ZSB2aWV3XG4gICAgICBzZXRSeElkKG51bGwpO1xuICAgICAgYXdhaXQgbG9hZEN1cnJlbnREcmFmdCgpO1xuXG4gICAgICAvLyBMZXQgb3RoZXIgd2lkZ2V0cyAobGlrZSBQYXN0Q29uc3VsdGF0aW9ucykgcmVmcmVzaCB0aGVtc2VsdmVzXG4gICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgbmV3IEN1c3RvbUV2ZW50KFwicng6c2lnbmVkXCIsIHsgZGV0YWlsOiB7IGNvbnN1bHRhdGlvbklkIH0gfSlcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICBzZXRFcnJvcihlPy5tZXNzYWdlIHx8IFwiRmFpbGVkIHRvIHNpZ24gcHJlc2NyaXB0aW9uXCIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRTaWduaW5nKGZhbHNlKTtcbiAgICB9XG4gIH1cblxuXG5cbiAgcmV0dXJuIChcbiAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICB7ZXJyb3IgJiYgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcmVkLTYwMFwiPntlcnJvcn08L2Rpdj59XG5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC1hdXRvIHRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICB7c2F2aW5nID09PSBcInNhdmluZ1wiID8gXCJTYXZpbmfigKZcIiA6IHNhdmluZyA9PT0gXCJzYXZlZFwiID8gXCJTYXZlZFwiIDogbnVsbH1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2Rpdj5cblxuICAgIHsvKiBCYW5uZXIgd2hlbiB2aWV3aW5nIGEgc2lnbmVkIFJ4IChubyBkcmFmdCB5ZXQpICovfVxuICAgIHtsb2NrZWRTaWduZWQgJiYgKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0zIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1yZWQtMjAwIGJnLXJlZC01MCBwLTMgdGV4dC1zbSB0ZXh0LXJlZC03MDBcIj5cbiAgICAgICAgUHJlc2NyaXB0aW9uIGFscmVhZHkgPGI+c2lnbmVkPC9iPiBmb3IgdGhpcyBjb25zdWx0YXRpb24uIFRvIG1ha2UgY2hhbmdlcyxcbiAgICAgICAgY3JlYXRlIGEgPGI+UmV2aXNpb248L2I+LlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgb25DbGljaz17c3RhcnRSZXZpc2lvbn1cbiAgICAgICAgICBkaXNhYmxlZD17cmV2aXNlQnVzeX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJtbC0zIGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciByb3VuZGVkIGJvcmRlciBib3JkZXItcmVkLTMwMCBiZy13aGl0ZSBweC0yLjUgcHktMSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtcmVkLTcwMCBob3ZlcjpiZy1yZWQtMTAwIGRpc2FibGVkOm9wYWNpdHktNTBcIlxuICAgICAgICA+XG4gICAgICAgICAgQ3JlYXRlIFJldmlzaW9uXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKX1cblxuICAgIHsvKiBFdmVyeXRoaW5nIGJlbG93IGJlY29tZXMgcmVhZC1vbmx5IHdoZW4gbG9ja2VkU2lnbmVkID0gdHJ1ZSAqL31cbiAgICA8ZmllbGRzZXRcbiAgICAgIGRpc2FibGVkPXtsb2NrZWRTaWduZWR9XG4gICAgICBjbGFzc05hbWU9e2xvY2tlZFNpZ25lZCA/IFwib3BhY2l0eS02MCBwb2ludGVyLWV2ZW50cy1ub25lXCIgOiBcIlwifVxuICAgID5cbiAgICAgIHsvKiBTZWFyY2ggKyByZXN1bHRzICovfVxuICAgICAgPGRpdj5cbiAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gbWItMVwiPlxuICAgICAgICAgIEFkZCBtZWRpY2luZSBmcm9tIHBoYXJtYWN5IGxpc3QuIElmIHByZWZlcnJlZCBtZWRpY2F0aW9uIGlzIG5vdCBhdmFpbGFibGU6XG4gICAgICAgICAgaW5wdXQgW0dlbmVyaWMgTmFtZSwgc3RyZW5ndGgsIGZvcm1dIOKGkiAmbGRxdW87QWRkIEN1c3RvbSZyZHF1bztcbiAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgYm9yZGVyIHJvdW5kZWQtbGcgcHgtMyBweS0yXCJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VhcmNoIG1lZHPigKYgKGdlbmVyaWMsIHN0cmVuZ3RoLCBmb3JtKVwiXG4gICAgICAgICAgICB2YWx1ZT17c2VhcmNofVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWFyY2goZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTIgYm9yZGVyIHJvdW5kZWQgdGV4dC1zbVwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBhZGRGcmVlTWVkKCl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgQWRkIEN1c3RvbVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgeyEhcmVzdWx0cy5sZW5ndGggJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyIHJvdW5kZWQtbGcgbXQtMiBtYXgtaC00OCBvdmVyZmxvdy1hdXRvXCI+XG4gICAgICAgICAgICB7cmVzdWx0cy5tYXAoKG0pID0+IChcbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIGtleT17bS5pZH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHB4LTMgcHktMiBob3ZlcjpiZy1ncmF5LTUwIGJvcmRlci1iIGxhc3Q6Ym9yZGVyLTBcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGFkZE1lZChtKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgPGI+e20uZ2VuZXJpY19uYW1lfTwvYj4g4oCUIHttLnN0cmVuZ3RofSB7bS5mb3JtfVxuICAgICAgICAgICAgICAgICAge20ucHJpY2UgIT0gbnVsbCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDBcIj4gwrcg4oKxe20ucHJpY2V9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogTGluZXMgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNVwiPlxuICAgICAgICB7aXRlbXMubWFwKChsbiwgaSkgPT4gKFxuICAgICAgICAgIDxkaXYga2V5PXtpfSBjbGFzc05hbWU9XCJib3JkZXIgcm91bmRlZC14bCBwLTNcIj5cbiAgICAgICAgICAgIHsvKiBIZWFkZXIgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICAgIHtsbi5nZW5lcmljX25hbWV9IOKAlCB7bG4uc3RyZW5ndGh9IHtsbi5mb3JtfVxuICAgICAgICAgICAgICAgIHtsbi5icmFuZF9uYW1lICYmIChcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDBcIj4gKHtsbi5icmFuZF9uYW1lfSk8L3NwYW4+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7bG4udW5pdF9wcmljZSAhPSBudWxsICYmIChcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDBcIj4gwrcgVW5pdCDigrF7bG4udW5pdF9wcmljZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtbC1hdXRvIHRleHQteHMgdGV4dC1yZWQtNjAwIHVuZGVybGluZVwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcmVtb3ZlTGluZShpKX1cbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFJlbW92ZVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogRmllbGRzICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIHNtOmdyaWQtY29scy0zIGdhcC0zIG10LTMgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXhzIHRleHQtZ3JheS02MDAgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgQnJhbmQgKG9wdGlvbmFsKVxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9yZGVyIHJvdW5kZWQgcHgtMiBweS0xXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtsbi5icmFuZF9uYW1lIHx8IFwiXCJ9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHVwZGF0ZUxpbmUoaSwgeyBicmFuZF9uYW1lOiBlLnRhcmdldC52YWx1ZSB9KX1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiZS5nLiwgTm9ydmFzY1wiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC14cyB0ZXh0LWdyYXktNjAwIG1iLTFcIj5Sb3V0ZTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJvcmRlciByb3VuZGVkIHB4LTIgcHktMVwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17bG4ucm91dGUgfHwgXCJQT1wifVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB1cGRhdGVMaW5lKGksIHsgcm91dGU6IGUudGFyZ2V0LnZhbHVlIH0pfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtST1VURVMubWFwKChyKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtyfSB2YWx1ZT17cn0+XG4gICAgICAgICAgICAgICAgICAgICAge3J9XG4gICAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQteHMgdGV4dC1ncmF5LTYwMCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICBEb3NlIGFtb3VudFxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9yZGVyIHJvdW5kZWQgcHgtMiBweS0xXCJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgc3RlcD1cIjAuNVwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17bG4uZG9zZV9hbW91bnQgPz8gMX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlTGluZShpLCB7IGRvc2VfYW1vdW50OiBOdW1iZXIoZS50YXJnZXQudmFsdWUpIH0pXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC14cyB0ZXh0LWdyYXktNjAwIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgIERvc2UgdW5pdFxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJvcmRlciByb3VuZGVkIHB4LTIgcHktMVwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17bG4uZG9zZV91bml0IHx8IFwidGFiXCJ9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHVwZGF0ZUxpbmUoaSwgeyBkb3NlX3VuaXQ6IGUudGFyZ2V0LnZhbHVlIH0pfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtVTklUUy5tYXAoKHUpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e3V9IHZhbHVlPXt1fT5cbiAgICAgICAgICAgICAgICAgICAgICB7dX1cbiAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC14cyB0ZXh0LWdyYXktNjAwIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgIEZyZXF1ZW5jeVxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJvcmRlciByb3VuZGVkIHB4LTIgcHktMVwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17bG4uZnJlcXVlbmN5X2NvZGUgfHwgXCJCSURcIn1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlTGluZShpLCB7IGZyZXF1ZW5jeV9jb2RlOiBlLnRhcmdldC52YWx1ZSB9KVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtGUkVRUy5tYXAoKGYpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e2Z9IHZhbHVlPXtmfT5cbiAgICAgICAgICAgICAgICAgICAgICB7Zn1cbiAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGdhcC0xIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgIHtbXCJPRFwiLCBcIkJJRFwiLCBcIlRJRFwiLCBcIlFJRFwiLCBcIkhTXCIsIFwiUFJOXCJdLm1hcCgoY29kZSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAga2V5PXtjb2RlfVxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtWzExcHhdIHB4LTIgcHktMSByb3VuZGVkIGJvcmRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdXBkYXRlTGluZShpLCB7IGZyZXF1ZW5jeV9jb2RlOiBjb2RlIH0pfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge2NvZGV9XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQteHMgdGV4dC1ncmF5LTYwMCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICBEdXJhdGlvbiAoZGF5cylcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJvcmRlciByb3VuZGVkIHB4LTIgcHktMVwiXG4gICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgIG1pbj17MX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtsbi5kdXJhdGlvbl9kYXlzID8/IDd9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUxpbmUoaSwgeyBkdXJhdGlvbl9kYXlzOiBOdW1iZXIoZS50YXJnZXQudmFsdWUpIH0pXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGdhcC0xIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgIHtbMywgNSwgNywgMTQsIDMwXS5tYXAoKGQpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIGtleT17ZH1cbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LVsxMXB4XSBweC0yIHB5LTEgcm91bmRlZCBib3JkZXJcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHVwZGF0ZUxpbmUoaSwgeyBkdXJhdGlvbl9kYXlzOiBkIH0pfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge2R9ZFxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXhzIHRleHQtZ3JheS02MDAgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgUXVhbnRpdHlcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJib3JkZXIgcm91bmRlZCBweC0yIHB5LTEgdy0yOFwiXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgICBtaW49ezF9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtsbi5xdWFudGl0eSA/PyAxNH1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUxpbmUoaSwgeyBxdWFudGl0eTogTnVtYmVyKGUudGFyZ2V0LnZhbHVlKSB9KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXhzIHVuZGVybGluZSB0ZXh0LWdyYXktNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBxID0gY2FsY1N1Z2dlc3RlZFF0eShsbik7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHEgIT0gbnVsbCkgdXBkYXRlTGluZShpLCB7IHF1YW50aXR5OiBxIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBDYWxjXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAge2xuLnVuaXRfcHJpY2UgIT0gbnVsbCAmJiBsbi5xdWFudGl0eSAhPSBudWxsICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXJpZ2h0IHRleHQtc20gbXQtMlwiPlxuICAgICAgICAgICAgICAgIExpbmUgdG90YWw6IOKCsXsobG4udW5pdF9wcmljZSAqIGxuLnF1YW50aXR5KS50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkpfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBTaGFyZWQgaW5zdHJ1Y3Rpb25zICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00XCI+XG4gICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIG1iLTFcIj5TaGFyZWQgaW5zdHJ1Y3Rpb25zIGZvciBwYXRpZW50PC9sYWJlbD5cbiAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJvcmRlciByb3VuZGVkIHAtMiB0ZXh0LXNtXCJcbiAgICAgICAgICB2YWx1ZT17bm90ZXNGb3JQYXRpZW50fVxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgc2V0Tm90ZXNGb3JQYXRpZW50KGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgIHNldElzRGlydHkodHJ1ZSk7XG4gICAgICAgICAgfX1cbiAgICAgICAgICBwbGFjZWhvbGRlcj1cIkRpZXQsIGxpZmVzdHlsZSwgZm9sbG93LXVwLCBzcGVjaWFsIGluc3RydWN0aW9uc+KAplwiXG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIFZhbGlkaXR5ICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00XCI+XG4gICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIG1iLTFcIj5QcmVzY3JpcHRpb24gdmFsaWRpdHkgKGRheXMpPC9sYWJlbD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMjggYm9yZGVyIHJvdW5kZWQgcHgtMiBweS0xXCJcbiAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgbWluPXsxfVxuICAgICAgICAgICAgbWF4PXszNjV9XG4gICAgICAgICAgICB2YWx1ZT17dmFsaWREYXlzfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB1cGRhdGVWYWxpZERheXNJbnB1dChOdW1iZXIoZS50YXJnZXQudmFsdWUpKX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICB7bG9ja2VkU2lnbmVkICYmIHNpZ25lZFZhbGlkVW50aWxcbiAgICAgICAgICAgICAgPyBgU2lnbmVkIFJ4IHZhbGlkIHVudGlsICR7dmFsaWRpdHlQcmV2aWV3TGFiZWwgPz8gXCLigJRcIn0uYFxuICAgICAgICAgICAgICA6IHZhbGlkaXR5UHJldmlld0xhYmVsXG4gICAgICAgICAgICAgID8gYFdpbGwgYmUgdmFsaWQgdW50aWwgJHt2YWxpZGl0eVByZXZpZXdMYWJlbH0uYFxuICAgICAgICAgICAgICA6IFwiRW50ZXIgbnVtYmVyIG9mIGRheXMgdG8gYXV0by1jb21wdXRlIGV4cGlyeS5cIn1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTEgbXQtMSB0ZXh0LXhzXCI+XG4gICAgICAgICAge1s3LCAxNCwgMzAsIDYwLCA5MF0ubWFwKChkKSA9PiAoXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGtleT17ZH1cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHB4LTIgcHktMVwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHVwZGF0ZVZhbGlkRGF5c0lucHV0KGQpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7ZH1kXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIEJvdHRvbSBhY3Rpb25zICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdGlja3kgYm90dG9tLTAgYmctd2hpdGUgcHQtMiBwYi0yIGJvcmRlci10IG10LTJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgU3VidG90YWw6IOKCsXtzdWJ0b3RhbC50b0ZpeGVkKDIpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1sLWF1dG8gcm91bmRlZCBib3JkZXIgcHgtMyBweS0yXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2F2ZURyYWZ0KCl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgU2F2ZSBEcmFmdFxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHB4LTMgcHktMlwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGRlbGV0ZURyYWZ0KCl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgRGVsZXRlIERyYWZ0XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXtzaWduUnh9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLVsjNDQ5NjliXSB0ZXh0LXdoaXRlIHB4LTMgcHktMiB0ZXh0LXNtIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgICAgIGRpc2FibGVkPXshY2FuU2lnbn1cbiAgICAgICAgICAgIHRpdGxlPXtzaWduVGl0bGV9XG4gICAgICAgICAgICBhcmlhLWRpc2FibGVkPXshY2FuU2lnbn1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBTaWduIFByZXNjcmlwdGlvblxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmllbGRzZXQ+XG4gIDwvZGl2PlxuKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlU3RhdGUiLCJERUZBVUxUX1JYX1ZBTElEX0RBWVMiLCJST1VURVMiLCJVTklUUyIsIkZSRVFTIiwiRlJFUV9QRVJfREFZIiwiT0QiLCJRRCIsIlFBTSIsIlFQTSIsIkJJRCIsIlRJRCIsIlFJRCIsIkhTIiwiUFJOIiwiUnhQYW5lbCIsInBhdGllbnRJZCIsImNvbnN1bHRhdGlvbklkIiwiY2lkUHJvcCIsIm9uU2lnbmVkIiwic2V0Q29uc3VsdGF0aW9uSWQiLCJub3Rlc0ZvclBhdGllbnQiLCJzZXROb3Rlc0ZvclBhdGllbnQiLCJpdGVtcyIsInNldEl0ZW1zIiwic2VhcmNoIiwic2V0U2VhcmNoIiwicmVzdWx0cyIsInNldFJlc3VsdHMiLCJzYXZpbmciLCJzZXRTYXZpbmciLCJsb2NrZWRTaWduZWQiLCJzZXRMb2NrZWRTaWduZWQiLCJyZXZpc2VCdXN5Iiwic2V0UmV2aXNlQnVzeSIsInNpZ25pbmciLCJzZXRTaWduaW5nIiwiaXNEaXJ0eSIsInNldElzRGlydHkiLCJ2YWxpZERheXMiLCJzZXRWYWxpZERheXMiLCJzaWduZWRWYWxpZFVudGlsIiwic2V0U2lnbmVkVmFsaWRVbnRpbCIsInJ4SWQiLCJzZXRSeElkIiwiZXJyb3IiLCJzZXRFcnJvciIsImNhblNpZ24iLCJCb29sZWFuIiwic2lnblRpdGxlIiwidmFsaWRpdHlQcmV2aWV3RGF0ZSIsImR0IiwiRGF0ZSIsIk51bWJlciIsImlzTmFOIiwiZGF5cyIsImlzRmluaXRlIiwic2V0SG91cnMiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsIk1hdGgiLCJyb3VuZCIsInZhbGlkaXR5UHJldmlld0xhYmVsIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwieWVhciIsIm1vbnRoIiwiZGF5IiwibG9hZEN1cnJlbnREcmFmdCIsImRqIiwicmVzIiwiZmV0Y2giLCJlbmNvZGVVUklDb21wb25lbnQiLCJqIiwianNvbiIsImNhdGNoIiwib2siLCJpZCIsIkFycmF5IiwiaXNBcnJheSIsIm5vdGVzX2Zvcl9wYXRpZW50IiwidmFsaWRfZGF5cyIsImRyZXMiLCJyeCIsImRldGFpbHMiLCJwcmVzY3JpcHRpb24iLCJzdGF0dXMiLCJ2YWxpZF91bnRpbCIsInQiLCJzZXRUaW1lb3V0IiwidHJpbSIsImNsZWFyVGltZW91dCIsImFkZE1lZCIsIm0iLCJleGlzdHMiLCJzb21lIiwiaXQiLCJnZW5lcmljX25hbWUiLCJ0b0xvd2VyQ2FzZSIsInN0cmVuZ3RoIiwiZm9ybSIsImFsZXJ0IiwicHJldiIsIm1lZF9pZCIsImJyYW5kX25hbWUiLCJyb3V0ZSIsImRvc2VfYW1vdW50IiwiZG9zZV91bml0IiwiZnJlcXVlbmN5X2NvZGUiLCJkdXJhdGlvbl9kYXlzIiwicXVhbnRpdHkiLCJpbnN0cnVjdGlvbnMiLCJ1bml0X3ByaWNlIiwicHJpY2UiLCJhZGRGcmVlTWVkIiwicGFydHMiLCJzcGxpdCIsImdlbmVyaWMiLCJ1cGRhdGVMaW5lIiwiaSIsInBhdGNoIiwibWFwIiwibG4iLCJpZHgiLCJyZW1vdmVMaW5lIiwiZmlsdGVyIiwiXyIsInN1YnRvdGFsIiwicmVkdWNlIiwic3VtIiwiY2FsY1N1Z2dlc3RlZFF0eSIsImxpbmUiLCJwZXJEb3NlIiwicGVyRGF5IiwiU3RyaW5nIiwidG9VcHBlckNhc2UiLCJtYXgiLCJ1cGRhdGVWYWxpZERheXNJbnB1dCIsIm5leHQiLCJudW0iLCJtaW4iLCJzdGFydFJldmlzaW9uIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZHIiLCJzYXZlRHJhZnQiLCJvcHRzIiwic2lsZW50IiwicHJvY2VlZCIsIndpbmRvdyIsImNvbmZpcm0iLCJuZXdJZCIsImRlbGV0ZURyYWZ0Iiwic2lnblJ4IiwicHJlc2NyaXB0aW9uSWQiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJlIiwibWVzc2FnZSIsImRpdiIsImNsYXNzTmFtZSIsInNwYW4iLCJiIiwiYnV0dG9uIiwidHlwZSIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsImZpZWxkc2V0IiwibGFiZWwiLCJpbnB1dCIsInBsYWNlaG9sZGVyIiwidmFsdWUiLCJvbkNoYW5nZSIsInRhcmdldCIsImxlbmd0aCIsInNlbGVjdCIsInIiLCJvcHRpb24iLCJzdGVwIiwidSIsImYiLCJjb2RlIiwiZCIsInEiLCJ0b0ZpeGVkIiwidGV4dGFyZWEiLCJ0aXRsZSIsImFyaWEtZGlzYWJsZWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/RxPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/StartConsultBar.tsx":
/*!*********************************************************************!*\
  !*** ./app/(doctor)/doctor/patient/[patientId]/StartConsultBar.tsx ***!
  \*********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ StartConsultBar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n// StartConsultBar.tsx\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nfunction StartConsultBar(param) {\n    let { patientId, onStarted } = param;\n    _s();\n    const [busy, setBusy] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [err, setErr] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    async function start() {\n        try {\n            var _json_consultation;\n            setBusy(true);\n            setErr(null);\n            const res = await fetch(\"/api/consultations/upsert-today\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    patientId\n                })\n            });\n            const json = await res.json();\n            if (!res.ok || !(json === null || json === void 0 ? void 0 : (_json_consultation = json.consultation) === null || _json_consultation === void 0 ? void 0 : _json_consultation.id)) {\n                throw new Error((json === null || json === void 0 ? void 0 : json.error) || \"Failed to start consultation.\");\n            }\n            const id = String(json.consultation.id);\n            onStarted(id);\n            // Keep the consultation id in the URL so other panels (e.g., Diagnoses)\n            // can unlock immediately.\n            const url = new URL(window.location.href);\n            url.searchParams.set(\"c\", id);\n            window.history.replaceState({}, \"\", url.toString());\n        } catch (e) {\n            setErr((e === null || e === void 0 ? void 0 : e.message) || \"Failed to start consultation.\");\n        } finally{\n            setBusy(false);\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"border rounded-xl p-4 bg-white\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center gap-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-sm\",\n                        children: \"Click to create (or reuse) a consultation. This enables notes and prescription.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/StartConsultBar.tsx\",\n                        lineNumber: 50,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        onClick: start,\n                        disabled: busy,\n                        className: \"ml-auto rounded bg-[#44969b] text-white px-3 py-2 text-sm\",\n                        children: busy ? \"Starting\" : \"Start consultation\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/StartConsultBar.tsx\",\n                        lineNumber: 53,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/StartConsultBar.tsx\",\n                lineNumber: 49,\n                columnNumber: 7\n            }, this),\n            err && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-2 text-sm text-red-600\",\n                children: err\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/StartConsultBar.tsx\",\n                lineNumber: 62,\n                columnNumber: 15\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/app/(doctor)/doctor/patient/[patientId]/StartConsultBar.tsx\",\n        lineNumber: 48,\n        columnNumber: 5\n    }, this);\n}\n_s(StartConsultBar, \"kzZKTbJWTYuF48bLU+IDBrMtcGA=\");\n_c = StartConsultBar;\nvar _c;\n$RefreshReg$(_c, \"StartConsultBar\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8oZG9jdG9yKS9kb2N0b3IvcGF0aWVudC9bcGF0aWVudElkXS9TdGFydENvbnN1bHRCYXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxzQkFBc0I7OztBQUdXO0FBRWxCLFNBQVNDLGdCQUFnQixLQU12QztRQU51QyxFQUN0Q0MsU0FBUyxFQUNUQyxTQUFTLEVBSVYsR0FOdUM7O0lBT3RDLE1BQU0sQ0FBQ0MsTUFBTUMsUUFBUSxHQUFHTCwrQ0FBUUEsQ0FBQztJQUNqQyxNQUFNLENBQUNNLEtBQUtDLE9BQU8sR0FBR1AsK0NBQVFBLENBQWdCO0lBRTlDLGVBQWVRO1FBQ2IsSUFBSTtnQkFXY0M7WUFWaEJKLFFBQVE7WUFDUkUsT0FBTztZQUVQLE1BQU1HLE1BQU0sTUFBTUMsTUFBTSxtQ0FBbUM7Z0JBQ3pEQyxRQUFRO2dCQUNSQyxTQUFTO29CQUFFLGdCQUFnQjtnQkFBbUI7Z0JBQzlDQyxNQUFNQyxLQUFLQyxTQUFTLENBQUM7b0JBQUVkO2dCQUFVO1lBQ25DO1lBQ0EsTUFBTU8sT0FBTyxNQUFNQyxJQUFJRCxJQUFJO1lBRTNCLElBQUksQ0FBQ0MsSUFBSU8sRUFBRSxJQUFJLEVBQUNSLGlCQUFBQSw0QkFBQUEscUJBQUFBLEtBQU1TLFlBQVksY0FBbEJULHlDQUFBQSxtQkFBb0JVLEVBQUUsR0FBRTtnQkFDdEMsTUFBTSxJQUFJQyxNQUFNWCxDQUFBQSxpQkFBQUEsMkJBQUFBLEtBQU1ZLEtBQUssS0FBSTtZQUNqQztZQUVBLE1BQU1GLEtBQUtHLE9BQU9iLEtBQUtTLFlBQVksQ0FBQ0MsRUFBRTtZQUN0Q2hCLFVBQVVnQjtZQUVWLHdFQUF3RTtZQUN4RSwwQkFBMEI7WUFDMUIsTUFBTUksTUFBTSxJQUFJQyxJQUFJQyxPQUFPQyxRQUFRLENBQUNDLElBQUk7WUFDeENKLElBQUlLLFlBQVksQ0FBQ0MsR0FBRyxDQUFDLEtBQUtWO1lBQzFCTSxPQUFPSyxPQUFPLENBQUNDLFlBQVksQ0FBQyxDQUFDLEdBQUcsSUFBSVIsSUFBSVMsUUFBUTtRQUNsRCxFQUFFLE9BQU9DLEdBQVE7WUFDZjFCLE9BQU8wQixDQUFBQSxjQUFBQSx3QkFBQUEsRUFBR0MsT0FBTyxLQUFJO1FBQ3ZCLFNBQVU7WUFDUjdCLFFBQVE7UUFDVjtJQUNGO0lBRUEscUJBQ0UsOERBQUM4QjtRQUFJQyxXQUFVOzswQkFDYiw4REFBQ0Q7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDRDt3QkFBSUMsV0FBVTtrQ0FBVTs7Ozs7O2tDQUd6Qiw4REFBQ0M7d0JBQ0NDLE1BQUs7d0JBQ0xDLFNBQVMvQjt3QkFDVGdDLFVBQVVwQzt3QkFDVmdDLFdBQVU7a0NBRVRoQyxPQUFPLGNBQWM7Ozs7Ozs7Ozs7OztZQUd6QkUscUJBQU8sOERBQUM2QjtnQkFBSUMsV0FBVTswQkFBNkI5Qjs7Ozs7Ozs7Ozs7O0FBRzFEO0dBM0R3Qkw7S0FBQUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb2Nob2xvL1Byb2plY3RzL3dlbGxzZXJ2LXBvcnRhbC9hcHBzL3dlYi9hcHAvKGRvY3RvcikvZG9jdG9yL3BhdGllbnQvW3BhdGllbnRJZF0vU3RhcnRDb25zdWx0QmFyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTdGFydENvbnN1bHRCYXIudHN4XG5cInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU3RhcnRDb25zdWx0QmFyKHtcbiAgcGF0aWVudElkLFxuICBvblN0YXJ0ZWQsXG59OiB7XG4gIHBhdGllbnRJZDogc3RyaW5nO1xuICBvblN0YXJ0ZWQ6IChjb25zdWx0YXRpb25JZDogc3RyaW5nKSA9PiB2b2lkO1xufSkge1xuICBjb25zdCBbYnVzeSwgc2V0QnVzeV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnIsIHNldEVycl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICBhc3luYyBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICB0cnkge1xuICAgICAgc2V0QnVzeSh0cnVlKTtcbiAgICAgIHNldEVycihudWxsKTtcblxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCIvYXBpL2NvbnN1bHRhdGlvbnMvdXBzZXJ0LXRvZGF5XCIsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHBhdGllbnRJZCB9KSxcbiAgICAgIH0pO1xuICAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlcy5qc29uKCk7XG5cbiAgICAgIGlmICghcmVzLm9rIHx8ICFqc29uPy5jb25zdWx0YXRpb24/LmlkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihqc29uPy5lcnJvciB8fCBcIkZhaWxlZCB0byBzdGFydCBjb25zdWx0YXRpb24uXCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBpZCA9IFN0cmluZyhqc29uLmNvbnN1bHRhdGlvbi5pZCk7XG4gICAgICBvblN0YXJ0ZWQoaWQpO1xuXG4gICAgICAvLyBLZWVwIHRoZSBjb25zdWx0YXRpb24gaWQgaW4gdGhlIFVSTCBzbyBvdGhlciBwYW5lbHMgKGUuZy4sIERpYWdub3NlcylcbiAgICAgIC8vIGNhbiB1bmxvY2sgaW1tZWRpYXRlbHkuXG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwiY1wiLCBpZCk7XG4gICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sIFwiXCIsIHVybC50b1N0cmluZygpKTtcbiAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgIHNldEVycihlPy5tZXNzYWdlIHx8IFwiRmFpbGVkIHRvIHN0YXJ0IGNvbnN1bHRhdGlvbi5cIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldEJ1c3koZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXIgcm91bmRlZC14bCBwLTQgYmctd2hpdGVcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+XG4gICAgICAgICAgQ2xpY2sgdG8gY3JlYXRlIChvciByZXVzZSkgYSBjb25zdWx0YXRpb24uIFRoaXMgZW5hYmxlcyBub3RlcyBhbmQgcHJlc2NyaXB0aW9uLlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIG9uQ2xpY2s9e3N0YXJ0fVxuICAgICAgICAgIGRpc2FibGVkPXtidXN5fVxuICAgICAgICAgIGNsYXNzTmFtZT1cIm1sLWF1dG8gcm91bmRlZCBiZy1bIzQ0OTY5Yl0gdGV4dC13aGl0ZSBweC0zIHB5LTIgdGV4dC1zbVwiXG4gICAgICAgID5cbiAgICAgICAgICB7YnVzeSA/IFwiU3RhcnRpbmfigKZcIiA6IFwiU3RhcnQgY29uc3VsdGF0aW9uXCJ9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgICB7ZXJyICYmIDxkaXYgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXNtIHRleHQtcmVkLTYwMFwiPntlcnJ9PC9kaXY+fVxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwiU3RhcnRDb25zdWx0QmFyIiwicGF0aWVudElkIiwib25TdGFydGVkIiwiYnVzeSIsInNldEJ1c3kiLCJlcnIiLCJzZXRFcnIiLCJzdGFydCIsImpzb24iLCJyZXMiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm9rIiwiY29uc3VsdGF0aW9uIiwiaWQiLCJFcnJvciIsImVycm9yIiwiU3RyaW5nIiwidXJsIiwiVVJMIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwic2VhcmNoUGFyYW1zIiwic2V0IiwiaGlzdG9yeSIsInJlcGxhY2VTdGF0ZSIsInRvU3RyaW5nIiwiZSIsIm1lc3NhZ2UiLCJkaXYiLCJjbGFzc05hbWUiLCJidXR0b24iLCJ0eXBlIiwib25DbGljayIsImRpc2FibGVkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(doctor)/doctor/patient/[patientId]/StartConsultBar.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/ReportViewer.tsx":
/*!*************************************!*\
  !*** ./components/ReportViewer.tsx ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ReportViewer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/api/navigation.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n// ---------- helpers ----------\nfunction formatRef(ref) {\n    if (!ref) return \"\";\n    const hasLow = typeof ref.low === \"number\";\n    const hasHigh = typeof ref.high === \"number\";\n    if (hasLow && hasHigh) return \"\".concat(ref.low, \"\").concat(ref.high);\n    if (hasLow) return \" \".concat(ref.low);\n    if (hasHigh) return \" \".concat(ref.high);\n    if (ref.normal_values) return ref.normal_values;\n    return \"\";\n}\nfunction formatTestDate(d) {\n    if (!d) return \"\";\n    const dt = new Date(d);\n    if (Number.isNaN(dt.getTime())) return d; // keep whatever the sheet has\n    return dt.toLocaleDateString(undefined, {\n        year: \"numeric\",\n        month: \"long\",\n        day: \"numeric\"\n    });\n}\n// --- Patient Summary helpers ---\nconst num = (x)=>{\n    const s = String(x !== null && x !== void 0 ? x : \"\").replace(/[^\\d.-]/g, \"\").trim();\n    if (!s) return null;\n    const n = Number(s);\n    return Number.isFinite(n) ? n : null;\n};\nconst heightM = (ft, inch)=>{\n    var _num, _num1;\n    const f = (_num = num(ft)) !== null && _num !== void 0 ? _num : 0, i = (_num1 = num(inch)) !== null && _num1 !== void 0 ? _num1 : 0;\n    const totalIn = f * 12 + i;\n    return totalIn > 0 ? totalIn * 0.0254 : null;\n};\nconst bmiFromFtInKg = (ft, inch, kg)=>{\n    const m = heightM(ft, inch);\n    const w = num(kg);\n    if (!m || !w) return null;\n    return Math.round(w / (m * m) * 10) / 10;\n};\nconst bmiClass = (bmi)=>{\n    if (bmi < 18.5) return \"Underweight\";\n    if (bmi < 25) return \"Normal\";\n    if (bmi < 30) return \"Overweight\";\n    return \"Obese\";\n};\nconst fmtFtIn = (ft, inch)=>{\n    const f = num(ft), i = num(inch);\n    if (f == null && i == null) return \"\";\n    return \"\".concat(f !== null && f !== void 0 ? f : 0, \" \").concat(i !== null && i !== void 0 ? i : 0, \"\");\n};\nconst ftInFromCm = (cm)=>{\n    if (cm == null) return null;\n    const totalIn = cm / 2.54;\n    const ft = Math.floor(totalIn / 12);\n    const inch = Math.round(totalIn - ft * 12);\n    return {\n        ft,\n        inch\n    };\n};\nconst withUnit = (v, u)=>String(v !== null && v !== void 0 ? v : \"\").toString().trim() ? \"\".concat(v, \" \").concat(u) : \"\";\nconst suffixIfNumeric = (v, suffix)=>{\n    const s = String(v !== null && v !== void 0 ? v : \"\").trim();\n    if (!s) return \"\";\n    return num(s) != null ? \"\".concat(s, \" \").concat(suffix) : s; // accept free text too\n};\n// Exact keys you never want to appear in \"Prev\"\nconst EXCLUDE_EXACT_KEYS = new Set([\n    \"chem_remarks\",\n    \"hema_remarks\",\n    \"ua_remarks\",\n    \"fa_remarks\",\n    \"sero_remarks\"\n]);\n// Optional exact labels to exclude (covers lines like \"RESULTS/S\", \"Remarks\")\nconst EXCLUDE_EXACT_LABELS = new Set([\n    \"remarks\",\n    \"results\",\n    \"result\",\n    \"results/s\"\n]);\nfunction shouldExcludeFromPrev(it, cfg) {\n    const keyRaw = String(it.key || \"\").trim().toLowerCase();\n    const labelRaw = String(it.label || \"\").trim().toLowerCase().replace(/[:]/g, \"\");\n    if (EXCLUDE_EXACT_KEYS.has(keyRaw)) return true;\n    if (EXCLUDE_EXACT_LABELS.has(labelRaw)) return true;\n    const cfgKeys = ((cfg === null || cfg === void 0 ? void 0 : cfg.prev_exclude_keys) || \"\").split(\",\").map((s)=>s.trim().toLowerCase()).filter(Boolean);\n    if (cfgKeys.includes(keyRaw)) return true;\n    const norm = (s)=>String(s || \"\").toLowerCase().replace(/[_\\-:.]+/g, \" \").replace(/\\s+/g, \" \").trim();\n    const label = norm(it.label);\n    const keyNorm = norm(it.key);\n    const builtins = [\n        \"remark\",\n        \"remarks\",\n        \"note\",\n        \"notes\",\n        \"comment\",\n        \"comments\",\n        \"interpretation\"\n    ];\n    if (builtins.some((t)=>label.includes(t) || keyNorm.includes(t))) return true;\n    return false;\n}\n// parse a numeric string\nfunction toNum(s) {\n    const t = String(s !== null && s !== void 0 ? s : \"\").replace(/,/g, \"\").trim();\n    const m = t.match(/^[-+]?\\d*\\.?\\d+$/);\n    if (!m) return null;\n    const n = Number(m[0]);\n    return Number.isFinite(n) ? n : null;\n}\nconst fmt = (n)=>n.toLocaleString(undefined, {\n        maximumFractionDigits: 2\n    });\n// Footer lines from config\nfunction getFooterLines(cfg) {\n    if (!cfg) return [];\n    const keys = Object.keys(cfg).filter((k)=>/^report_footer_line\\d+$/i.test(k));\n    keys.sort((a, b)=>{\n        const na = parseInt(a.match(/\\d+/)[0], 10);\n        const nb = parseInt(b.match(/\\d+/)[0], 10);\n        return na - nb;\n    });\n    const lines = [];\n    for (const k of keys){\n        var _cfg_k;\n        const raw = ((_cfg_k = cfg[k]) !== null && _cfg_k !== void 0 ? _cfg_k : \"\").toString().trim();\n        if (!raw) continue;\n        raw.split(/\\r?\\n/).map((s)=>s.trim()).filter(Boolean).forEach((s)=>lines.push(s));\n    }\n    return lines;\n}\nfunction extractDriveId(url) {\n    const u = (url || \"\").trim();\n    if (!u) return \"\";\n    const uc = u.match(/[?&]id=([^&]+)/);\n    if (uc === null || uc === void 0 ? void 0 : uc[1]) return uc[1];\n    const file = u.match(/\\/file\\/d\\/([^/]+)/);\n    if (file === null || file === void 0 ? void 0 : file[1]) return file[1];\n    if (/^[a-zA-Z0-9_-]{20,}$/.test(u)) return u;\n    return \"\";\n}\nfunction driveImageUrls(url) {\n    const id = extractDriveId(url);\n    if (!id) return {\n        primary: \"\",\n        fallback: \"\"\n    };\n    return {\n        primary: \"https://drive.google.com/uc?export=view&id=\".concat(id),\n        fallback: \"https://lh3.googleusercontent.com/d/\".concat(id)\n    };\n}\nfunction formatPrevDate(s) {\n    let y = 0, m = 0, d = 0;\n    if (/^\\d{4}-\\d{2}-\\d{2}$/.test(s)) {\n        const [yy, mm, dd] = s.split(\"-\").map(Number);\n        y = yy;\n        m = mm;\n        d = dd;\n    } else if (/^\\d{1,2}\\/\\d{1,2}\\/\\d{4}$/.test(s)) {\n        const [mm, dd, yy] = s.split(\"/\").map(Number);\n        y = yy;\n        m = mm;\n        d = dd;\n    } else {\n        const dt = new Date(s);\n        if (!isNaN(dt.getTime())) {\n            y = dt.getFullYear();\n            m = dt.getMonth() + 1;\n            d = dt.getDate();\n        }\n    }\n    const pad2 = (n)=>String(n).padStart(2, \"0\");\n    const yy2 = String(y).slice(-2);\n    return \"\".concat(pad2(m), \"/\").concat(pad2(d), \"/'\").concat(yy2);\n}\nfunction getSignersFromConfig(cfg) {\n    const rmts = [];\n    const push = (n, l, s)=>{\n        const name = (cfg[n] || \"\").trim();\n        if (!name) return;\n        rmts.push({\n            role: \"RMT\",\n            name,\n            license: (cfg[l] || \"\").trim(),\n            sig: (cfg[s] || \"\").trim()\n        });\n    };\n    push(\"rmt_name\", \"rmt_license\", \"rmt_signature_url\");\n    for(let i = 1; i <= 6; i++)push(\"rmt\".concat(i, \"_name\"), \"rmt\".concat(i, \"_license\"), \"rmt\".concat(i, \"_signature_url\"));\n    const pathoName = (cfg.patho_name || \"\").trim();\n    const pathos = pathoName ? [\n        {\n            role: \"Pathologist\",\n            name: pathoName,\n            license: (cfg.patho_license || \"\").trim(),\n            sig: (cfg.patho_signature_url || \"\").trim()\n        }\n    ] : [];\n    return {\n        rmts,\n        pathos\n    };\n}\nfunction toImageUrl(url) {\n    if (!url) return \"\";\n    const m = url.match(/[-\\w]{25,}/);\n    return m ? \"https://drive.google.com/uc?export=view&id=\".concat(m[0]) : url;\n}\nfunction ts(d) {\n    if (!d) return 0;\n    const s = String(d).trim();\n    const t = Date.parse(s);\n    if (!Number.isNaN(t)) return t;\n    const m = s.match(/^(\\d{1,2})[\\/\\-](\\d{1,2})[\\/\\-](\\d{2,4})$/);\n    if (m) {\n        const a = parseInt(m[1], 10);\n        const b = parseInt(m[2], 10);\n        const y = m[3].length === 2 ? 2000 + parseInt(m[3], 10) : parseInt(m[3], 10);\n        const isDMY = a > 12;\n        const month = (isDMY ? b : a) - 1;\n        const day = isDMY ? a : b;\n        return new Date(y, month, day).getTime();\n    }\n    return 0;\n}\nfunction ReportViewer(props) {\n    var _report_visit, _report_visit1, _report_visit2, _report_visit3;\n    _s();\n    const { initialPatientId, apiPath = \"/api/patient-results\", autoFetch = false, useSession = false, sessionPatientId = \"\", // NEW overrides\n    headerOverride, watermarkSizePx, watermarkOpacity } = props;\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const searchPatientId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"ReportViewer.useMemo[searchPatientId]\": ()=>{\n            if (!searchParams) return \"\";\n            const raw = (searchParams.get(\"patient_id\") || searchParams.get(\"pid\") || \"\").trim();\n            return raw ? raw.toUpperCase() : \"\";\n        }\n    }[\"ReportViewer.useMemo[searchPatientId]\"], [\n        searchParams\n    ]);\n    const normalizedInitialId = (initialPatientId || \"\").trim();\n    const normalizedSessionId = (sessionPatientId || \"\").trim();\n    const [patientId, setPatientId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(normalizedInitialId || normalizedSessionId || searchPatientId);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ReportViewer.useEffect\": ()=>{\n            const next = searchPatientId || normalizedInitialId || normalizedSessionId || \"\";\n            if (next && next !== patientId) setPatientId(next);\n        }\n    }[\"ReportViewer.useEffect\"], [\n        searchPatientId,\n        normalizedInitialId,\n        normalizedSessionId,\n        patientId\n    ]);\n    const [data, setData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [err, setErr] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [selectedDate, setSelectedDate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [bootCfg, setBootCfg] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [compareOn, setCompareOn] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [summaryOpen, setSummaryOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const summaryPanelId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useId)();\n    // Splash / preload states\n    const [bootLoaded, setBootLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [logoLoaded, setLogoLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [watermarkLoaded, setWatermarkLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [splashTimedOut, setSplashTimedOut] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ReportViewer.useEffect\": ()=>{\n            let ignore = false;\n            ({\n                \"ReportViewer.useEffect\": async ()=>{\n                    try {\n                        const res = await fetch(\"/api/config\", {\n                            cache: \"no-store\"\n                        });\n                        if (res.ok) {\n                            const json = await res.json();\n                            if (!ignore && (json === null || json === void 0 ? void 0 : json.config)) setBootCfg(json.config);\n                        }\n                    } catch (e) {} finally{\n                        if (!ignore) setBootLoaded(true);\n                    }\n                }\n            })[\"ReportViewer.useEffect\"]();\n            return ({\n                \"ReportViewer.useEffect\": ()=>{\n                    ignore = true;\n                }\n            })[\"ReportViewer.useEffect\"];\n        }\n    }[\"ReportViewer.useEffect\"], []);\n    const cfg = {\n        ...bootCfg || {},\n        ...(data === null || data === void 0 ? void 0 : data.config) || {}\n    };\n    var _data_reports;\n    const reports = (_data_reports = data === null || data === void 0 ? void 0 : data.reports) !== null && _data_reports !== void 0 ? _data_reports : [];\n    const patientOnly = (data === null || data === void 0 ? void 0 : data.patientOnly) === true;\n    // Dashboard footer visibility toggles\n    const showFooterOnDashboard = ((cfg === null || cfg === void 0 ? void 0 : cfg.footer_show_on_dashboard) || \"\").toLowerCase() === \"true\";\n    const showSignersOnDashboard = ((cfg === null || cfg === void 0 ? void 0 : cfg.footer_show_signers_on_dashboard) || \"\").toLowerCase() === \"true\";\n    var _reports_length;\n    const hasReport = ((_reports_length = reports === null || reports === void 0 ? void 0 : reports.length) !== null && _reports_length !== void 0 ? _reports_length : 0) > 0;\n    const hasLabSections = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"ReportViewer.useMemo[hasLabSections]\": ()=>reports.some({\n                \"ReportViewer.useMemo[hasLabSections]\": (r)=>Array.isArray(r === null || r === void 0 ? void 0 : r.sections) && r.sections.some({\n                        \"ReportViewer.useMemo[hasLabSections]\": (s)=>{\n                            var _s_items;\n                            var _s_items_length;\n                            return ((_s_items_length = s === null || s === void 0 ? void 0 : (_s_items = s.items) === null || _s_items === void 0 ? void 0 : _s_items.length) !== null && _s_items_length !== void 0 ? _s_items_length : 0) > 0;\n                        }\n                    }[\"ReportViewer.useMemo[hasLabSections]\"])\n            }[\"ReportViewer.useMemo[hasLabSections]\"])\n    }[\"ReportViewer.useMemo[hasLabSections]\"], [\n        reports\n    ]);\n    const showFooter = hasLabSections && (hasReport || showFooterOnDashboard);\n    const showSigners = hasLabSections && (hasReport || showSignersOnDashboard);\n    // Footer + style knobs\n    const footerLines = getFooterLines(cfg);\n    var _cfg_report_footer_align;\n    const footerAlign = ((_cfg_report_footer_align = cfg === null || cfg === void 0 ? void 0 : cfg.report_footer_align) !== null && _cfg_report_footer_align !== void 0 ? _cfg_report_footer_align : \"center\").toString().toLowerCase();\n    const footerFontPx = Number(cfg === null || cfg === void 0 ? void 0 : cfg.report_footer_font_px) || 10;\n    const footerGapPx = Number(cfg === null || cfg === void 0 ? void 0 : cfg.report_footer_gap_px) || 4;\n    // Watermark config\n    const { primary: wmPrimary, fallback: wmFallback } = driveImageUrls(cfg === null || cfg === void 0 ? void 0 : cfg.watermark_image_url);\n    const wmImgUrl = wmPrimary || wmFallback;\n    const wmShowScreen = ((cfg === null || cfg === void 0 ? void 0 : cfg.watermark_show_dashboard) || \"true\").toLowerCase() === \"true\";\n    const wmShowPrint = ((cfg === null || cfg === void 0 ? void 0 : cfg.watermark_show_print) || \"true\").toLowerCase() === \"true\";\n    const wmOpacityScreen = Math.max(0, Math.min(1, Number((cfg === null || cfg === void 0 ? void 0 : cfg.watermark_opacity_screen) || 0.12)));\n    const wmOpacityPrint = Math.max(0, Math.min(1, Number((cfg === null || cfg === void 0 ? void 0 : cfg.watermark_opacity_print) || 0.08)));\n    const wmAngleDeg = Number((cfg === null || cfg === void 0 ? void 0 : cfg.watermark_angle_deg) || -30);\n    const wmSize = (cfg === null || cfg === void 0 ? void 0 : cfg.watermark_size) || \"40vw\";\n    // --- Prop overrides (optional) ---\n    const wmSizeEffective = typeof watermarkSizePx === \"number\" ? \"\".concat(watermarkSizePx, \"px\") : wmSize;\n    const wmOpacityScreenEffective = typeof watermarkOpacity === \"number\" ? watermarkOpacity : wmOpacityScreen;\n    const wmOpacityPrintEffective = typeof watermarkOpacity === \"number\" ? watermarkOpacity : wmOpacityPrint;\n    const showVisitNotes = ((cfg === null || cfg === void 0 ? void 0 : cfg.show_visit_notes) || \"\").toLowerCase() === \"true\";\n    // Visits\n    const visitDates = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"ReportViewer.useMemo[visitDates]\": ()=>{\n            const dates = Array.from(new Set(reports.map({\n                \"ReportViewer.useMemo[visitDates].dates\": (r)=>{\n                    var _r_visit;\n                    var _r_visit_date_of_test;\n                    return String((_r_visit_date_of_test = r === null || r === void 0 ? void 0 : (_r_visit = r.visit) === null || _r_visit === void 0 ? void 0 : _r_visit.date_of_test) !== null && _r_visit_date_of_test !== void 0 ? _r_visit_date_of_test : \"\");\n                }\n            }[\"ReportViewer.useMemo[visitDates].dates\"]).filter(Boolean))).sort({\n                \"ReportViewer.useMemo[visitDates].dates\": (a, b)=>ts(b) - ts(a)\n            }[\"ReportViewer.useMemo[visitDates].dates\"]); //  real date sort\n            return dates;\n        }\n    }[\"ReportViewer.useMemo[visitDates]\"], [\n        reports\n    ]);\n    const report = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"ReportViewer.useMemo[report]\": ()=>{\n            if (!Array.isArray(reports) || reports.length === 0) return undefined;\n            var _visitDates_;\n            const current = selectedDate || ((_visitDates_ = visitDates[0]) !== null && _visitDates_ !== void 0 ? _visitDates_ : \"\");\n            return reports.find({\n                \"ReportViewer.useMemo[report]\": (r)=>{\n                    var _r_visit;\n                    var _r_visit_date_of_test;\n                    return ((_r_visit_date_of_test = r === null || r === void 0 ? void 0 : (_r_visit = r.visit) === null || _r_visit === void 0 ? void 0 : _r_visit.date_of_test) !== null && _r_visit_date_of_test !== void 0 ? _r_visit_date_of_test : \"\") === current;\n                }\n            }[\"ReportViewer.useMemo[report]\"]) || reports[0];\n        }\n    }[\"ReportViewer.useMemo[report]\"], [\n        reports,\n        selectedDate,\n        visitDates\n    ]);\n    const showNoLabsNotice = (patientOnly || !hasLabSections) && !!report;\n    async function fetchReports(id) {\n        if (!id) return;\n        setErr(\"\");\n        setLoading(true);\n        try {\n            const res = await fetch(apiPath, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    patient_id: id\n                })\n            });\n            const ct = res.headers.get(\"content-type\") || \"\";\n            let json = null;\n            let text = \"\";\n            try {\n                if (ct.includes(\"application/json\")) {\n                    json = await res.json();\n                } else {\n                    text = await res.text();\n                }\n            } catch (e) {\n                try {\n                    text = await res.text();\n                } catch (e) {}\n            }\n            if (!res.ok) {\n                const msg = (json === null || json === void 0 ? void 0 : json.error) || text || \"Request failed (\".concat(res.status, \")\");\n                setErr(msg);\n                setData(null);\n                setSelectedDate(\"\");\n                return;\n            }\n            const reports = Array.isArray(json === null || json === void 0 ? void 0 : json.reports) && json.reports || Array.isArray(json === null || json === void 0 ? void 0 : json.rows) && json.rows || Array.isArray(json === null || json === void 0 ? void 0 : json.data) && json.data || [];\n            if (reports.length === 0) {\n                setErr(\"No matching patient ID, please try again.\");\n                setData(null);\n                setSelectedDate(\"\");\n                return;\n            }\n            const payload = {\n                count: reports.length,\n                reports\n            };\n            if ((json === null || json === void 0 ? void 0 : json.config) && typeof json.config === \"object\") {\n                payload.config = json.config;\n            }\n            if (typeof (json === null || json === void 0 ? void 0 : json.patientOnly) === \"boolean\") {\n                payload.patientOnly = json.patientOnly;\n            }\n            setData(payload);\n            const dates = Array.from(new Set(reports.map((r)=>{\n                var _r_visit;\n                var _r_visit_date_of_test;\n                return String((_r_visit_date_of_test = r === null || r === void 0 ? void 0 : (_r_visit = r.visit) === null || _r_visit === void 0 ? void 0 : _r_visit.date_of_test) !== null && _r_visit_date_of_test !== void 0 ? _r_visit_date_of_test : \"\");\n            }).filter(Boolean))).sort((a, b)=>ts(b) - ts(a));\n            var _dates_;\n            setSelectedDate((_dates_ = dates[0]) !== null && _dates_ !== void 0 ? _dates_ : \"\");\n        } catch (e) {\n            setErr((e === null || e === void 0 ? void 0 : e.message) || \"Network error.\");\n            setData(null);\n            setSelectedDate(\"\");\n        } finally{\n            setLoading(false);\n        }\n    }\n    async function fetchSessionReports() {\n        setErr(\"\");\n        setLoading(true);\n        try {\n            const res = await fetch(apiPath, {\n                method: \"GET\",\n                cache: \"no-store\"\n            });\n            const ct = res.headers.get(\"content-type\") || \"\";\n            let json = null;\n            let text = \"\";\n            try {\n                if (ct.includes(\"application/json\")) {\n                    json = await res.json();\n                } else {\n                    text = await res.text();\n                }\n            } catch (e) {\n                try {\n                    text = await res.text();\n                } catch (e) {}\n            }\n            if (!res.ok) {\n                const msg = (json === null || json === void 0 ? void 0 : json.error) || text || \"Request failed (\".concat(res.status, \")\");\n                setErr(msg);\n                setData(null);\n                setSelectedDate(\"\");\n                return;\n            }\n            const reports = Array.isArray(json === null || json === void 0 ? void 0 : json.reports) && json.reports || Array.isArray(json === null || json === void 0 ? void 0 : json.rows) && json.rows || Array.isArray(json === null || json === void 0 ? void 0 : json.data) && json.data || [];\n            if (reports.length === 0) {\n                setErr(\"No reports found.\");\n                setData(null);\n                setSelectedDate(\"\");\n                return;\n            }\n            const payload = {\n                count: reports.length,\n                reports\n            };\n            if ((json === null || json === void 0 ? void 0 : json.config) && typeof json.config === \"object\") {\n                payload.config = json.config;\n            }\n            if (typeof (json === null || json === void 0 ? void 0 : json.patientOnly) === \"boolean\") {\n                payload.patientOnly = json.patientOnly;\n            }\n            setData(payload);\n            const dates = Array.from(new Set(reports.map((r)=>{\n                var _r_visit;\n                var _r_visit_date_of_test;\n                return String((_r_visit_date_of_test = r === null || r === void 0 ? void 0 : (_r_visit = r.visit) === null || _r_visit === void 0 ? void 0 : _r_visit.date_of_test) !== null && _r_visit_date_of_test !== void 0 ? _r_visit_date_of_test : \"\");\n            }).filter(Boolean))).sort((a, b)=>ts(b) - ts(a));\n            var _dates_;\n            setSelectedDate((_dates_ = dates[0]) !== null && _dates_ !== void 0 ? _dates_ : \"\");\n        } catch (e) {\n            setErr((e === null || e === void 0 ? void 0 : e.message) || \"Network error.\");\n            setData(null);\n            setSelectedDate(\"\");\n        } finally{\n            setLoading(false);\n        }\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ReportViewer.useEffect\": ()=>{\n            if (!autoFetch) return;\n            const effectivePatientId = (patientId || normalizedSessionId || searchPatientId).trim();\n            if (useSession) {\n                if (effectivePatientId) {\n                    // Prefer an explicit patient ID to avoid relying on mixed-role cookies\n                    fetchReports(effectivePatientId);\n                } else {\n                    fetchSessionReports();\n                }\n            } else if (effectivePatientId) {\n                fetchReports(effectivePatientId);\n            }\n        }\n    }[\"ReportViewer.useEffect\"], [\n        autoFetch,\n        useSession,\n        patientId,\n        normalizedSessionId,\n        searchPatientId,\n        apiPath\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ReportViewer.useEffect\": ()=>{\n            if (false) {}\n            if (window.innerWidth < 768) setSummaryOpen(false);\n        }\n    }[\"ReportViewer.useEffect\"], []);\n    // Build index for previous values\n    const valueIndex = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"ReportViewer.useMemo[valueIndex]\": ()=>{\n            const map = new Map();\n            for (const r of reports){\n                const d = r.visit.date_of_test;\n                let m = map.get(d);\n                if (!m) {\n                    m = new Map();\n                    map.set(d, m);\n                }\n                for (const s of r.sections){\n                    for (const it of s.items){\n                        if (shouldExcludeFromPrev(it, cfg)) continue;\n                        var _it_value;\n                        const raw = String((_it_value = it.value) !== null && _it_value !== void 0 ? _it_value : \"\").trim();\n                        if (!raw) continue;\n                        const num = toNum(raw);\n                        m.set(it.key, {\n                            raw,\n                            num,\n                            unit: it.unit\n                        });\n                    }\n                }\n            }\n            return map;\n        }\n    }[\"ReportViewer.useMemo[valueIndex]\"], [\n        reports,\n        cfg\n    ]);\n    function findPrevListAny(it) {\n        let maxCount = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 3;\n        if (!report) return [];\n        const currentDate = report.visit.date_of_test;\n        const idx = visitDates.indexOf(currentDate);\n        if (idx < 0) return [];\n        const out = [];\n        for(let i = idx + 1; i < visitDates.length && out.length < maxCount; i++){\n            var _valueIndex_get;\n            const d = visitDates[i];\n            const rec = (_valueIndex_get = valueIndex.get(d)) === null || _valueIndex_get === void 0 ? void 0 : _valueIndex_get.get(it.key);\n            if (!rec) continue;\n            out.push({\n                date: d,\n                raw: rec.raw,\n                num: rec.num,\n                unit: rec.unit\n            });\n        }\n        return out;\n    }\n    function findPrevNumForDelta(it) {\n        if (!report) return null;\n        const currentDate = report.visit.date_of_test;\n        const idx = visitDates.indexOf(currentDate);\n        if (idx < 0) return null;\n        const curNum = toNum(it.value);\n        if (curNum == null) return null;\n        for(let i = idx + 1; i < visitDates.length; i++){\n            var _valueIndex_get;\n            const d = visitDates[i];\n            const rec = (_valueIndex_get = valueIndex.get(d)) === null || _valueIndex_get === void 0 ? void 0 : _valueIndex_get.get(it.key);\n            if (!rec || rec.num == null) continue;\n            if (it.unit && rec.unit && it.unit !== rec.unit) continue;\n            return {\n                date: d,\n                value: rec.num\n            };\n        }\n        return null;\n    }\n    async function search() {\n        if (!patientId) return;\n        setErr(\"\");\n        setLoading(true);\n        try {\n            const res = await fetch(\"/api/report?patient_id=\".concat(encodeURIComponent(patientId)));\n            const json = await res.json();\n            const reports = Array.isArray(json === null || json === void 0 ? void 0 : json.reports) && json.reports || Array.isArray(json === null || json === void 0 ? void 0 : json.rows) && json.rows || Array.isArray(json === null || json === void 0 ? void 0 : json.data) && json.data || [];\n            if (!res.ok) {\n                setErr((json === null || json === void 0 ? void 0 : json.error) || \"Something went wrong.\");\n                setData(null);\n                setSelectedDate(\"\");\n                return;\n            }\n            if (reports.length === 0) {\n                setErr(\"No matching patient ID, please try again.\");\n                setData(null);\n                setSelectedDate(\"\");\n                return;\n            }\n            const payload = {\n                count: reports.length,\n                reports\n            };\n            if ((json === null || json === void 0 ? void 0 : json.config) && typeof json.config === \"object\") {\n                payload.config = json.config;\n            }\n            setData(payload);\n            const dates = Array.from(new Set(reports.map((r)=>{\n                var _r_visit;\n                var _r_visit_date_of_test;\n                return String((_r_visit_date_of_test = r === null || r === void 0 ? void 0 : (_r_visit = r.visit) === null || _r_visit === void 0 ? void 0 : _r_visit.date_of_test) !== null && _r_visit_date_of_test !== void 0 ? _r_visit_date_of_test : \"\");\n            }).filter(Boolean))).sort((a, b)=>ts(b) - ts(a));\n            var _dates_;\n            setSelectedDate((_dates_ = dates[0]) !== null && _dates_ !== void 0 ? _dates_ : \"\");\n        } catch (e) {\n            setErr((e === null || e === void 0 ? void 0 : e.message) || \"Network error.\");\n            setData(null);\n            setSelectedDate(\"\");\n        } finally{\n            setLoading(false);\n        }\n    }\n    // signers + logo (computed BEFORE return)\n    const { rmts, pathos } = getSignersFromConfig(cfg);\n    const signers = [\n        ...rmts,\n        ...pathos\n    ];\n    const rawLogo = ((cfg === null || cfg === void 0 ? void 0 : cfg.clinic_logo_url) || \"\").trim();\n    let logoSrc = \"\";\n    let logoFallback = \"\";\n    if (rawLogo.startsWith(\"/\") || /^https?:\\/\\//i.test(rawLogo)) {\n        // Local public path (e.g., \"/wellserv-logo.png\") or direct URL\n        logoSrc = rawLogo;\n    } else {\n        // Google Drive ID / URL (existing behavior)\n        const d = driveImageUrls(rawLogo);\n        logoSrc = d.primary;\n        logoFallback = d.fallback;\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ReportViewer.useEffect\": ()=>{\n            setLogoLoaded(false);\n            if (!logoSrc) {\n                setLogoLoaded(true);\n                return;\n            }\n            const img = new Image();\n            img.onload = img.onerror = ({\n                \"ReportViewer.useEffect\": ()=>setLogoLoaded(true)\n            })[\"ReportViewer.useEffect\"];\n            img.src = logoSrc;\n        }\n    }[\"ReportViewer.useEffect\"], [\n        logoSrc\n    ]);\n    // Watermark resolves to the explicit watermark image if set, otherwise falls back to the logo.\n    const watermarkSrc = wmImgUrl || logoSrc;\n    const watermarkFallback = wmImgUrl ? wmFallback : logoFallback;\n    const hasWm = Boolean(watermarkSrc);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ReportViewer.useEffect\": ()=>{\n            setWatermarkLoaded(false);\n            if (!watermarkSrc) {\n                setWatermarkLoaded(true);\n                return;\n            }\n            const img = new Image();\n            img.onload = img.onerror = ({\n                \"ReportViewer.useEffect\": ()=>setWatermarkLoaded(true)\n            })[\"ReportViewer.useEffect\"];\n            img.src = watermarkSrc;\n        }\n    }[\"ReportViewer.useEffect\"], [\n        watermarkSrc\n    ]);\n    var _cfg_loading_splash_enabled;\n    // Splash control\n    const splashEnabled = ((_cfg_loading_splash_enabled = cfg === null || cfg === void 0 ? void 0 : cfg.loading_splash_enabled) !== null && _cfg_loading_splash_enabled !== void 0 ? _cfg_loading_splash_enabled : \"true\").toString().toLowerCase() === \"true\";\n    var _cfg_loading_splash_max_ms;\n    const splashMaxMs = Number((_cfg_loading_splash_max_ms = cfg === null || cfg === void 0 ? void 0 : cfg.loading_splash_max_ms) !== null && _cfg_loading_splash_max_ms !== void 0 ? _cfg_loading_splash_max_ms : 900);\n    const waitingForAssets = !bootLoaded || !logoLoaded || !watermarkLoaded;\n    const waitingForData = loading;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ReportViewer.useEffect\": ()=>{\n            if (!splashEnabled) {\n                setSplashTimedOut(false);\n                return;\n            }\n            if (!waitingForAssets) {\n                setSplashTimedOut(false);\n                return;\n            }\n            const t = setTimeout({\n                \"ReportViewer.useEffect.t\": ()=>setSplashTimedOut(true)\n            }[\"ReportViewer.useEffect.t\"], splashMaxMs);\n            return ({\n                \"ReportViewer.useEffect\": ()=>clearTimeout(t)\n            })[\"ReportViewer.useEffect\"];\n        }\n    }[\"ReportViewer.useEffect\"], [\n        splashEnabled,\n        waitingForAssets,\n        splashMaxMs\n    ]);\n    const showSplash = splashEnabled && (waitingForAssets && !splashTimedOut || waitingForData);\n    const showInlineLoader = !showSplash && loading && !report;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"page\",\n        style: {\n            minHeight: \"100vh\",\n            display: \"flex\",\n            flexDirection: \"column\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"style\", {\n                children: '\\n        :root{\\n          --font-base: 14px;\\n          --font-heading: 18px;\\n          --font-title: 18px;\\n          --row-pad: 6px;\\n          --sig-height: 30px;\\n          --logo-height: 150px;\\n          --brand: #16313b;\\n          --accent: #0f766e;\\n          --border: #d5e0e8;\\n          --border-strong: #8ba1ae;\\n          --surface: #ffffff;\\n          --surface-muted: #ffffff;\\n          --shell-shadow: 0 18px 45px rgba(15, 23, 42, 0.08);\\n        }\\n        body {\\n          font-size: var(--font-base);\\n          color: var(--brand);\\n        }\\n        .page {\\n          min-height: 100vh;\\n          display: flex;\\n          flex-direction: column;\\n          background: var(--surface-muted);\\n          padding: clamp(12px, 4vw, 32px);\\n        }\\n        h1 { font-size: var(--font-title); }\\n        h3 { font-size: var(--font-heading); }\\n\\n        .container { max-width: 960px; margin: 0 auto; }\\n        .viewer-shell {\\n          padding: clamp(18px, 4vw, 26px);\\n          background: var(--surface);\\n          border: 1px solid rgba(25, 82, 102, 0.08);\\n          border-radius: 24px;\\n          box-shadow: var(--shell-shadow);\\n          display: flex;\\n          flex-direction: column;\\n          gap: 18px;\\n          margin-bottom: clamp(26px, 5vw, 48px);\\n        }\\n        .content { flex: 1 0 auto; }\\n        .viewer-footer {\\n          margin-top: clamp(28px, 5vw, 52px);\\n          padding: clamp(18px, 4vw, 26px);\\n          background: var(--surface);\\n          border: 1px solid rgba(25, 82, 102, 0.08);\\n          border-radius: 20px;\\n          box-shadow: var(--shell-shadow);\\n        }\\n        .viewer-footer .sig-row { margin-top: 4px; }\\n        th, td { padding: calc(var(--row-pad) - 1px) 10px; }\\n\\n        .date-select {\\n          font-size: 16px;\\n          padding: 8px 12px;\\n          min-height: 44px;\\n          line-height: 1.25;\\n          border: 1px solid rgba(25,82,102,0.22);\\n          border-radius: 12px;\\n          box-shadow: 0 1px 2px rgba(15,23,42,0.06), 0 0 0 3px rgba(15,118,110,0.08);\\n          background: linear-gradient(180deg, #ffffff 0%, #f9fbff 100%);\\n          appearance: none;\\n          padding-right: 44px;\\n          transition: border-color .18s ease, box-shadow .18s ease, transform .18s ease;\\n        }\\n        .date-select:focus {\\n          transform: translateY(-1px);\\n          outline: none;\\n          border-color: rgba(15,118,110,0.65);\\n          box-shadow: 0 12px 20px rgba(15,118,110,0.15), 0 0 0 3px rgba(15,118,110,0.22);\\n        }\\n        .date-select option { font-size: 15px; }\\n        .controls .label {\\n          font-weight: 700;\\n          color: var(--brand);\\n        }\\n\\n        /* clinic header */\\n        .clinic {\\n          display:flex;\\n          align-items:center;\\n          gap:12px;\\n          margin: 4px 0 12px 0;\\n          padding: 12px 16px;\\n          border-radius: 20px;\\n          border: 1px solid rgba(25,82,102,0.08);\\n          background: rgba(244,247,251,0.7);\\n        }\\n        .clinic img { height: var(--logo-height); width:auto; object-fit: contain; display:block; }\\n        .clinic-name { font-weight: 700; font-size: 20px; line-height: 1.2; color: #0f1f28; }\\n        .clinic-sub { color: rgba(41,74,86,0.78); }\\n\\n        /* SCREEN: title + search on ONE line, centered */\\n        .toolbar{\\n          display:flex;\\n          align-items:center;\\n          justify-content:center;   /* center the whole group */\\n          gap:12px;\\n          margin:12px auto 14px;\\n          width:100%;\\n          flex-wrap:nowrap;         /* keep on one line */\\n        }\\n        .toolbar h1{\\n          margin:0;\\n          flex:0 0 auto;            /* don\\'t stretch; keep content width */\\n        }\\n        .toolbar .searchbar{\\n          flex:0 0 auto;            /* don\\'t stretch; keep content width */\\n        }\\n\\n        /* keep the searchbar centered too */\\n        .searchbar{\\n          display:flex;\\n          align-items:center;\\n          justify-content:center;\\n          gap:8px;\\n        }\\n\\n        /* patient header (name, sex/age/DOB) */\\n        .patient-head {\\n          display:flex; align-items:baseline; justify-content:space-between;\\n          gap:12px; padding:14px 16px; margin: 0;\\n          border:1px solid rgba(25,82,102,0.12); border-radius:20px;\\n          background: linear-gradient(180deg, rgba(255,255,255,0.9), #ffffff 90%);\\n          box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);\\n        }\\n        .ph-name { font-size: 20px; font-weight: 800; letter-spacing: .2px; }\\n        .ph-meta { color:rgba(41,74,86,0.75); word-break: break-word; }\\n\\n        /* controls row */\\n        .controls { display:flex; gap:12px; margin:12px 0; flex-wrap:wrap; }\\n        .control-select{\\n          flex:1 1 auto;\\n          min-width:0;\\n          display:flex;\\n          align-items:center;\\n          gap:10px;\\n          position: relative;\\n        }\\n        .control-select .label{\\n          font-size: 15px;\\n          white-space: nowrap;\\n          color: var(--border-strong);\\n        }\\n        .control-select::after{\\n          content:\"\";\\n          position:absolute;\\n          top:50%;\\n          right:16px;\\n          width:10px;\\n          height:10px;\\n          border-right:2px solid var(--border-strong);\\n          border-bottom:2px solid var(--border-strong);\\n          transform: translateY(-55%) rotate(45deg);\\n          pointer-events:none;\\n          transition: transform .2s ease, border-color .2s ease;\\n        }\\n        .control-select:focus-within::after{\\n          transform: translateY(-15%) rotate(225deg);\\n          border-color: rgba(15,118,110,0.8);\\n        }\\n        .control-toggle {\\n          display:flex;\\n          align-items:center;\\n          gap:6px;\\n          color: var(--brand);\\n        }\\n        .control-row {\\n          display:flex;\\n          align-items:center;\\n          gap:8px;\\n          flex-wrap:wrap;\\n        }\\n        .control-row button {\\n          display:flex;\\n          align-items:center;\\n          justify-content:center;\\n          gap:6px;\\n          padding: 10px 14px;\\n          border-radius: 12px;\\n          border: 1px solid rgba(25,82,102,0.16);\\n          background: linear-gradient(135deg, rgba(15,118,110,0.12), rgba(15,118,110,0.05));\\n          color: var(--brand);\\n          font-weight: 600;\\n          transition: transform .15s ease, box-shadow .15s ease, background .15s ease;\\n        }\\n        .control-row button:hover{\\n          transform: translateY(-1px);\\n          box-shadow: 0 10px 22px rgba(15,118,110,0.18);\\n        }\\n        .control-row button:active{\\n          transform: translateY(0);\\n          box-shadow: none;\\n        }\\n\\n        /* footer */\\n        .report-footer { margin-top: auto; padding-top: 6px; border-top: none; font-size: 14px; color: var(--brand); }\\n        .sig-row {\\n          display:grid;\\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\\n          gap:16px;\\n          align-items:start;\\n          justify-items:center;\\n        }\\n        .sig {\\n          min-width:0;\\n          text-align:center;\\n          padding:10px 8px 12px;\\n          margin-top:0;\\n          width: 100%;\\n          border-radius: 18px;\\n          border: 1px solid rgba(25,82,102,0.08);\\n          background: rgba(244,247,251,0.7);\\n        }\\n        .sig img { max-height: var(--sig-height); width: auto; object-fit: contain; display:block; margin: 6px auto 6px; }\\n        .muted { color:rgba(21,44,54,0.68); font-size: 12px; }\\n\\n        table { width:100%; border-collapse: collapse; }\\n        thead th {\\n          border-bottom: 1px solid rgba(25,82,102,0.18);\\n          background: rgba(244,247,251,0.6);\\n          color: rgba(21,44,54,0.82);\\n          font-weight: 600;\\n        }\\n        tbody tr:nth-child(odd) {\\n          background: rgba(244,247,251,0.45);\\n        }\\n        tbody td { border-bottom: 1px solid rgba(15,23,42,0.04); }\\n        .flag-cell { text-align: left !important; }\\n        .flag-pill {\\n          display: inline-flex;\\n          align-items: center;\\n          gap: 6px;\\n          font-size: 12px;\\n          font-weight: 600;\\n          padding: 2px 10px;\\n          border-radius: 999px;\\n          background: rgba(21,44,54,0.08);\\n          color: rgba(21,44,54,0.85);\\n          letter-spacing: 0.02em;\\n        }\\n        .flag-pill::before {\\n          content: \"\";\\n          width: 8px;\\n          height: 8px;\\n          border-radius: 999px;\\n          background: currentColor;\\n          opacity: 0.75;\\n        }\\n        .flag-pill[data-flag=\"H\"] {\\n          background: rgba(220,38,38,0.16);\\n          color: #b00020;\\n        }\\n        .flag-pill[data-flag=\"L\"] {\\n          background: rgba(14,116,144,0.18);\\n          color: #0f766e;\\n        }\\n        .flag-pill[data-flag=\"A\"] {\\n          background: rgba(234,179,8,0.2);\\n          color: #b45309;\\n        }\\n        .flag-pill[data-flag=\"\"] {\\n          background: rgba(148,163,184,0.2);\\n          color: #475569;\\n        }\\n        .section-block {\\n          border: 1px solid rgba(25,82,102,0.08);\\n          border-radius: 20px;\\n          padding: 18px 18px 12px;\\n          background: rgba(255,255,255,0.98);\\n          box-shadow: 0 18px 38px rgba(15,23,42,0.06);\\n        }\\n        .section-block h3 {\\n          margin: 0 0 12px 0;\\n        }\\n\\n        .table-scroll {\\n          width: 100%;\\n          overflow-x: auto;\\n          -webkit-overflow-scrolling: touch;\\n        }\\n        .table-scroll table {\\n          min-width: 560px;\\n        }\\n        /* Compact tables (e.g., Urinalysis/Fecalysis) don\\'t need the wide min-width or stickies. */\\n        .table-scroll[data-compact=\"true\"] {\\n          overflow-x: visible;\\n        }\\n        .table-scroll[data-compact=\"true\"] table {\\n          min-width: 0;\\n        }\\n        .table-scroll[data-compact=\"true\"] table th:first-child,\\n        .table-scroll[data-compact=\"true\"] table td:first-child {\\n          position: static;\\n          background: inherit;\\n          border-right: 1px solid rgba(148,163,184,0.18);\\n        }\\n        .table-scroll table th:first-child,\\n        .table-scroll table td:first-child {\\n          position: sticky;\\n          left: 0;\\n          z-index: 2;\\n          background: #ffffff;\\n          border-right: 1px solid rgba(148,163,184,0.18);\\n        }\\n        .table-scroll table thead th:first-child {\\n          background: rgba(244,247,251,0.6);\\n        }\\n        .table-scroll table tbody tr:nth-child(odd) td:first-child {\\n          background: rgba(244,247,251,0.45);\\n        }\\n\\n        @media (max-width: 900px) {\\n          :root{\\n            --font-base: 13.5px;\\n            --font-heading: 17px;\\n            --font-title: 17px;\\n            --row-pad: 5px;\\n            --logo-height: 130px;\\n            --sig-height: 26px;\\n          }\\n          .viewer-shell,\\n          .viewer-footer {\\n            padding: clamp(16px, 3vw, 22px);\\n            border-radius: 20px;\\n          }\\n          .container { padding-inline: 14px; }\\n          .clinic { flex-direction: column; align-items: center; text-align: center; }\\n          .clinic img { height: auto; max-height: 120px; max-width: min(80%, 240px); }\\n          .patient-head { flex-direction: column; align-items: flex-start; gap: 6px; }\\n          .ph-name { font-size: 18px; }\\n          .ph-meta { font-size: 13px; line-height: 1.4; }\\n          .controls { flex-direction: column; align-items: stretch; gap: 12px; }\\n          .control-toggle { width: 100%; }\\n          .control-select{\\n            width: 100%;\\n            flex-direction: column;\\n            align-items: stretch;\\n            gap:6px;\\n          }\\n          .control-select .label{\\n            font-size: 14px;\\n          }\\n          .control-row { width: 100%; }\\n          .control-row select {\\n            flex: 1 1 auto;\\n            min-width: 0;\\n          }\\n          .date-select {\\n            font-size: 15px;\\n            padding: 8px 10px;\\n            min-height: 40px;\\n          }\\n          .report-footer { font-size: 12.5px; padding-top: 18px; }\\n          .sig-row {\\n            grid-template-columns: repeat(auto-fit, minmax(160px,1fr));\\n            gap:12px;\\n          }\\n          .sig { width: 100%; padding-top:4px; }\\n          .sig img { max-height: 22px; }\\n          .ps-card { padding: 12px; }\\n          .ps-grid { grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); }\\n          .section-block {\\n            padding: 16px 16px 12px;\\n            border-radius: 18px;\\n          }\\n        }\\n\\n        @media (max-width: 560px) {\\n          .toolbar{ flex-direction:wrap; }\\n          :root{\\n            --font-base: 12.8px;\\n            --font-heading: 15px;\\n            --font-title: 15px;\\n            --row-pad: 4px;\\n            --sig-height: 22px;\\n          }\\n          .viewer-shell,\\n          .viewer-footer {\\n            padding: 16px;\\n            border-radius: 16px;\\n          }\\n          .container { padding-inline: 12px; }\\n          .control-row {\\n            flex-direction: column;\\n            align-items: stretch;\\n            gap: 10px;\\n          }\\n          .control-select{\\n            gap:4px;\\n          }\\n          .control-select .label{\\n            font-size: 13.5px;\\n          }\\n          .control-row select,\\n          .control-row button {\\n            width: 100%;\\n          }\\n          .date-select {\\n            font-size: 14.5px;\\n            padding: 8px 10px;\\n            min-height: 38px;\\n          }\\n          .table-scroll table {\\n            min-width: 520px;\\n          }\\n          .section-block {\\n            padding: 14px 14px 10px;\\n            border-radius: 16px;\\n          }\\n        }\\n\\n        /* Utility: print-only/screen-only (no Tailwind dependency) */\\n        .print-only { display: none; }\\n        .screen-only { display: block; }\\n\\n        @media print {\\n          /* ==== A5 portrait setup ==== */\\n          @page { size: A5 portrait; margin: 10mm; }\\n\\n          :root{\\n            --font-base: 11px;\\n            --font-heading: 13px;\\n            --font-title: 13px;\\n            --row-pad: 4px;\\n            --sig-height: 22px;\\n            --logo-height: 64px;\\n          }\\n\\n          body { margin: 0; font-size: var(--font-base); }\\n\\n          .page { padding: 0 !important; background: #fff !important; }\\n          .container { max-width: none; padding: 0; margin: 0; }\\n          .viewer-shell,\\n          .viewer-footer {\\n            padding: 0 !important;\\n            margin: 0 !important;\\n            border: none !important;\\n            box-shadow: none !important;\\n            background: #fff !important;\\n          }\\n          .toolbar, .controls { display:none !important; }\\n          .clinic { margin: 0 0 6px 0; text-align: center; background: #fff !important; border: none !important; }\\n          .clinic img { max-height: 64px !important; }\\n          h3 { margin: 6px 0; break-after: avoid-page; }\\n\\n          /* Allow splitting to avoid large white gaps */\\n          .section-block { break-inside: auto !important; page-break-inside: auto !important; }\\n          table { page-break-inside: auto !important; }\\n          thead { display: table-header-group !important; }   /* repeat headers on new page */\\n          tfoot { display: table-footer-group !important; }\\n          tr, td, th { page-break-inside: avoid; }  \\n          .table-scroll { overflow: visible !important; }\\n          .table-scroll table { min-width: 0 !important; }\\n\\n          /* Footer/signers shouldnt split */\\n          .report-footer { page-break-inside: avoid; }\\n\\n          /* Hide Patient Summary Card on print */\\n          .ps-card { display: none !important; }\\n\\n          /* Utilities */\\n          .print-only { display: block !important; }\\n          .screen-only { display: none !important; }\\n\\n          /* PRINT  force smaller footer and signatures (overrides inline with !important) */\\n          .footer-lines { font-size: 8px !important; line-height: 1.15 !important; }   /* footer text */\\n          .report-footer { margin-top: 10px !important; }                               /* breathing room */\\n\\n          .sig-row{\\n            display: grid !important;\\n            grid-template-columns: repeat(2, minmax(0,1fr)) !important;\\n            gap: 4px 10px !important;\\n            justify-items: center !important;\\n          }\\n          .sig{\\n            text-align: center !important;\\n            background: transparent !important;\\n            border: none !important;\\n            padding: 0 !important;\\n          }\\n          .sig img{ max-height: 12px !important; margin: 0 0 2px 0 !important; }\\n          .sig strong{ font-size: 10.5px !important; line-height: 1.15 !important; }\\n          .muted{ font-size: 9.5px !important; line-height: 1.15 !important; }\\n        }\\n\\n        @media print {\\n          /* ==== A5 portrait + compact sizing ==== */\\n          @page { size: A5 portrait; margin: 6mm; }\\n\\n          :root{\\n            --font-base: 11px;\\n            --font-heading: 13px;\\n            --font-title: 13px;\\n            --row-pad: 3px;\\n            --sig-height: 22px;\\n            --logo-height: 64px;\\n          }\\n\\n          body { margin: 0; font-size: var(--font-base); }\\n\\n          .page { display: block !important; min-height: auto !important; padding: 0 !important; background: #fff !important; }\\n          .container { max-width: none; padding: 0 !important; margin: 0 !important; }\\n          .viewer-shell,\\n          .viewer-footer {\\n            padding: 0 !important;\\n            margin: 0 !important;\\n            border: none !important;\\n            border-radius: 0 !important;\\n            box-shadow: none !important;\\n            background: #fff !important;\\n          }\\n\\n          /* Hide on print */\\n          .toolbar, .controls { display: none !important; }\\n          .print-hide { display: none !important; }\\n          .screen-only { display: none !important; }\\n\\n          /* Show on print */\\n          .print-only { display: block !important; }\\n\\n          /* Header compaction */\\n          .clinic { margin: 0 0 6px 0; text-align: center; background: #fff !important; border: none !important; }\\n          .clinic img   { max-height: 54px !important; }\\n          .clinic-name  { font-size: 14px !important; line-height: 1.15; }\\n\\n          /* White paper look ONLY on print */\\n          html, body, main, #__next,\\n          .page, .container, .content,\\n          section, article,\\n          table, thead, tbody, tr, th, td {\\n            background: #fff !important;\\n          }\\n          /* strip card/border look */\\n          .page, .container, .content, section,\\n          .card, .panel, .box, .patient-head, .ps-card, .report-footer, .viewer-shell, .viewer-footer, .section-block, table {\\n            box-shadow: none !important;\\n            border-radius: 0 !important;\\n            border: none !important;\\n          }\\n\\n          /* keep subtle table lines (OPTIONAL) */\\n          table thead th { border-bottom: 1px solid rgba(0,0,0,0.08) !important; }\\n          table tbody td { border-bottom: 1px solid rgba(0,0,0,0.06) !important; }\\n\\n          /* Allow content to split across pages (avoid big white gaps) */\\n          .section-block { break-inside: auto !important; page-break-inside: auto !important; margin-bottom: 8px !important; }\\n          table { page-break-inside: auto !important; margin-bottom: 6px !important; }\\n          thead { display: table-header-group !important; }\\n          tfoot { display: table-footer-group !important; }\\n          tr, td, th { page-break-inside: avoid; }\\n          .table-scroll { overflow: visible !important; }\\n          .table-scroll table { min-width: 0 !important; }\\n\\n          /* Hide Patient Summary on print */\\n          .ps-card { display: none !important; }\\n\\n          /* Footer & signatures: smaller, centered, 2 columns */\\n          .report-footer { page-break-inside: avoid; margin-top: 10px !important; line-height: 1.2 !important; }\\n          .footer-lines  { font-size: 8.5px !important; line-height: 1.15 !important; }\\n\\n          .sig-row{\\n            display: grid !important;\\n            grid-template-columns: repeat(2, minmax(0,1fr)) !important;\\n            gap: 4px 10px !important;\\n            align-items: end !important;\\n            justify-items: center !important;\\n          }\\n          .sig{\\n            min-width: 0 !important;\\n            margin-top: 0 !important;\\n            text-align: center !important;\\n          }\\n          .sig img{ max-height: 12px !important; margin: 0 0 2px 0 !important; }\\n          .sig strong{ font-size: 10.5px !important; line-height: 1.15 !important; }\\n          .muted{ font-size: 9.5px !important; line-height: 1.15 !important; }\\n\\n          /* PRINT: a little more space above footer/signatures */\\n            table{ margin-bottom: 12px !important; }         /* was 6px */\\n            .section-block{ margin-bottom: 12px !important; }/* was 8px */\\n            .report-footer{ margin-top: 14px !important; }   /* more air */\\n\\n            /* PRINT: signatures perfectly centered under names */\\n            .sig-row{\\n              display:grid !important;\\n              grid-template-columns: repeat(2, minmax(0,1fr)) !important;\\n              column-gap:12px !important;\\n              row-gap:6px !important;\\n              justify-items:center !important;  /* centers each signer block */\\n              align-items:end !important;\\n            }\\n            .sig{\\n              display:flex !important;\\n              flex-direction:column !important;\\n              align-items:center !important;    /* centers image + text */\\n              text-align:center !important;\\n              min-width:0 !important;\\n              margin-top:0 !important;\\n            }\\n            .sig img{\\n              display:block !important;\\n              max-height:12px !important;\\n              margin:0 0 4px 0 !important;      /* small gap above the name */\\n            }\\n            .sig strong{ font-size:10.5px !important; line-height:1.15 !important; }\\n            .muted{      font-size: 9.5px !important; line-height:1.15 !important; }\\n        }\\n\\n\\n        /* --- Watermark layer --- */\\n        .page { position: relative; }\\n        .page > * { position: relative; z-index: 1; }\\n        .wm-layer { position: fixed; inset: 0; display: none; align-items: center; justify-content: center; pointer-events: none; z-index: 0; }\\n        .wm-img { width: var(--wm-size, 60vw); height: auto; opacity: var(--wm-opacity, 0.06); transform: rotate(var(--wm-angle, -30deg)); }\\n        @media print {\\n          .wm-layer { display: flex !important; }\\n          .wm-layer[data-print=\"off\"] { display: none !important; }\\n          .wm-img { opacity: var(--wm-opacity-print, 0.08); }\\n        }\\n\\n        /* Splash overlay */\\n        .splash { position: fixed; inset: 0; display: grid; place-items: center; background: #fff; z-index: 9999; opacity: 1; transition: opacity .2s ease; }\\n        .splash-inner { text-align: center; display: grid; gap: 10px; }\\n        .splash-text { font-size: 14px; color: #666; }\\n        .splash-dot { width: 6px; height: 6px; border-radius: 9999px; background: #222; margin: 6px auto 0; animation: pulse 1s ease-in-out infinite; }\\n        @keyframes pulse { 0%, 100% { transform: scale(0.8); opacity: .4; } 50% { transform: scale(1.3); opacity: 1; } }\\n\\n        /* Patient Summary Card (screen only by default) */\\n        .ps-card { border: 1px solid rgba(25,82,102,0.12); border-radius: 20px; padding: 16px; margin: 8px 0 16px; background: rgba(244,247,251,0.65); backdrop-filter: blur(4px); box-shadow: inset 0 1px 0 rgba(255,255,255,0.45); }\\n        .ps-head { display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:10px; flex-wrap:wrap; }\\n        .ps-title { font-weight: 700; font-size: 15px; color: var(--brand); }\\n        .ps-actions { display:flex; align-items:center; gap:8px; flex-wrap:wrap; }\\n        .ps-badge { font-size:11px; color:#526673; background:#fff; border:1px solid rgba(25,82,102,0.16); border-radius:999px; padding:3px 10px; box-shadow:0 4px 12px rgba(15,23,42,0.08); }\\n        .ps-toggle { border:1px solid rgba(25,82,102,0.18); background:#fff; color:var(--brand); font-size:12px; font-weight:600; padding:5px 10px; border-radius:999px; display:inline-flex; align-items:center; gap:6px; box-shadow:0 4px 10px rgba(15,23,42,0.08); transition:transform .15s ease, box-shadow .15s ease; }\\n        .ps-toggle svg { width:12px; height:12px; transition: transform .2s ease; }\\n        .ps-card.is-open .ps-toggle svg { transform: rotate(180deg); }\\n        .ps-toggle:hover{ transform: translateY(-1px); box-shadow:0 6px 12px rgba(15,23,42,0.12); }\\n        .ps-toggle:active{ transform: translateY(0); box-shadow:none; }\\n        .ps-collapsed-chips { display:flex; flex-wrap:wrap; gap:6px; margin-bottom:8px; }\\n        .ps-chip { font-size:11.5px; color:#356072; background:#fff; border:1px solid rgba(25,82,102,0.15); border-radius:999px; padding:4px 9px; box-shadow:0 3px 8px rgba(15,23,42,0.08); }\\n        .ps-body { overflow:hidden; transition:max-height .28s ease, opacity .18s ease; }\\n        .ps-body.open { max-height: 1200px; opacity:1; }\\n        .ps-body.collapsed { max-height: 0; opacity:0; pointer-events:none; }\\n        .ps-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(180px,1fr)); gap: 10px 16px; padding-top:2px; }\\n        .ps-label { color:#637685; font-size:12px; text-transform:uppercase; letter-spacing:0.03em; }\\n        .ps-value { font-weight:600; color:var(--brand); }\\n        .ps-multi { white-space:pre-wrap; line-height:1.25; }\\n        .ps-pill { display:inline-block; padding:2px 8px; border-radius:999px; font-size:12px; border:1px solid rgba(25,82,102,0.18); background:#fff; color:var(--brand); }\\n        .ps-sep { grid-column:1 / -1; height:1px; background:#d7e4ec; margin:6px 0; opacity:0.7; }\\n\\n        /* Inline loading panel (after header) */\\n        .panel-loader{\\n          margin: 14px 0;\\n          padding: 26px;\\n          border-radius: 16px;\\n          border: 1px solid rgba(25,82,102,0.08);\\n          background: linear-gradient(180deg, #ffffff 0%, #f6fbff 100%);\\n          box-shadow: 0 12px 36px rgba(15, 23, 42, 0.08);\\n          display: grid;\\n          gap: 8px;\\n          place-items: center;\\n          color: #2c5566;\\n          text-align: center;\\n        }\\n        .loader-dots{\\n          display:flex;\\n          gap:8px;\\n        }\\n        .loader-dots span{\\n          width:10px;\\n          height:10px;\\n          border-radius:999px;\\n          background:#44969b;\\n          opacity:0.25;\\n          animation: loader-pulse 1s ease-in-out infinite;\\n        }\\n        .loader-dots span:nth-child(2){ animation-delay: .12s; }\\n        .loader-dots span:nth-child(3){ animation-delay: .24s; }\\n        @keyframes loader-pulse { 0%, 100% { transform: translateY(1px); opacity: .25; } 50% { transform: translateY(-4px); opacity: 1; } }\\n        \\n      '\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                lineNumber: 673,\n                columnNumber: 7\n            }, this),\n            showSplash && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"splash\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"splash-inner\",\n                    children: [\n                        logoSrc ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                            src: logoSrc,\n                            alt: \"\",\n                            referrerPolicy: \"no-referrer\",\n                            style: {\n                                maxHeight: 72\n                            }\n                        }, void 0, false, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                            lineNumber: 1360,\n                            columnNumber: 24\n                        }, this) : null,\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"splash-text\",\n                            children: (cfg === null || cfg === void 0 ? void 0 : cfg.loading_splash_text) || \"Loading WELLSERV Portal\"\n                        }, void 0, false, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                            lineNumber: 1361,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"splash-dot\",\n                            \"aria-hidden\": true\n                        }, void 0, false, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                            lineNumber: 1362,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                    lineNumber: 1359,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                lineNumber: 1358,\n                columnNumber: 9\n            }, this),\n            !showSplash && hasWm && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"wm-layer\",\n                \"data-print\": wmShowPrint ? \"on\" : \"off\",\n                style: {\n                    display: wmShowScreen ? \"flex\" : \"none\",\n                    [\"--wm-opacity\"]: String(wmOpacityScreenEffective),\n                    [\"--wm-opacity-print\"]: String(wmOpacityPrintEffective),\n                    [\"--wm-angle\"]: \"\".concat(wmAngleDeg, \"deg\"),\n                    [\"--wm-size\"]: wmSizeEffective\n                },\n                \"aria-hidden\": \"true\",\n                children: watermarkSrc ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                    className: \"wm-img\",\n                    src: watermarkSrc,\n                    referrerPolicy: \"no-referrer\",\n                    onError: (e)=>{\n                        const img = e.currentTarget;\n                        if (watermarkFallback && img.src !== watermarkFallback) img.src = watermarkFallback;\n                        else img.style.display = \"none\";\n                    },\n                    alt: \"\"\n                }, void 0, false, {\n                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                    lineNumber: 1381,\n                    columnNumber: 13\n                }, this) : null\n            }, void 0, false, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                lineNumber: 1368,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"container content viewer-shell\",\n                style: {\n                    opacity: showSplash ? 0 : 1,\n                    pointerEvents: showSplash ? \"none\" : \"auto\"\n                },\n                children: [\n                    headerOverride ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-2\",\n                        children: headerOverride\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                        lineNumber: 1401,\n                        columnNumber: 11\n                    }, this) : (cfg.clinic_name || cfg.clinic_logo_url || cfg.clinic_address || cfg.clinic_phone) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"clinic\",\n                        style: {\n                            flexDirection: \"column\",\n                            alignItems: \"center\",\n                            textAlign: \"center\"\n                        },\n                        children: [\n                            logoSrc ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: logoSrc,\n                                alt: \"\",\n                                referrerPolicy: \"no-referrer\",\n                                style: {\n                                    display: \"block\",\n                                    margin: \"0 auto\",\n                                    maxHeight: 120\n                                },\n                                onError: (e)=>{\n                                    const img = e.currentTarget;\n                                    if (logoFallback && img.src !== logoFallback) img.src = logoFallback;\n                                    else img.style.display = \"none\";\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                lineNumber: 1406,\n                                columnNumber: 17\n                            }, this) : null,\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    cfg.clinic_name && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"clinic-name\",\n                                        children: cfg.clinic_name\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                        lineNumber: 1418,\n                                        columnNumber: 37\n                                    }, this),\n                                    cfg.clinic_address && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"clinic-sub\",\n                                        children: cfg.clinic_address\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                        lineNumber: 1419,\n                                        columnNumber: 40\n                                    }, this),\n                                    cfg.clinic_phone && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"clinic-sub\",\n                                        children: cfg.clinic_phone\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                        lineNumber: 1420,\n                                        columnNumber: 38\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                lineNumber: 1417,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                        lineNumber: 1404,\n                        columnNumber: 13\n                    }, this),\n                    !autoFetch && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"toolbar screen-only\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"searchbar\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    value: patientId,\n                                    onChange: (e)=>setPatientId(e.target.value),\n                                    onKeyDown: (e)=>{\n                                        if (e.key === \"Enter\" && !loading && patientId.trim()) {\n                                            e.preventDefault();\n                                            fetchReports(patientId);\n                                        }\n                                    },\n                                    placeholder: \"Enter Patient ID\",\n                                    style: {\n                                        padding: \"8px 10px\",\n                                        border: \"1px solid var(--border)\",\n                                        borderRadius: 6,\n                                        width: 260\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                    lineNumber: 1430,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>fetchReports(patientId),\n                                    disabled: loading || !patientId.trim(),\n                                    style: {\n                                        padding: \"8px 14px\",\n                                        borderRadius: 6,\n                                        border: \"1px solid #44969b\",\n                                        background: \"#44969b\",\n                                        color: \"#fff\"\n                                    },\n                                    children: loading ? \"Loading...\" : \"View\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                    lineNumber: 1442,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                            lineNumber: 1429,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                        lineNumber: 1428,\n                        columnNumber: 11\n                    }, this),\n                    report && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"patient-head\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"ph-name\",\n                                children: report.patient.full_name\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                lineNumber: 1456,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"ph-meta\",\n                                children: [\n                                    report.patient.sex,\n                                    \"  \",\n                                    report.patient.age,\n                                    \" yrs  DOB \",\n                                    report.patient.birthday\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                lineNumber: 1457,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                        lineNumber: 1455,\n                        columnNumber: 11\n                    }, this),\n                    report && (()=>{\n                        var _p_vitals;\n                        const p = report.patient || {};\n                        const vitalsLatest = ((_p_vitals = p.vitals) === null || _p_vitals === void 0 ? void 0 : _p_vitals.latest) || null;\n                        // Vitals & contact\n                        let htFt = p.height_ft;\n                        let htIn = p.height_inch;\n                        const ftInConverted = ftInFromCm(typeof (vitalsLatest === null || vitalsLatest === void 0 ? void 0 : vitalsLatest.height_cm) === \"number\" ? vitalsLatest.height_cm : num(vitalsLatest === null || vitalsLatest === void 0 ? void 0 : vitalsLatest.height_cm));\n                        if (ftInConverted) {\n                            htFt = ftInConverted.ft;\n                            htIn = ftInConverted.inch;\n                        }\n                        var _vitalsLatest_weight_kg;\n                        const wtKg = (_vitalsLatest_weight_kg = vitalsLatest === null || vitalsLatest === void 0 ? void 0 : vitalsLatest.weight_kg) !== null && _vitalsLatest_weight_kg !== void 0 ? _vitalsLatest_weight_kg : p.weight_kg;\n                        var _vitalsLatest_systolic_bp;\n                        const systolic = (_vitalsLatest_systolic_bp = vitalsLatest === null || vitalsLatest === void 0 ? void 0 : vitalsLatest.systolic_bp) !== null && _vitalsLatest_systolic_bp !== void 0 ? _vitalsLatest_systolic_bp : p.systolic_bp;\n                        var _vitalsLatest_diastolic_bp;\n                        const diastolic = (_vitalsLatest_diastolic_bp = vitalsLatest === null || vitalsLatest === void 0 ? void 0 : vitalsLatest.diastolic_bp) !== null && _vitalsLatest_diastolic_bp !== void 0 ? _vitalsLatest_diastolic_bp : p.diastolic_bp;\n                        const hr = vitalsLatest === null || vitalsLatest === void 0 ? void 0 : vitalsLatest.hr;\n                        const rr = vitalsLatest === null || vitalsLatest === void 0 ? void 0 : vitalsLatest.rr;\n                        const tempC = vitalsLatest === null || vitalsLatest === void 0 ? void 0 : vitalsLatest.temp_c;\n                        const o2sat = vitalsLatest === null || vitalsLatest === void 0 ? void 0 : vitalsLatest.o2sat;\n                        const vitalsTimestamp = formatVitalsTimestamp(vitalsLatest === null || vitalsLatest === void 0 ? void 0 : vitalsLatest.measured_at);\n                        var _vitalsLatest_bmi;\n                        const bmi = (_vitalsLatest_bmi = vitalsLatest === null || vitalsLatest === void 0 ? void 0 : vitalsLatest.bmi) !== null && _vitalsLatest_bmi !== void 0 ? _vitalsLatest_bmi : bmiFromFtInKg(htFt, htIn, wtKg);\n                        const bpStr = systolic && diastolic ? \"\".concat(systolic, \"/\").concat(diastolic, \" mmHg\") : \"\";\n                        const smoking = suffixIfNumeric(p.smoking_hx, \"packs/mo\");\n                        const alcohol = suffixIfNumeric(p.alcohol_hx, \"bottles/mo\");\n                        const email = (p.email || \"\").trim();\n                        const phone = (p.contact || \"\").trim();\n                        const addr = (p.address || \"\").trim();\n                        // Narratives\n                        const chief = (p.chief_complaint || \"\").trim();\n                        const hpi = (p.present_illness_history || \"\").trim();\n                        const pmh = (p.past_medical_history || \"\").trim();\n                        const psh = (p.past_surgical_history || \"\").trim();\n                        const allergies = (p.allergies_text || \"\").trim();\n                        const medsText = (p.medications_current || p.medications || \"\").trim();\n                        const famHx = (p.family_hx || p.family_history || \"\").trim();\n                        const lastUpd = (p.last_updated || \"\").trim();\n                        const hasVitals = !!htFt || !!htIn || !!wtKg || !!bmi || !!bpStr || !!smoking || !!alcohol || hr != null || rr != null || tempC != null || o2sat != null || !!vitalsTimestamp;\n                        const hasContact = !!email || !!phone || !!addr;\n                        const hasNarr = !!chief || !!hpi || !!pmh || !!psh || !!allergies || !!medsText || !!famHx;\n                        const collapsedHighlights = [];\n                        if (bpStr) collapsedHighlights.push(\"BP \".concat(bpStr));\n                        if (bmi != null) collapsedHighlights.push(\"BMI \".concat(bmi, \" \").concat(bmiClass(bmi)));\n                        if (wtKg) collapsedHighlights.push(\"Weight \".concat(withUnit(wtKg, \"kg\")));\n                        if (vitalsTimestamp) collapsedHighlights.push(\"Vitals @ \".concat(vitalsTimestamp));\n                        if (smoking) collapsedHighlights.push(\"Smoking \".concat(smoking));\n                        if (alcohol) collapsedHighlights.push(\"Alcohol \".concat(alcohol));\n                        if (collapsedHighlights.length === 0 && email) collapsedHighlights.push(\"Email \".concat(email));\n                        const visibleHighlights = collapsedHighlights.slice(0, 3);\n                        if (!hasVitals && !hasContact && !hasNarr) return null;\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                            className: \"ps-card \".concat(summaryOpen ? \"is-open\" : \"is-collapsed\"),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"ps-head\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"ps-title\",\n                                            children: \"Patient Summary\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                            lineNumber: 1528,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"ps-actions\",\n                                            children: [\n                                                lastUpd && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"ps-badge\",\n                                                    children: [\n                                                        \"Last updated: \",\n                                                        lastUpd\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                    lineNumber: 1530,\n                                                    columnNumber: 31\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    type: \"button\",\n                                                    className: \"ps-toggle\",\n                                                    onClick: ()=>setSummaryOpen((prev)=>!prev),\n                                                    \"aria-expanded\": summaryOpen,\n                                                    \"aria-controls\": summaryPanelId,\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                            viewBox: \"0 0 16 16\",\n                                                            fill: \"none\",\n                                                            stroke: \"currentColor\",\n                                                            strokeWidth: \"1.5\",\n                                                            \"aria-hidden\": \"true\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                d: \"M4 6.5 8 10l4-3.5\",\n                                                                strokeLinecap: \"round\",\n                                                                strokeLinejoin: \"round\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                                lineNumber: 1539,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                            lineNumber: 1538,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        summaryOpen ? \"Hide details\" : \"Show details\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                    lineNumber: 1531,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                            lineNumber: 1529,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                    lineNumber: 1527,\n                                    columnNumber: 15\n                                }, this),\n                                !summaryOpen && visibleHighlights.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"ps-collapsed-chips\",\n                                    children: visibleHighlights.map((txt, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"ps-chip\",\n                                            children: txt\n                                        }, idx, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                            lineNumber: 1549,\n                                            columnNumber: 21\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                    lineNumber: 1547,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"ps-body \".concat(summaryOpen ? \"open\" : \"collapsed\"),\n                                    id: summaryPanelId,\n                                    \"aria-hidden\": !summaryOpen,\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"ps-grid\",\n                                        children: [\n                                            (htFt || htIn) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-label\",\n                                                        children: \"Height\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1561,\n                                                        columnNumber: 44\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-value\",\n                                                        children: fmtFtIn(htFt, htIn)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1561,\n                                                        columnNumber: 82\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                lineNumber: 1561,\n                                                columnNumber: 39\n                                            }, this),\n                                            !!wtKg && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-label\",\n                                                        children: \"Weight\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1562,\n                                                        columnNumber: 36\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-value\",\n                                                        children: withUnit(wtKg, \"kg\")\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1562,\n                                                        columnNumber: 74\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                lineNumber: 1562,\n                                                columnNumber: 31\n                                            }, this),\n                                            bmi != null && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-label\",\n                                                        children: \"Calculated BMI\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1565,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-value\",\n                                                        children: [\n                                                            bmi,\n                                                            \" \",\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"ps-pill\",\n                                                                children: bmiClass(bmi)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                                lineNumber: 1566,\n                                                                columnNumber: 55\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1566,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                lineNumber: 1564,\n                                                columnNumber: 21\n                                            }, this),\n                                            !!bpStr && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-label\",\n                                                        children: \"Latest Known Blood Pressure\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1569,\n                                                        columnNumber: 37\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-value\",\n                                                        children: bpStr\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1569,\n                                                        columnNumber: 96\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                lineNumber: 1569,\n                                                columnNumber: 32\n                                            }, this),\n                                            hr != null && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-label\",\n                                                        children: \"Heart Rate\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1570,\n                                                        columnNumber: 40\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-value\",\n                                                        children: withUnit(hr, \"bpm\")\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1570,\n                                                        columnNumber: 82\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                lineNumber: 1570,\n                                                columnNumber: 35\n                                            }, this),\n                                            rr != null && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-label\",\n                                                        children: \"Respiratory Rate\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1571,\n                                                        columnNumber: 40\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-value\",\n                                                        children: withUnit(rr, \"/min\")\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1571,\n                                                        columnNumber: 88\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                lineNumber: 1571,\n                                                columnNumber: 35\n                                            }, this),\n                                            tempC != null && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-label\",\n                                                        children: \"Temperature\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1572,\n                                                        columnNumber: 43\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-value\",\n                                                        children: withUnit(tempC, \"C\")\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1572,\n                                                        columnNumber: 86\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                lineNumber: 1572,\n                                                columnNumber: 38\n                                            }, this),\n                                            o2sat != null && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-label\",\n                                                        children: \"O Saturation\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1573,\n                                                        columnNumber: 43\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-value\",\n                                                        children: withUnit(o2sat, \"%\")\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1573,\n                                                        columnNumber: 88\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                lineNumber: 1573,\n                                                columnNumber: 38\n                                            }, this),\n                                            vitalsTimestamp && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-label\",\n                                                        children: \"Last Vitals Recorded\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1574,\n                                                        columnNumber: 45\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-value\",\n                                                        children: vitalsTimestamp\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1574,\n                                                        columnNumber: 97\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                lineNumber: 1574,\n                                                columnNumber: 40\n                                            }, this),\n                                            !!smoking && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-label\",\n                                                        children: \"Smoking History\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1575,\n                                                        columnNumber: 39\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-value\",\n                                                        children: smoking\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1575,\n                                                        columnNumber: 86\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                lineNumber: 1575,\n                                                columnNumber: 34\n                                            }, this),\n                                            !!alcohol && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-label\",\n                                                        children: \"Alcohol History\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1576,\n                                                        columnNumber: 39\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-value\",\n                                                        children: alcohol\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1576,\n                                                        columnNumber: 86\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                lineNumber: 1576,\n                                                columnNumber: 34\n                                            }, this),\n                                            !!phone && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-label\",\n                                                        children: \"Contact Number\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1579,\n                                                        columnNumber: 37\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-value\",\n                                                        children: phone\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1579,\n                                                        columnNumber: 83\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                lineNumber: 1579,\n                                                columnNumber: 32\n                                            }, this),\n                                            !!email && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-label\",\n                                                        children: \"Email\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1580,\n                                                        columnNumber: 37\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-value\",\n                                                        children: email\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1580,\n                                                        columnNumber: 74\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                lineNumber: 1580,\n                                                columnNumber: 32\n                                            }, this),\n                                            !!addr && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-label\",\n                                                        children: \"Address\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1581,\n                                                        columnNumber: 37\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-value ps-multi\",\n                                                        children: addr\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1581,\n                                                        columnNumber: 76\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                lineNumber: 1581,\n                                                columnNumber: 32\n                                            }, this),\n                                            hasContact && hasNarr && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"ps-sep\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                lineNumber: 1583,\n                                                columnNumber: 47\n                                            }, this),\n                                            !!chief && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-label\",\n                                                        children: \"Chief Complaint\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1586,\n                                                        columnNumber: 37\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-value ps-multi\",\n                                                        children: chief\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1586,\n                                                        columnNumber: 84\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                lineNumber: 1586,\n                                                columnNumber: 32\n                                            }, this),\n                                            !!hpi && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-label\",\n                                                        children: \"Present Illness History\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1587,\n                                                        columnNumber: 37\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-value ps-multi\",\n                                                        children: hpi\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1587,\n                                                        columnNumber: 92\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                lineNumber: 1587,\n                                                columnNumber: 32\n                                            }, this),\n                                            !!pmh && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-label\",\n                                                        children: \"Past Medical History\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1588,\n                                                        columnNumber: 37\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-value ps-multi\",\n                                                        children: pmh\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1588,\n                                                        columnNumber: 89\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                lineNumber: 1588,\n                                                columnNumber: 32\n                                            }, this),\n                                            !!psh && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-label\",\n                                                        children: \"Past Surgical History\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1589,\n                                                        columnNumber: 37\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-value ps-multi\",\n                                                        children: psh\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1589,\n                                                        columnNumber: 90\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                lineNumber: 1589,\n                                                columnNumber: 32\n                                            }, this),\n                                            !!allergies && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-label\",\n                                                        children: \"Allergies\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1590,\n                                                        columnNumber: 41\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-value ps-multi\",\n                                                        children: allergies\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1590,\n                                                        columnNumber: 82\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                lineNumber: 1590,\n                                                columnNumber: 36\n                                            }, this),\n                                            !!medsText && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-label\",\n                                                        children: \"Medications\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1591,\n                                                        columnNumber: 41\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-value ps-multi\",\n                                                        children: medsText\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1591,\n                                                        columnNumber: 84\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                lineNumber: 1591,\n                                                columnNumber: 36\n                                            }, this),\n                                            !!famHx && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-label\",\n                                                        children: \"Family History\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1592,\n                                                        columnNumber: 41\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"ps-value ps-multi\",\n                                                        children: famHx\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1592,\n                                                        columnNumber: 87\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                lineNumber: 1592,\n                                                columnNumber: 36\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                        lineNumber: 1559,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                    lineNumber: 1554,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                            lineNumber: 1526,\n                            columnNumber: 13\n                        }, this);\n                    })(),\n                    ((report === null || report === void 0 ? void 0 : (_report_visit = report.visit) === null || _report_visit === void 0 ? void 0 : _report_visit.date_of_test) || (report === null || report === void 0 ? void 0 : (_report_visit1 = report.visit) === null || _report_visit1 === void 0 ? void 0 : _report_visit1.branch)) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"print-only\",\n                        style: {\n                            margin: \"12px 0 16px\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                paddingTop: 8,\n                                fontSize: 12\n                            },\n                            children: [\n                                (report === null || report === void 0 ? void 0 : (_report_visit2 = report.visit) === null || _report_visit2 === void 0 ? void 0 : _report_visit2.date_of_test) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            style: {\n                                                fontWeight: 600\n                                            },\n                                            children: \"Test date:\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                            lineNumber: 1605,\n                                            columnNumber: 19\n                                        }, this),\n                                        \" \",\n                                        formatTestDate(report.visit.date_of_test)\n                                    ]\n                                }, void 0, true),\n                                (report === null || report === void 0 ? void 0 : (_report_visit3 = report.visit) === null || _report_visit3 === void 0 ? void 0 : _report_visit3.branch) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                    children: [\n                                        \" \",\n                                        \" \",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            style: {\n                                                fontWeight: 600\n                                            },\n                                            children: \"Branch:\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                            lineNumber: 1611,\n                                            columnNumber: 26\n                                        }, this),\n                                        \" \",\n                                        report.visit.branch\n                                    ]\n                                }, void 0, true)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                            lineNumber: 1602,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                        lineNumber: 1601,\n                        columnNumber: 11\n                    }, this),\n                    report && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"controls\",\n                        children: [\n                            visitDates.length > 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"control-toggle\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"checkbox\",\n                                        checked: compareOn,\n                                        onChange: (e)=>setCompareOn(e.target.checked)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                        lineNumber: 1624,\n                                        columnNumber: 17\n                                    }, this),\n                                    \"Compare with prev. visit/s\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                lineNumber: 1623,\n                                columnNumber: 15\n                            }, this),\n                            visitDates.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"control-row\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"control-select\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"label\",\n                                                children: \"Visit date:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                lineNumber: 1636,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                value: selectedDate || \"\",\n                                                onChange: (e)=>setSelectedDate(e.target.value),\n                                                className: \"date-select\",\n                                                children: visitDates.map((d)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                        value: d,\n                                                        children: formatTestDate(d)\n                                                    }, d, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1643,\n                                                        columnNumber: 23\n                                                    }, this))\n                                            }, void 0, false, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                lineNumber: 1637,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                        lineNumber: 1635,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>window.print(),\n                                        className: \"screen-only\",\n                                        children: \"Print / Save as PDF\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                        lineNumber: 1650,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                lineNumber: 1634,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                        lineNumber: 1621,\n                        columnNumber: 11\n                    }, this),\n                    err && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            color: \"#b00020\",\n                            marginTop: 4\n                        },\n                        children: err\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                        lineNumber: 1661,\n                        columnNumber: 17\n                    }, this),\n                    showInlineLoader && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"panel-loader\",\n                        role: \"status\",\n                        \"aria-live\": \"polite\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"loader-dots\",\n                                \"aria-hidden\": true,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {}, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                        lineNumber: 1666,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {}, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                        lineNumber: 1666,\n                                        columnNumber: 28\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {}, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                        lineNumber: 1666,\n                                        columnNumber: 41\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                lineNumber: 1665,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: \"Loading patient details and results\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                lineNumber: 1668,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                        lineNumber: 1664,\n                        columnNumber: 11\n                    }, this),\n                    showNoLabsNotice && !loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            marginTop: 12,\n                            padding: \"12px 16px\",\n                            borderRadius: 12,\n                            background: \"#f8fafc\",\n                            color: \"#0f172a\"\n                        },\n                        children: \"No laboratory results yet. Patient info and vitals are shown above.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                        lineNumber: 1673,\n                        columnNumber: 11\n                    }, this),\n                    report && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: report.sections.filter((sec)=>{\n                            var _sec_items;\n                            var _sec_items_length;\n                            return ((_sec_items_length = sec === null || sec === void 0 ? void 0 : (_sec_items = sec.items) === null || _sec_items === void 0 ? void 0 : _sec_items.length) !== null && _sec_items_length !== void 0 ? _sec_items_length : 0) > 0;\n                        }).map((section)=>{\n                            const hideRF = section.name === \"Urinalysis\" || section.name === \"Fecalysis\";\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"section-block\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        children: section.name\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                        lineNumber: 1687,\n                                        columnNumber: 21\n                                    }, this),\n                                    (()=>{\n                                        const compactTable = hideRF && !compareOn; // e.g., Urinalysis/Fecalysis  fewer cols, avoid needless horizontal scroll\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"table-scroll\",\n                                            \"data-compact\": compactTable ? \"true\" : undefined,\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                                    style: {\n                                                                        textAlign: \"left\"\n                                                                    },\n                                                                    children: \"Parameter\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                                    lineNumber: 1695,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                                    style: {\n                                                                        textAlign: \"right\"\n                                                                    },\n                                                                    children: \"Result\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                                    lineNumber: 1696,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                compareOn && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                                    style: {\n                                                                        textAlign: \"right\"\n                                                                    },\n                                                                    children: \"Prev. Res.\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                                    lineNumber: 1697,\n                                                                    columnNumber: 43\n                                                                }, this),\n                                                                compareOn && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                                    style: {\n                                                                        textAlign: \"right\"\n                                                                    },\n                                                                    children: \"Latest % Change\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                                    lineNumber: 1698,\n                                                                    columnNumber: 43\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                                    style: {\n                                                                        textAlign: \"left\"\n                                                                    },\n                                                                    children: \"Unit\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                                    lineNumber: 1699,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                !hideRF && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                                    style: {\n                                                                        textAlign: \"left\"\n                                                                    },\n                                                                    children: \"Reference\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                                    lineNumber: 1700,\n                                                                    columnNumber: 41\n                                                                }, this),\n                                                                !hideRF && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                                    style: {\n                                                                        textAlign: \"left\"\n                                                                    },\n                                                                    children: \"Current Flag\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                                    lineNumber: 1701,\n                                                                    columnNumber: 41\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                            lineNumber: 1694,\n                                                            columnNumber: 27\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1693,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                                                        children: section.items.map((it)=>{\n                                                            if (!it.value) return null;\n                                                            const labelLc = String(it.label || \"\").trim().toLowerCase();\n                                                            if (labelLc === \"branch\" || labelLc === \"created at\" || labelLc === \"updated at\") {\n                                                                return null;\n                                                            }\n                                                            const refText = hideRF ? \"\" : formatRef(it.ref);\n                                                            const cur = toNum(it.value);\n                                                            const skipPrev = shouldExcludeFromPrev(it, cfg);\n                                                            const prevList = compareOn && !skipPrev ? findPrevListAny(it, 3) : [];\n                                                            const prev1Num = compareOn && !skipPrev ? findPrevNumForDelta(it) : null;\n                                                            const isRemarkRow = labelLc.startsWith(\"remark\");\n                                                            let deltaText = \"\";\n                                                            let deltaColor = \"#666\";\n                                                            if (cur != null && prev1Num) {\n                                                                const delta = cur - prev1Num.value;\n                                                                const pct = prev1Num.value !== 0 ? delta / prev1Num.value * 100 : null;\n                                                                const arrow = delta > 0 ? \"\" : delta < 0 ? \"\" : \"\";\n                                                                deltaText = \"\".concat(arrow, \" \").concat(delta > 0 ? \"+\" : \"\").concat(fmt(delta)).concat(pct != null ? \" (\".concat(pct > 0 ? \"+\" : \"\").concat(pct.toFixed(1), \"%)\") : \"\");\n                                                                deltaColor = delta > 0 ? \"#b00020\" : delta < 0 ? \"#1976d2\" : \"#666\";\n                                                            }\n                                                            // For Remarks rows, span the description across the remaining columns\n                                                            if (isRemarkRow) {\n                                                                const totalCols = 3 + // parameter + result + unit\n                                                                (compareOn ? 2 : 0) + // prev + delta\n                                                                (!hideRF ? 2 : 0); // reference + flag\n                                                                const span = totalCols - 1; // all columns except the \"Parameter\" label cell\n                                                                var _it_value;\n                                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                            children: it.label\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                                            lineNumber: 1739,\n                                                                            columnNumber: 33\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                            colSpan: span,\n                                                                            style: {\n                                                                                whiteSpace: \"normal\",\n                                                                                textAlign: \"left\",\n                                                                                lineHeight: 1.3\n                                                                            },\n                                                                            children: String((_it_value = it.value) !== null && _it_value !== void 0 ? _it_value : \"\")\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                                            lineNumber: 1740,\n                                                                            columnNumber: 33\n                                                                        }, this)\n                                                                    ]\n                                                                }, it.key, true, {\n                                                                    fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                                    lineNumber: 1738,\n                                                                    columnNumber: 31\n                                                                }, this);\n                                                            }\n                                                            var _it_value1;\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                        children: it.label\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                                        lineNumber: 1749,\n                                                                        columnNumber: 33\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                        style: {\n                                                                            textAlign: \"right\"\n                                                                        },\n                                                                        children: cur != null ? fmt(cur) : String((_it_value1 = it.value) !== null && _it_value1 !== void 0 ? _it_value1 : \"\")\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                                        lineNumber: 1750,\n                                                                        columnNumber: 33\n                                                                    }, this),\n                                                                    compareOn && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                                style: {\n                                                                                    textAlign: \"right\"\n                                                                                },\n                                                                                children: prevList.length ? prevList.map((p)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        style: {\n                                                                                            whiteSpace: \"nowrap\",\n                                                                                            fontSize: 12,\n                                                                                            lineHeight: 1.2\n                                                                                        },\n                                                                                        children: [\n                                                                                            formatPrevDate(p.date),\n                                                                                            \": \",\n                                                                                            p.num != null ? fmt(p.num) : p.raw\n                                                                                        ]\n                                                                                    }, p.date, true, {\n                                                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                                                        lineNumber: 1759,\n                                                                                        columnNumber: 43\n                                                                                    }, this)) : \"\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                                                lineNumber: 1756,\n                                                                                columnNumber: 37\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                                style: {\n                                                                                    textAlign: \"right\",\n                                                                                    color: deltaColor\n                                                                                },\n                                                                                children: deltaText\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                                                lineNumber: 1765,\n                                                                                columnNumber: 37\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                        children: it.unit || \"\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                                        lineNumber: 1769,\n                                                                        columnNumber: 33\n                                                                    }, this),\n                                                                    !hideRF && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                        children: refText\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                                        lineNumber: 1770,\n                                                                        columnNumber: 45\n                                                                    }, this),\n                                                                    !hideRF && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                        className: \"flag-cell\",\n                                                                        children: it.flag ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"flag-pill\",\n                                                                            \"data-flag\": it.flag,\n                                                                            children: it.flag === \"H\" ? \"High\" : it.flag === \"L\" ? \"Low\" : it.flag === \"A\" ? \"Alert\" : it.flag\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                                            lineNumber: 1774,\n                                                                            columnNumber: 39\n                                                                        }, this) : \"\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                                        lineNumber: 1772,\n                                                                        columnNumber: 35\n                                                                    }, this)\n                                                                ]\n                                                            }, it.key, true, {\n                                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                                lineNumber: 1748,\n                                                                columnNumber: 31\n                                                            }, this);\n                                                        })\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                        lineNumber: 1704,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                                lineNumber: 1692,\n                                                columnNumber: 27\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                            lineNumber: 1691,\n                                            columnNumber: 25\n                                        }, this);\n                                    })()\n                                ]\n                            }, section.name, true, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                lineNumber: 1686,\n                                columnNumber: 19\n                            }, this);\n                        })\n                    }, void 0, false)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                lineNumber: 1395,\n                columnNumber: 7\n            }, this),\n            showFooter && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"footer\", {\n                className: \"report-footer container viewer-footer\",\n                children: [\n                    showSigners && signers.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"sig-row\",\n                        children: signers.map((s, idx)=>{\n                            const { primary, fallback } = driveImageUrls(s.sig);\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"sig\",\n                                children: [\n                                    primary ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                        src: primary,\n                                        alt: \"\",\n                                        referrerPolicy: \"no-referrer\",\n                                        onError: (e)=>{\n                                            const img = e.currentTarget;\n                                            if (fallback && img.src !== fallback) img.src = fallback;\n                                            else img.style.display = \"none\";\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                        lineNumber: 1804,\n                                        columnNumber: 23\n                                    }, this) : null,\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                            children: s.name\n                                        }, void 0, false, {\n                                            fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                            lineNumber: 1814,\n                                            columnNumber: 26\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                        lineNumber: 1814,\n                                        columnNumber: 21\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"muted\",\n                                        children: [\n                                            s.role,\n                                            s.license ? \"  PRC \".concat(s.license) : \"\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                        lineNumber: 1815,\n                                        columnNumber: 21\n                                    }, this)\n                                ]\n                            }, idx, true, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                lineNumber: 1802,\n                                columnNumber: 19\n                            }, this);\n                        })\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                        lineNumber: 1798,\n                        columnNumber: 13\n                    }, this),\n                    footerLines.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"footer-lines\",\n                        style: {\n                            textAlign: footerAlign,\n                            marginTop: 10,\n                            lineHeight: 1.3,\n                            width: \"100%\",\n                            fontSize: \"\".concat(footerFontPx, \"px\")\n                        },\n                        children: footerLines.map((line, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    marginTop: i === 0 ? 0 : footerGapPx,\n                                    ...i === 2 || i === 3 ? {\n                                        color: \"var(--accent)\"\n                                    } : {}\n                                },\n                                children: line\n                            }, i, false, {\n                                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                                lineNumber: 1834,\n                                columnNumber: 17\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                        lineNumber: 1823,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n                lineNumber: 1796,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/pocholo/Projects/wellserv-portal/apps/web/components/ReportViewer.tsx\",\n        lineNumber: 672,\n        columnNumber: 5\n    }, this);\n}\n_s(ReportViewer, \"XmVZDP7FamnhAn3eWzpTiEldmLw=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams,\n        react__WEBPACK_IMPORTED_MODULE_1__.useId\n    ];\n});\n_c = ReportViewer;\nfunction formatVitalsTimestamp(s) {\n    if (!s) return \"\";\n    const dt = new Date(s);\n    if (Number.isNaN(dt.getTime())) return s;\n    return dt.toLocaleString(undefined, {\n        year: \"numeric\",\n        month: \"short\",\n        day: \"2-digit\",\n        hour: \"2-digit\",\n        minute: \"2-digit\"\n    });\n}\nvar _c;\n$RefreshReg$(_c, \"ReportViewer\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvUmVwb3J0Vmlld2VyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQzRFO0FBQzFCO0FBV2xELGdDQUFnQztBQUNoQyxTQUFTSyxVQUFVQyxHQUFhO0lBQzlCLElBQUksQ0FBQ0EsS0FBSyxPQUFPO0lBQ2pCLE1BQU1DLFNBQVUsT0FBT0QsSUFBSUUsR0FBRyxLQUFNO0lBQ3BDLE1BQU1DLFVBQVUsT0FBT0gsSUFBSUksSUFBSSxLQUFLO0lBQ3BDLElBQUlILFVBQVVFLFNBQVMsT0FBTyxHQUFjSCxPQUFYQSxJQUFJRSxHQUFHLEVBQUMsS0FBWSxPQUFURixJQUFJSSxJQUFJO0lBQ3BELElBQUlILFFBQVMsT0FBTyxLQUFhLE9BQVJELElBQUlFLEdBQUc7SUFDaEMsSUFBSUMsU0FBUyxPQUFPLEtBQWMsT0FBVEgsSUFBSUksSUFBSTtJQUNqQyxJQUFJSixJQUFJSyxhQUFhLEVBQUUsT0FBT0wsSUFBSUssYUFBYTtJQUMvQyxPQUFPO0FBQ1Q7QUFFQSxTQUFTQyxlQUFlQyxDQUFVO0lBQ2hDLElBQUksQ0FBQ0EsR0FBRyxPQUFPO0lBQ2YsTUFBTUMsS0FBSyxJQUFJQyxLQUFLRjtJQUNwQixJQUFJRyxPQUFPQyxLQUFLLENBQUNILEdBQUdJLE9BQU8sS0FBSyxPQUFPTCxHQUFHLDhCQUE4QjtJQUN4RSxPQUFPQyxHQUFHSyxrQkFBa0IsQ0FBQ0MsV0FBVztRQUFFQyxNQUFNO1FBQVdDLE9BQU87UUFBUUMsS0FBSztJQUFVO0FBQzNGO0FBRUEsa0NBQWtDO0FBQ2xDLE1BQU1DLE1BQU0sQ0FBQ0M7SUFDWCxNQUFNQyxJQUFJQyxPQUFPRixjQUFBQSxlQUFBQSxJQUFLLElBQUlHLE9BQU8sQ0FBQyxZQUFZLElBQUlDLElBQUk7SUFDdEQsSUFBSSxDQUFDSCxHQUFHLE9BQU87SUFDZixNQUFNSSxJQUFJZCxPQUFPVTtJQUNqQixPQUFPVixPQUFPZSxRQUFRLENBQUNELEtBQUtBLElBQUk7QUFDbEM7QUFD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SCxHQUFHSSxPQUFPLEtBQUssT0FBT1E7SUFDdkMsT0FBT1osR0FBR3FFLGNBQWMsQ0FBQy9ELFdBQVc7UUFDbENDLE1BQU07UUFDTkMsT0FBTztRQUNQQyxLQUFLO1FBQ0xvYixNQUFNO1FBQ05DLFFBQVE7SUFDVjtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvcG9jaG9sby9Qcm9qZWN0cy93ZWxsc2Vydi1wb3J0YWwvYXBwcy93ZWIvY29tcG9uZW50cy9SZXBvcnRWaWV3ZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VJZCwgdXNlTWVtbywgdXNlU3RhdGUsIHR5cGUgUmVhY3ROb2RlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VTZWFyY2hQYXJhbXMgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCI7XG5cbi8vIC0tLS0tLS0tLS0gdHlwZXMgLS0tLS0tLS0tLVxudHlwZSBSZWZJbmZvID0geyBsb3c/OiBudW1iZXI7IGhpZ2g/OiBudW1iZXI7IG5vcm1hbF92YWx1ZXM/OiBzdHJpbmcgfTtcbnR5cGUgUmVwb3J0SXRlbSA9IHsga2V5OnN0cmluZzsgbGFiZWw6c3RyaW5nOyB2YWx1ZTpzdHJpbmc7IHVuaXQ/OnN0cmluZzsgZmxhZz86XCJcInxcIkxcInxcIkhcInxcIkFcIjsgcmVmPzogUmVmSW5mbyB9O1xudHlwZSBSZXBvcnRTZWN0aW9uID0geyBuYW1lOnN0cmluZzsgaXRlbXM6UmVwb3J0SXRlbVtdIH07XG50eXBlIFBhdGllbnQgPSB7IHBhdGllbnRfaWQ6c3RyaW5nOyBmdWxsX25hbWU6c3RyaW5nOyBhZ2U6c3RyaW5nOyBzZXg6c3RyaW5nOyBiaXJ0aGRheTpzdHJpbmc7IGNvbnRhY3Q6c3RyaW5nOyBhZGRyZXNzOnN0cmluZyB9O1xudHlwZSBWaXNpdCA9IHsgZGF0ZV9vZl90ZXN0OnN0cmluZzsgYmFyY29kZTpzdHJpbmc7IG5vdGVzOnN0cmluZzsgYnJhbmNoPzogc3RyaW5nIH07XG50eXBlIFJlcG9ydCA9IHsgcGF0aWVudDpQYXRpZW50OyB2aXNpdDpWaXNpdDsgc2VjdGlvbnM6UmVwb3J0U2VjdGlvbltdIH07XG5leHBvcnQgdHlwZSBSZXBvcnRSZXNwb25zZSA9IHsgY291bnQ6bnVtYmVyOyByZXBvcnRzOlJlcG9ydFtdOyBjb25maWc/OiBSZWNvcmQ8c3RyaW5nLHN0cmluZz47IHBhdGllbnRPbmx5PzogYm9vbGVhbiB9O1xuXG4vLyAtLS0tLS0tLS0tIGhlbHBlcnMgLS0tLS0tLS0tLVxuZnVuY3Rpb24gZm9ybWF0UmVmKHJlZj86IFJlZkluZm8pIHtcbiAgaWYgKCFyZWYpIHJldHVybiBcIlwiO1xuICBjb25zdCBoYXNMb3cgID0gdHlwZW9mIHJlZi5sb3cgID09PSBcIm51bWJlclwiO1xuICBjb25zdCBoYXNIaWdoID0gdHlwZW9mIHJlZi5oaWdoID09PSBcIm51bWJlclwiO1xuICBpZiAoaGFzTG93ICYmIGhhc0hpZ2gpIHJldHVybiBgJHtyZWYubG93feKAkyR7cmVmLmhpZ2h9YDtcbiAgaWYgKGhhc0xvdykgIHJldHVybiBg4omlICR7cmVmLmxvd31gO1xuICBpZiAoaGFzSGlnaCkgcmV0dXJuIGDiiaQgJHtyZWYuaGlnaH1gO1xuICBpZiAocmVmLm5vcm1hbF92YWx1ZXMpIHJldHVybiByZWYubm9ybWFsX3ZhbHVlcztcbiAgcmV0dXJuIFwiXCI7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFRlc3REYXRlKGQ/OiBzdHJpbmcpIHtcbiAgaWYgKCFkKSByZXR1cm4gXCJcIjtcbiAgY29uc3QgZHQgPSBuZXcgRGF0ZShkKTtcbiAgaWYgKE51bWJlci5pc05hTihkdC5nZXRUaW1lKCkpKSByZXR1cm4gZDsgLy8ga2VlcCB3aGF0ZXZlciB0aGUgc2hlZXQgaGFzXG4gIHJldHVybiBkdC50b0xvY2FsZURhdGVTdHJpbmcodW5kZWZpbmVkLCB7IHllYXI6IFwibnVtZXJpY1wiLCBtb250aDogXCJsb25nXCIsIGRheTogXCJudW1lcmljXCIgfSk7XG59XG5cbi8vIC0tLSBQYXRpZW50IFN1bW1hcnkgaGVscGVycyAtLS1cbmNvbnN0IG51bSA9ICh4OiBhbnkpOiBudW1iZXIgfCBudWxsID0+IHtcbiAgY29uc3QgcyA9IFN0cmluZyh4ID8/IFwiXCIpLnJlcGxhY2UoL1teXFxkLi1dL2csIFwiXCIpLnRyaW0oKTtcbiAgaWYgKCFzKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgbiA9IE51bWJlcihzKTtcbiAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZShuKSA/IG4gOiBudWxsO1xufTtcbmNvbnN0IGhlaWdodE0gPSAoZnQ/OiBhbnksIGluY2g/OiBhbnkpOiBudW1iZXIgfCBudWxsID0+IHtcbiAgY29uc3QgZiA9IG51bShmdCkgPz8gMCwgaSA9IG51bShpbmNoKSA/PyAwO1xuICBjb25zdCB0b3RhbEluID0gZiAqIDEyICsgaTtcbiAgcmV0dXJuIHRvdGFsSW4gPiAwID8gdG90YWxJbiAqIDAuMDI1NCA6IG51bGw7XG59O1xuY29uc3QgYm1pRnJvbUZ0SW5LZyA9IChmdD86IGFueSwgaW5jaD86IGFueSwga2c/OiBhbnkpOiBudW1iZXIgfCBudWxsID0+IHtcbiAgY29uc3QgbSA9IGhlaWdodE0oZnQsIGluY2gpO1xuICBjb25zdCB3ID0gbnVtKGtnKTtcbiAgaWYgKCFtIHx8ICF3KSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIE1hdGgucm91bmQoKHcgLyAobSAqIG0pKSAqIDEwKSAvIDEwO1xufTtcbmNvbnN0IGJtaUNsYXNzID0gKGJtaTogbnVtYmVyKTogc3RyaW5nID0+IHtcbiAgaWYgKGJtaSA8IDE4LjUpIHJldHVybiBcIlVuZGVyd2VpZ2h0XCI7XG4gIGlmIChibWkgPCAyNSkgcmV0dXJuIFwiTm9ybWFsXCI7XG4gIGlmIChibWkgPCAzMCkgcmV0dXJuIFwiT3ZlcndlaWdodFwiO1xuICByZXR1cm4gXCJPYmVzZVwiO1xufTtcbmNvbnN0IGZtdEZ0SW4gPSAoZnQ/OiBhbnksIGluY2g/OiBhbnkpOiBzdHJpbmcgPT4ge1xuICBjb25zdCBmID0gbnVtKGZ0KSwgaSA9IG51bShpbmNoKTtcbiAgaWYgKGYgPT0gbnVsbCAmJiBpID09IG51bGwpIHJldHVybiBcIlwiO1xuICByZXR1cm4gYCR7ZiA/PyAwfeKAsiAke2kgPz8gMH3igLNgO1xufTtcbmNvbnN0IGZ0SW5Gcm9tQ20gPSAoY20/OiBudW1iZXIgfCBudWxsKTogeyBmdDogbnVtYmVyOyBpbmNoOiBudW1iZXIgfSB8IG51bGwgPT4ge1xuICBpZiAoY20gPT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gIGNvbnN0IHRvdGFsSW4gPSBjbSAvIDIuNTQ7XG4gIGNvbnN0IGZ0ID0gTWF0aC5mbG9vcih0b3RhbEluIC8gMTIpO1xuICBjb25zdCBpbmNoID0gTWF0aC5yb3VuZCh0b3RhbEluIC0gZnQgKiAxMik7XG4gIHJldHVybiB7IGZ0LCBpbmNoIH07XG59O1xuY29uc3Qgd2l0aFVuaXQgPSAodjogYW55LCB1OiBzdHJpbmcpOiBzdHJpbmcgPT5cbiAgU3RyaW5nKHYgPz8gXCJcIikudG9TdHJpbmcoKS50cmltKCkgPyBgJHt2fSAke3V9YCA6IFwiXCI7XG5jb25zdCBzdWZmaXhJZk51bWVyaWMgPSAodjogYW55LCBzdWZmaXg6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHMgPSBTdHJpbmcodiA/PyBcIlwiKS50cmltKCk7XG4gIGlmICghcykgcmV0dXJuIFwiXCI7XG4gIHJldHVybiBudW0ocykgIT0gbnVsbCA/IGAke3N9ICR7c3VmZml4fWAgOiBzOyAvLyBhY2NlcHQgZnJlZSB0ZXh0IHRvb1xufTtcblxuLy8gRXhhY3Qga2V5cyB5b3UgbmV2ZXIgd2FudCB0byBhcHBlYXIgaW4gXCJQcmV2XCJcbmNvbnN0IEVYQ0xVREVfRVhBQ1RfS0VZUyA9IG5ldyBTZXQoW1xuICBcImNoZW1fcmVtYXJrc1wiLFxuICBcImhlbWFfcmVtYXJrc1wiLFxuICBcInVhX3JlbWFya3NcIixcbiAgXCJmYV9yZW1hcmtzXCIsXG4gIFwic2Vyb19yZW1hcmtzXCIsXG5dKTtcblxuLy8gT3B0aW9uYWwgZXhhY3QgbGFiZWxzIHRvIGV4Y2x1ZGUgKGNvdmVycyBsaW5lcyBsaWtlIFwiUkVTVUxUUy9TXCIsIFwiUmVtYXJrc1wiKVxuY29uc3QgRVhDTFVERV9FWEFDVF9MQUJFTFMgPSBuZXcgU2V0KFtcInJlbWFya3NcIiwgXCJyZXN1bHRzXCIsIFwicmVzdWx0XCIsIFwicmVzdWx0cy9zXCJdKTtcblxuZnVuY3Rpb24gc2hvdWxkRXhjbHVkZUZyb21QcmV2KGl0OiBSZXBvcnRJdGVtLCBjZmc/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KTogYm9vbGVhbiB7XG4gIGNvbnN0IGtleVJhdyA9IFN0cmluZyhpdC5rZXkgfHwgXCJcIikudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IGxhYmVsUmF3ID0gU3RyaW5nKGl0LmxhYmVsIHx8IFwiXCIpLnRyaW0oKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1s6XS9nLCBcIlwiKTtcbiAgaWYgKEVYQ0xVREVfRVhBQ1RfS0VZUy5oYXMoa2V5UmF3KSkgcmV0dXJuIHRydWU7XG4gIGlmIChFWENMVURFX0VYQUNUX0xBQkVMUy5oYXMobGFiZWxSYXcpKSByZXR1cm4gdHJ1ZTtcblxuICBjb25zdCBjZmdLZXlzID0gKGNmZz8ucHJldl9leGNsdWRlX2tleXMgfHwgXCJcIilcbiAgICAuc3BsaXQoXCIsXCIpXG4gICAgLm1hcChzID0+IHMudHJpbSgpLnRvTG93ZXJDYXNlKCkpXG4gICAgLmZpbHRlcihCb29sZWFuKTtcbiAgaWYgKGNmZ0tleXMuaW5jbHVkZXMoa2V5UmF3KSkgcmV0dXJuIHRydWU7XG5cbiAgY29uc3Qgbm9ybSA9IChzPzogc3RyaW5nKSA9PlxuICAgIFN0cmluZyhzIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvW19cXC06Ll0rL2csIFwiIFwiKS5yZXBsYWNlKC9cXHMrL2csIFwiIFwiKS50cmltKCk7XG4gIGNvbnN0IGxhYmVsID0gbm9ybShpdC5sYWJlbCk7XG4gIGNvbnN0IGtleU5vcm0gPSBub3JtKGl0LmtleSk7XG4gIGNvbnN0IGJ1aWx0aW5zID0gW1wicmVtYXJrXCIsIFwicmVtYXJrc1wiLCBcIm5vdGVcIiwgXCJub3Rlc1wiLCBcImNvbW1lbnRcIiwgXCJjb21tZW50c1wiLCBcImludGVycHJldGF0aW9uXCJdO1xuICBpZiAoYnVpbHRpbnMuc29tZSh0ID0+IGxhYmVsLmluY2x1ZGVzKHQpIHx8IGtleU5vcm0uaW5jbHVkZXModCkpKSByZXR1cm4gdHJ1ZTtcblxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIHBhcnNlIGEgbnVtZXJpYyBzdHJpbmdcbmZ1bmN0aW9uIHRvTnVtKHM/OiBzdHJpbmcpOiBudW1iZXIgfCBudWxsIHtcbiAgY29uc3QgdCA9IFN0cmluZyhzID8/IFwiXCIpLnJlcGxhY2UoLywvZywgXCJcIikudHJpbSgpO1xuICBjb25zdCBtID0gdC5tYXRjaCgvXlstK10/XFxkKlxcLj9cXGQrJC8pO1xuICBpZiAoIW0pIHJldHVybiBudWxsO1xuICBjb25zdCBuID0gTnVtYmVyKG1bMF0pO1xuICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKG4pID8gbiA6IG51bGw7XG59XG5jb25zdCBmbXQgPSAobjogbnVtYmVyKSA9PiBuLnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwgeyBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDIgfSk7XG5cbi8vIEZvb3RlciBsaW5lcyBmcm9tIGNvbmZpZ1xuZnVuY3Rpb24gZ2V0Rm9vdGVyTGluZXMoY2ZnOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHwgdW5kZWZpbmVkKTogc3RyaW5nW10ge1xuICBpZiAoIWNmZykgcmV0dXJuIFtdO1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoY2ZnKS5maWx0ZXIoayA9PiAvXnJlcG9ydF9mb290ZXJfbGluZVxcZCskL2kudGVzdChrKSk7XG4gIGtleXMuc29ydCgoYSwgYikgPT4ge1xuICAgIGNvbnN0IG5hID0gcGFyc2VJbnQoYS5tYXRjaCgvXFxkKy8pIVswXSwgMTApO1xuICAgIGNvbnN0IG5iID0gcGFyc2VJbnQoYi5tYXRjaCgvXFxkKy8pIVswXSwgMTApO1xuICAgIHJldHVybiBuYSAtIG5iO1xuICB9KTtcbiAgY29uc3QgbGluZXM6IHN0cmluZ1tdID0gW107XG4gIGZvciAoY29uc3QgayBvZiBrZXlzKSB7XG4gICAgY29uc3QgcmF3ID0gKGNmZ1trXSA/PyBcIlwiKS50b1N0cmluZygpLnRyaW0oKTtcbiAgICBpZiAoIXJhdykgY29udGludWU7XG4gICAgcmF3LnNwbGl0KC9cXHI/XFxuLykubWFwKHMgPT4gcy50cmltKCkpLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKHMgPT4gbGluZXMucHVzaChzKSk7XG4gIH1cbiAgcmV0dXJuIGxpbmVzO1xufVxuXG5mdW5jdGlvbiBleHRyYWN0RHJpdmVJZCh1cmw/OiBzdHJpbmcpIHtcbiAgY29uc3QgdSA9ICh1cmwgfHwgXCJcIikudHJpbSgpO1xuICBpZiAoIXUpIHJldHVybiBcIlwiO1xuICBjb25zdCB1YyA9IHUubWF0Y2goL1s/Jl1pZD0oW14mXSspLyk7XG4gIGlmICh1Yz8uWzFdKSByZXR1cm4gdWNbMV07XG4gIGNvbnN0IGZpbGUgPSB1Lm1hdGNoKC9cXC9maWxlXFwvZFxcLyhbXi9dKykvKTtcbiAgaWYgKGZpbGU/LlsxXSkgcmV0dXJuIGZpbGVbMV07XG4gIGlmICgvXlthLXpBLVowLTlfLV17MjAsfSQvLnRlc3QodSkpIHJldHVybiB1O1xuICByZXR1cm4gXCJcIjtcbn1cbmZ1bmN0aW9uIGRyaXZlSW1hZ2VVcmxzKHVybD86IHN0cmluZykge1xuICBjb25zdCBpZCA9IGV4dHJhY3REcml2ZUlkKHVybCk7XG4gIGlmICghaWQpIHJldHVybiB7IHByaW1hcnk6IFwiXCIsIGZhbGxiYWNrOiBcIlwiIH07XG4gIHJldHVybiB7XG4gICAgcHJpbWFyeTogYGh0dHBzOi8vZHJpdmUuZ29vZ2xlLmNvbS91Yz9leHBvcnQ9dmlldyZpZD0ke2lkfWAsXG4gICAgZmFsbGJhY2s6IGBodHRwczovL2xoMy5nb29nbGV1c2VyY29udGVudC5jb20vZC8ke2lkfWAsXG4gIH07XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFByZXZEYXRlKHM6IHN0cmluZyk6IHN0cmluZyB7XG4gIGxldCB5ID0gMCwgbSA9IDAsIGQgPSAwO1xuICBpZiAoL15cXGR7NH0tXFxkezJ9LVxcZHsyfSQvLnRlc3QocykpIHtcbiAgICBjb25zdCBbeXksIG1tLCBkZF0gPSBzLnNwbGl0KFwiLVwiKS5tYXAoTnVtYmVyKTtcbiAgICB5ID0geXk7IG0gPSBtbTsgZCA9IGRkO1xuICB9IGVsc2UgaWYgKC9eXFxkezEsMn1cXC9cXGR7MSwyfVxcL1xcZHs0fSQvLnRlc3QocykpIHtcbiAgICBjb25zdCBbbW0sIGRkLCB5eV0gPSBzLnNwbGl0KFwiL1wiKS5tYXAoTnVtYmVyKTtcbiAgICB5ID0geXk7IG0gPSBtbTsgZCA9IGRkO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGR0ID0gbmV3IERhdGUocyk7XG4gICAgaWYgKCFpc05hTihkdC5nZXRUaW1lKCkpKSB7XG4gICAgICB5ID0gZHQuZ2V0RnVsbFllYXIoKTsgbSA9IGR0LmdldE1vbnRoKCkgKyAxOyBkID0gZHQuZ2V0RGF0ZSgpO1xuICAgIH1cbiAgfVxuICBjb25zdCBwYWQyID0gKG46IG51bWJlcikgPT4gU3RyaW5nKG4pLnBhZFN0YXJ0KDIsIFwiMFwiKTtcbiAgY29uc3QgeXkyID0gU3RyaW5nKHkpLnNsaWNlKC0yKTtcbiAgcmV0dXJuIGAke3BhZDIobSl9LyR7cGFkMihkKX0vJyR7eXkyfWA7XG59XG5cbmZ1bmN0aW9uIGdldFNpZ25lcnNGcm9tQ29uZmlnKGNmZzogUmVjb3JkPHN0cmluZyxzdHJpbmc+KSB7XG4gIGNvbnN0IHJtdHM6IEFycmF5PHsgcm9sZTogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IGxpY2Vuc2U/OiBzdHJpbmc7IHNpZz86IHN0cmluZyB9PiA9IFtdO1xuICBjb25zdCBwdXNoID0gKG46IHN0cmluZywgbDogc3RyaW5nLCBzOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBuYW1lID0gKGNmZ1tuXSB8fCBcIlwiKS50cmltKCk7XG4gICAgaWYgKCFuYW1lKSByZXR1cm47XG4gICAgcm10cy5wdXNoKHsgcm9sZTogXCJSTVRcIiwgbmFtZSwgbGljZW5zZTogKGNmZ1tsXSB8fCBcIlwiKS50cmltKCksIHNpZzogKGNmZ1tzXSB8fCBcIlwiKS50cmltKCkgfSk7XG4gIH07XG4gIHB1c2goXCJybXRfbmFtZVwiLCBcInJtdF9saWNlbnNlXCIsIFwicm10X3NpZ25hdHVyZV91cmxcIik7XG4gIGZvciAobGV0IGkgPSAxOyBpIDw9IDY7IGkrKykgcHVzaChgcm10JHtpfV9uYW1lYCwgYHJtdCR7aX1fbGljZW5zZWAsIGBybXQke2l9X3NpZ25hdHVyZV91cmxgKTtcblxuICBjb25zdCBwYXRob05hbWUgPSAoY2ZnLnBhdGhvX25hbWUgfHwgXCJcIikudHJpbSgpO1xuICBjb25zdCBwYXRob3MgPSBwYXRob05hbWVcbiAgICA/IFt7IHJvbGU6IFwiUGF0aG9sb2dpc3RcIiwgbmFtZTogcGF0aG9OYW1lLCBsaWNlbnNlOiAoY2ZnLnBhdGhvX2xpY2Vuc2UgfHwgXCJcIikudHJpbSgpLCBzaWc6IChjZmcucGF0aG9fc2lnbmF0dXJlX3VybCB8fCBcIlwiKS50cmltKCkgfV1cbiAgICA6IFtdO1xuICByZXR1cm4geyBybXRzLCBwYXRob3MgfTtcbn1cblxuZnVuY3Rpb24gdG9JbWFnZVVybCh1cmw/OiBzdHJpbmcpIHtcbiAgaWYgKCF1cmwpIHJldHVybiBcIlwiO1xuICBjb25zdCBtID0gdXJsLm1hdGNoKC9bLVxcd117MjUsfS8pO1xuICByZXR1cm4gbSA/IGBodHRwczovL2RyaXZlLmdvb2dsZS5jb20vdWM/ZXhwb3J0PXZpZXcmaWQ9JHttWzBdfWAgOiB1cmw7XG59XG5cbmZ1bmN0aW9uIHRzKGQ/OiBzdHJpbmcgfCBudWxsKTogbnVtYmVyIHtcbiAgaWYgKCFkKSByZXR1cm4gMDtcbiAgY29uc3QgcyA9IFN0cmluZyhkKS50cmltKCk7XG4gIGNvbnN0IHQgPSBEYXRlLnBhcnNlKHMpO1xuICBpZiAoIU51bWJlci5pc05hTih0KSkgcmV0dXJuIHQ7XG4gIGNvbnN0IG0gPSBzLm1hdGNoKC9eKFxcZHsxLDJ9KVtcXC9cXC1dKFxcZHsxLDJ9KVtcXC9cXC1dKFxcZHsyLDR9KSQvKTtcbiAgaWYgKG0pIHtcbiAgICBjb25zdCBhID0gcGFyc2VJbnQobVsxXSwgMTApO1xuICAgIGNvbnN0IGIgPSBwYXJzZUludChtWzJdLCAxMCk7XG4gICAgY29uc3QgeSA9IG1bM10ubGVuZ3RoID09PSAyID8gMjAwMCArIHBhcnNlSW50KG1bM10sIDEwKSA6IHBhcnNlSW50KG1bM10sIDEwKTtcbiAgICBjb25zdCBpc0RNWSA9IGEgPiAxMjtcbiAgICBjb25zdCBtb250aCA9IChpc0RNWSA/IGIgOiBhKSAtIDE7XG4gICAgY29uc3QgZGF5ICAgPSBpc0RNWSA/IGEgOiBiO1xuICAgIHJldHVybiBuZXcgRGF0ZSh5LCBtb250aCwgZGF5KS5nZXRUaW1lKCk7XG4gIH1cbiAgcmV0dXJuIDA7XG59XG5cbnR5cGUgUmVwb3J0Vmlld2VyUHJvcHMgPSB7XG4gIGluaXRpYWxQYXRpZW50SWQ/OiBzdHJpbmc7XG4gIGFwaVBhdGg/OiBzdHJpbmc7XG4gIGF1dG9GZXRjaD86IGJvb2xlYW47XG4gIHVzZVNlc3Npb24/OiBib29sZWFuOyBcbiAgc2Vzc2lvblBhdGllbnRJZD86IHN0cmluZzsgICAgIC8vIG9wdGlvbmFsLCB3aGVuIHBhcmVudCBhbHJlYWR5IGtub3dzIHRoZSBzZXNzaW9uIFBJRFxuXG4gIC8vIE5FVyAob3B0aW9uYWwsIG5vbi1icmVha2luZyk6XG4gIGhlYWRlck92ZXJyaWRlPzogUmVhY3ROb2RlOyAgIC8vIGN1c3RvbSBoZWFkZXIgSlNYIGZyb20gcGFyZW50XG4gIHdhdGVybWFya1NpemVQeD86IG51bWJlcjsgICAgIC8vIGUuZy4sIDMyMCAob3ZlcnJpZGVzIHNpemUgZm9yIHNjcmVlbi9wcmludClcbiAgd2F0ZXJtYXJrT3BhY2l0eT86IG51bWJlcjsgICAgLy8gZS5nLiwgMC4wNSAoYXBwbGllcyB0byBzY3JlZW4gJiBwcmludClcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJlcG9ydFZpZXdlcihwcm9wczogUmVwb3J0Vmlld2VyUHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGluaXRpYWxQYXRpZW50SWQsXG4gICAgYXBpUGF0aCA9IFwiL2FwaS9wYXRpZW50LXJlc3VsdHNcIixcbiAgICBhdXRvRmV0Y2ggPSBmYWxzZSxcbiAgICB1c2VTZXNzaW9uID0gZmFsc2UsICAgICAgICAgIC8vIGlmIHRydWUsIGhpZGVzIHBhdGllbnQgSUQgaW5wdXQgKGV4cGVjdHMgc2Vzc2lvbiB0byBwcm92aWRlIGl0KVxuICAgIHNlc3Npb25QYXRpZW50SWQgPSBcIlwiLFxuXG4gICAgLy8gTkVXIG92ZXJyaWRlc1xuICAgIGhlYWRlck92ZXJyaWRlLFxuICAgIHdhdGVybWFya1NpemVQeCxcbiAgICB3YXRlcm1hcmtPcGFjaXR5LFxuICB9ID0gcHJvcHM7XG5cbiAgY29uc3Qgc2VhcmNoUGFyYW1zID0gdXNlU2VhcmNoUGFyYW1zKCk7XG4gIGNvbnN0IHNlYXJjaFBhdGllbnRJZCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghc2VhcmNoUGFyYW1zKSByZXR1cm4gXCJcIjtcbiAgICBjb25zdCByYXcgPSAoc2VhcmNoUGFyYW1zLmdldChcInBhdGllbnRfaWRcIikgfHwgc2VhcmNoUGFyYW1zLmdldChcInBpZFwiKSB8fCBcIlwiKS50cmltKCk7XG4gICAgcmV0dXJuIHJhdyA/IHJhdy50b1VwcGVyQ2FzZSgpIDogXCJcIjtcbiAgfSwgW3NlYXJjaFBhcmFtc10pO1xuXG4gIGNvbnN0IG5vcm1hbGl6ZWRJbml0aWFsSWQgPSAoaW5pdGlhbFBhdGllbnRJZCB8fCBcIlwiKS50cmltKCk7XG4gIGNvbnN0IG5vcm1hbGl6ZWRTZXNzaW9uSWQgPSAoc2Vzc2lvblBhdGllbnRJZCB8fCBcIlwiKS50cmltKCk7XG5cbiAgY29uc3QgW3BhdGllbnRJZCwgc2V0UGF0aWVudElkXSA9IHVzZVN0YXRlKG5vcm1hbGl6ZWRJbml0aWFsSWQgfHwgbm9ybWFsaXplZFNlc3Npb25JZCB8fCBzZWFyY2hQYXRpZW50SWQpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbmV4dCA9IHNlYXJjaFBhdGllbnRJZCB8fCBub3JtYWxpemVkSW5pdGlhbElkIHx8IG5vcm1hbGl6ZWRTZXNzaW9uSWQgfHwgXCJcIjtcbiAgICBpZiAobmV4dCAmJiBuZXh0ICE9PSBwYXRpZW50SWQpIHNldFBhdGllbnRJZChuZXh0KTtcbiAgfSwgW3NlYXJjaFBhdGllbnRJZCwgbm9ybWFsaXplZEluaXRpYWxJZCwgbm9ybWFsaXplZFNlc3Npb25JZCwgcGF0aWVudElkXSk7XG5cbiAgY29uc3QgW2RhdGEsIHNldERhdGFdID0gdXNlU3RhdGU8UmVwb3J0UmVzcG9uc2UgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyLCBzZXRFcnJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtzZWxlY3RlZERhdGUsIHNldFNlbGVjdGVkRGF0ZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbYm9vdENmZywgc2V0Qm9vdENmZ10gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjb21wYXJlT24sIHNldENvbXBhcmVPbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzdW1tYXJ5T3Blbiwgc2V0U3VtbWFyeU9wZW5dID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IHN1bW1hcnlQYW5lbElkID0gdXNlSWQoKTtcbiAgLy8gU3BsYXNoIC8gcHJlbG9hZCBzdGF0ZXNcbiAgY29uc3QgW2Jvb3RMb2FkZWQsIHNldEJvb3RMb2FkZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9nb0xvYWRlZCwgc2V0TG9nb0xvYWRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt3YXRlcm1hcmtMb2FkZWQsIHNldFdhdGVybWFya0xvYWRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzcGxhc2hUaW1lZE91dCwgc2V0U3BsYXNoVGltZWRPdXRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGlnbm9yZSA9IGZhbHNlO1xuICAgIChhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcIi9hcGkvY29uZmlnXCIsIHsgY2FjaGU6IFwibm8tc3RvcmVcIiB9KTtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICAgIGlmICghaWdub3JlICYmIGpzb24/LmNvbmZpZykgc2V0Qm9vdENmZyhqc29uLmNvbmZpZyBhcyBSZWNvcmQ8c3RyaW5nLHN0cmluZz4pO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHt9XG4gICAgICBmaW5hbGx5IHtcbiAgICAgICAgaWYgKCFpZ25vcmUpIHNldEJvb3RMb2FkZWQodHJ1ZSk7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICByZXR1cm4gKCkgPT4geyBpZ25vcmUgPSB0cnVlOyB9O1xuICB9LCBbXSk7XG5cbiAgY29uc3QgY2ZnID0geyAuLi4oYm9vdENmZyB8fCB7fSksIC4uLihkYXRhPy5jb25maWcgfHwge30pIH0gYXMgUmVjb3JkPHN0cmluZyxzdHJpbmc+O1xuICBjb25zdCByZXBvcnRzID0gZGF0YT8ucmVwb3J0cyA/PyBbXTtcbiAgY29uc3QgcGF0aWVudE9ubHkgPSBkYXRhPy5wYXRpZW50T25seSA9PT0gdHJ1ZTtcblxuICAvLyBEYXNoYm9hcmQgZm9vdGVyIHZpc2liaWxpdHkgdG9nZ2xlc1xuICBjb25zdCBzaG93Rm9vdGVyT25EYXNoYm9hcmQgPSAoY2ZnPy5mb290ZXJfc2hvd19vbl9kYXNoYm9hcmQgfHwgXCJcIikudG9Mb3dlckNhc2UoKSA9PT0gXCJ0cnVlXCI7XG4gIGNvbnN0IHNob3dTaWduZXJzT25EYXNoYm9hcmQgPSAoY2ZnPy5mb290ZXJfc2hvd19zaWduZXJzX29uX2Rhc2hib2FyZCB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpID09PSBcInRydWVcIjtcbiAgY29uc3QgaGFzUmVwb3J0ID0gKHJlcG9ydHM/Lmxlbmd0aCA/PyAwKSA+IDA7XG4gIGNvbnN0IGhhc0xhYlNlY3Rpb25zID0gdXNlTWVtbyhcbiAgICAoKSA9PiByZXBvcnRzLnNvbWUoKHI6IGFueSkgPT4gQXJyYXkuaXNBcnJheShyPy5zZWN0aW9ucykgJiYgci5zZWN0aW9ucy5zb21lKChzOiBhbnkpID0+IChzPy5pdGVtcz8ubGVuZ3RoID8/IDApID4gMCkpLFxuICAgIFtyZXBvcnRzXVxuICApO1xuICBjb25zdCBzaG93Rm9vdGVyID0gaGFzTGFiU2VjdGlvbnMgJiYgKGhhc1JlcG9ydCB8fCBzaG93Rm9vdGVyT25EYXNoYm9hcmQpO1xuICBjb25zdCBzaG93U2lnbmVycyA9IGhhc0xhYlNlY3Rpb25zICYmIChoYXNSZXBvcnQgfHwgc2hvd1NpZ25lcnNPbkRhc2hib2FyZCk7XG5cbiAgLy8gRm9vdGVyICsgc3R5bGUga25vYnNcbiAgY29uc3QgZm9vdGVyTGluZXMgPSBnZXRGb290ZXJMaW5lcyhjZmcpO1xuICBjb25zdCBmb290ZXJBbGlnbiA9ICgoY2ZnPy5yZXBvcnRfZm9vdGVyX2FsaWduID8/IFwiY2VudGVyXCIpLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSBhcyBcImxlZnRcIiB8IFwiY2VudGVyXCIgfCBcInJpZ2h0XCIpO1xuICBjb25zdCBmb290ZXJGb250UHggPSBOdW1iZXIoY2ZnPy5yZXBvcnRfZm9vdGVyX2ZvbnRfcHgpIHx8IDEwO1xuICBjb25zdCBmb290ZXJHYXBQeCAgPSBOdW1iZXIoY2ZnPy5yZXBvcnRfZm9vdGVyX2dhcF9weCkgIHx8IDQ7XG5cbiAgLy8gV2F0ZXJtYXJrIGNvbmZpZ1xuICBjb25zdCB7IHByaW1hcnk6IHdtUHJpbWFyeSwgZmFsbGJhY2s6IHdtRmFsbGJhY2sgfSA9IGRyaXZlSW1hZ2VVcmxzKGNmZz8ud2F0ZXJtYXJrX2ltYWdlX3VybCk7XG4gIGNvbnN0IHdtSW1nVXJsID0gd21QcmltYXJ5IHx8IHdtRmFsbGJhY2s7XG5cbiAgY29uc3Qgd21TaG93U2NyZWVuID0gKGNmZz8ud2F0ZXJtYXJrX3Nob3dfZGFzaGJvYXJkIHx8IFwidHJ1ZVwiKS50b0xvd2VyQ2FzZSgpID09PSBcInRydWVcIjtcbiAgY29uc3Qgd21TaG93UHJpbnQgID0gKGNmZz8ud2F0ZXJtYXJrX3Nob3dfcHJpbnQgICAgfHwgXCJ0cnVlXCIpLnRvTG93ZXJDYXNlKCkgPT09IFwidHJ1ZVwiO1xuICBjb25zdCB3bU9wYWNpdHlTY3JlZW4gPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBOdW1iZXIoY2ZnPy53YXRlcm1hcmtfb3BhY2l0eV9zY3JlZW4gfHwgMC4xMikpKTtcbiAgY29uc3Qgd21PcGFjaXR5UHJpbnQgID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgTnVtYmVyKGNmZz8ud2F0ZXJtYXJrX29wYWNpdHlfcHJpbnQgIHx8IDAuMDgpKSk7XG4gIGNvbnN0IHdtQW5nbGVEZWcgPSBOdW1iZXIoY2ZnPy53YXRlcm1hcmtfYW5nbGVfZGVnIHx8IC0zMCk7XG4gIGNvbnN0IHdtU2l6ZSA9IChjZmc/LndhdGVybWFya19zaXplIHx8IFwiNDB2d1wiKTtcblxuICAvLyAtLS0gUHJvcCBvdmVycmlkZXMgKG9wdGlvbmFsKSAtLS1cbiAgY29uc3Qgd21TaXplRWZmZWN0aXZlID1cbiAgICB0eXBlb2Ygd2F0ZXJtYXJrU2l6ZVB4ID09PSBcIm51bWJlclwiID8gYCR7d2F0ZXJtYXJrU2l6ZVB4fXB4YCA6IHdtU2l6ZTtcblxuICBjb25zdCB3bU9wYWNpdHlTY3JlZW5FZmZlY3RpdmUgPVxuICAgIHR5cGVvZiB3YXRlcm1hcmtPcGFjaXR5ID09PSBcIm51bWJlclwiID8gd2F0ZXJtYXJrT3BhY2l0eSA6IHdtT3BhY2l0eVNjcmVlbjtcblxuICBjb25zdCB3bU9wYWNpdHlQcmludEVmZmVjdGl2ZSA9XG4gICAgdHlwZW9mIHdhdGVybWFya09wYWNpdHkgPT09IFwibnVtYmVyXCIgPyB3YXRlcm1hcmtPcGFjaXR5IDogd21PcGFjaXR5UHJpbnQ7XG5cbiAgY29uc3Qgc2hvd1Zpc2l0Tm90ZXMgPSAoY2ZnPy5zaG93X3Zpc2l0X25vdGVzIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCkgPT09IFwidHJ1ZVwiO1xuXG4gIC8vIFZpc2l0c1xuICBjb25zdCB2aXNpdERhdGVzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgZGF0ZXMgPSBBcnJheS5mcm9tKFxuICAgICAgbmV3IFNldChcbiAgICAgICAgcmVwb3J0c1xuICAgICAgICAgIC5tYXAoKHI6IGFueSkgPT4gU3RyaW5nKHI/LnZpc2l0Py5kYXRlX29mX3Rlc3QgPz8gXCJcIikpXG4gICAgICAgICAgLmZpbHRlcihCb29sZWFuKVxuICAgICAgKVxuICAgICkuc29ydCgoYSwgYikgPT4gdHMoYikgLSB0cyhhKSk7IC8vIOKGkCByZWFsIGRhdGUgc29ydFxuICAgIHJldHVybiBkYXRlcztcbiAgfSwgW3JlcG9ydHNdKTtcblxuICBjb25zdCByZXBvcnQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVwb3J0cykgfHwgcmVwb3J0cy5sZW5ndGggPT09IDApIHJldHVybiB1bmRlZmluZWQ7XG4gICAgY29uc3QgY3VycmVudCA9IHNlbGVjdGVkRGF0ZSB8fCAodmlzaXREYXRlc1swXSA/PyBcIlwiKTtcbiAgICByZXR1cm4gKFxuICAgICAgcmVwb3J0cy5maW5kKChyOiBhbnkpID0+IChyPy52aXNpdD8uZGF0ZV9vZl90ZXN0ID8/IFwiXCIpID09PSBjdXJyZW50KSB8fFxuICAgICAgcmVwb3J0c1swXVxuICAgICk7XG4gIH0sIFtyZXBvcnRzLCBzZWxlY3RlZERhdGUsIHZpc2l0RGF0ZXNdKTtcbiAgY29uc3Qgc2hvd05vTGFic05vdGljZSA9IChwYXRpZW50T25seSB8fCAhaGFzTGFiU2VjdGlvbnMpICYmICEhcmVwb3J0O1xuXG4gIGFzeW5jIGZ1bmN0aW9uIGZldGNoUmVwb3J0cyhpZDogc3RyaW5nKSB7XG4gICAgaWYgKCFpZCkgcmV0dXJuO1xuICAgIHNldEVycihcIlwiKTtcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChhcGlQYXRoLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBwYXRpZW50X2lkOiBpZCB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBjdCA9IHJlcy5oZWFkZXJzLmdldChcImNvbnRlbnQtdHlwZVwiKSB8fCBcIlwiO1xuICAgICAgbGV0IGpzb246IGFueSA9IG51bGw7XG4gICAgICBsZXQgdGV4dCA9IFwiXCI7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoY3QuaW5jbHVkZXMoXCJhcHBsaWNhdGlvbi9qc29uXCIpKSB7XG4gICAgICAgICAganNvbiA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGV4dCA9IGF3YWl0IHJlcy50ZXh0KCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICB0cnkgeyB0ZXh0ID0gYXdhaXQgcmVzLnRleHQoKTsgfSBjYXRjaCB7fVxuICAgICAgfVxuXG4gICAgICBpZiAoIXJlcy5vaykge1xuICAgICAgICBjb25zdCBtc2cgPSBqc29uPy5lcnJvciB8fCB0ZXh0IHx8IGBSZXF1ZXN0IGZhaWxlZCAoJHtyZXMuc3RhdHVzfSlgO1xuICAgICAgICBzZXRFcnIobXNnKTtcbiAgICAgICAgc2V0RGF0YShudWxsKTtcbiAgICAgICAgc2V0U2VsZWN0ZWREYXRlKFwiXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlcG9ydHM6IGFueVtdID1cbiAgICAgICAgKEFycmF5LmlzQXJyYXkoanNvbj8ucmVwb3J0cykgJiYganNvbi5yZXBvcnRzKSB8fFxuICAgICAgICAoQXJyYXkuaXNBcnJheShqc29uPy5yb3dzKSAmJiBqc29uLnJvd3MpIHx8XG4gICAgICAgIChBcnJheS5pc0FycmF5KGpzb24/LmRhdGEpICYmIGpzb24uZGF0YSkgfHxcbiAgICAgICAgW107XG5cbiAgICAgIGlmIChyZXBvcnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBzZXRFcnIoXCJObyBtYXRjaGluZyBwYXRpZW50IElELCBwbGVhc2UgdHJ5IGFnYWluLlwiKTtcbiAgICAgICAgc2V0RGF0YShudWxsKTtcbiAgICAgICAgc2V0U2VsZWN0ZWREYXRlKFwiXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBheWxvYWQ6IFJlcG9ydFJlc3BvbnNlID0geyBjb3VudDogcmVwb3J0cy5sZW5ndGgsIHJlcG9ydHMgfTtcbiAgICAgIGlmIChqc29uPy5jb25maWcgJiYgdHlwZW9mIGpzb24uY29uZmlnID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHBheWxvYWQuY29uZmlnID0ganNvbi5jb25maWcgYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YganNvbj8ucGF0aWVudE9ubHkgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgIHBheWxvYWQucGF0aWVudE9ubHkgPSBqc29uLnBhdGllbnRPbmx5O1xuICAgICAgfVxuICAgICAgc2V0RGF0YShwYXlsb2FkKTtcblxuICAgICAgY29uc3QgZGF0ZXM6IHN0cmluZ1tdID0gQXJyYXkuZnJvbShcbiAgICAgICAgbmV3IFNldDxzdHJpbmc+KFxuICAgICAgICAgIHJlcG9ydHMubWFwKChyOiBhbnkpID0+IFN0cmluZyhyPy52aXNpdD8uZGF0ZV9vZl90ZXN0ID8/IFwiXCIpKS5maWx0ZXIoQm9vbGVhbilcbiAgICAgICAgKVxuICAgICAgKS5zb3J0KChhOiBzdHJpbmcsIGI6IHN0cmluZykgPT4gdHMoYikgLSB0cyhhKSk7XG4gICAgICBzZXRTZWxlY3RlZERhdGUoZGF0ZXNbMF0gPz8gXCJcIik7XG4gICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICBzZXRFcnIoZT8ubWVzc2FnZSB8fCBcIk5ldHdvcmsgZXJyb3IuXCIpO1xuICAgICAgc2V0RGF0YShudWxsKTtcbiAgICAgIHNldFNlbGVjdGVkRGF0ZShcIlwiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hTZXNzaW9uUmVwb3J0cygpIHtcbiAgICBzZXRFcnIoXCJcIik7XG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYXBpUGF0aCwge1xuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsICAgICAgICAgICAgICAgICAgICAgLy8gc2Vzc2lvbiBkZXJpdmVzIHBhdGllbnRfaWQ7IEdFVCBpcyBmaW5lXG4gICAgICAgIGNhY2hlOiBcIm5vLXN0b3JlXCIsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgY3QgPSByZXMuaGVhZGVycy5nZXQoXCJjb250ZW50LXR5cGVcIikgfHwgXCJcIjtcbiAgICAgIGxldCBqc29uOiBhbnkgPSBudWxsO1xuICAgICAgbGV0IHRleHQgPSBcIlwiO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGN0LmluY2x1ZGVzKFwiYXBwbGljYXRpb24vanNvblwiKSkge1xuICAgICAgICAgIGpzb24gPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRleHQgPSBhd2FpdCByZXMudGV4dCgpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgdHJ5IHsgdGV4dCA9IGF3YWl0IHJlcy50ZXh0KCk7IH0gY2F0Y2gge31cbiAgICAgIH1cblxuICAgICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgY29uc3QgbXNnID0ganNvbj8uZXJyb3IgfHwgdGV4dCB8fCBgUmVxdWVzdCBmYWlsZWQgKCR7cmVzLnN0YXR1c30pYDtcbiAgICAgICAgc2V0RXJyKG1zZyk7XG4gICAgICAgIHNldERhdGEobnVsbCk7XG4gICAgICAgIHNldFNlbGVjdGVkRGF0ZShcIlwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXBvcnRzOiBhbnlbXSA9XG4gICAgICAgIChBcnJheS5pc0FycmF5KGpzb24/LnJlcG9ydHMpICYmIGpzb24ucmVwb3J0cykgfHxcbiAgICAgICAgKEFycmF5LmlzQXJyYXkoanNvbj8ucm93cykgJiYganNvbi5yb3dzKSB8fFxuICAgICAgICAoQXJyYXkuaXNBcnJheShqc29uPy5kYXRhKSAmJiBqc29uLmRhdGEpIHx8XG4gICAgICAgIFtdO1xuXG4gICAgICBpZiAocmVwb3J0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2V0RXJyKFwiTm8gcmVwb3J0cyBmb3VuZC5cIik7XG4gICAgICAgIHNldERhdGEobnVsbCk7XG4gICAgICAgIHNldFNlbGVjdGVkRGF0ZShcIlwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwYXlsb2FkOiBSZXBvcnRSZXNwb25zZSA9IHsgY291bnQ6IHJlcG9ydHMubGVuZ3RoLCByZXBvcnRzIH07XG4gICAgICBpZiAoanNvbj8uY29uZmlnICYmIHR5cGVvZiBqc29uLmNvbmZpZyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBwYXlsb2FkLmNvbmZpZyA9IGpzb24uY29uZmlnIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGpzb24/LnBhdGllbnRPbmx5ID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICBwYXlsb2FkLnBhdGllbnRPbmx5ID0ganNvbi5wYXRpZW50T25seTtcbiAgICAgIH1cbiAgICAgIHNldERhdGEocGF5bG9hZCk7XG5cbiAgICAgIGNvbnN0IGRhdGVzOiBzdHJpbmdbXSA9IEFycmF5LmZyb20oXG4gICAgICAgIG5ldyBTZXQ8c3RyaW5nPihcbiAgICAgICAgICByZXBvcnRzLm1hcCgocjogYW55KSA9PiBTdHJpbmcocj8udmlzaXQ/LmRhdGVfb2ZfdGVzdCA/PyBcIlwiKSkuZmlsdGVyKEJvb2xlYW4pXG4gICAgICAgIClcbiAgICAgICkuc29ydCgoYTogc3RyaW5nLCBiOiBzdHJpbmcpID0+IHRzKGIpIC0gdHMoYSkpO1xuICAgICAgc2V0U2VsZWN0ZWREYXRlKGRhdGVzWzBdID8/IFwiXCIpO1xuICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgc2V0RXJyKGU/Lm1lc3NhZ2UgfHwgXCJOZXR3b3JrIGVycm9yLlwiKTtcbiAgICAgIHNldERhdGEobnVsbCk7XG4gICAgICBzZXRTZWxlY3RlZERhdGUoXCJcIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfVxuXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWF1dG9GZXRjaCkgcmV0dXJuO1xuICAgIGNvbnN0IGVmZmVjdGl2ZVBhdGllbnRJZCA9IChwYXRpZW50SWQgfHwgbm9ybWFsaXplZFNlc3Npb25JZCB8fCBzZWFyY2hQYXRpZW50SWQpLnRyaW0oKTtcbiAgICBpZiAodXNlU2Vzc2lvbikge1xuICAgICAgaWYgKGVmZmVjdGl2ZVBhdGllbnRJZCkge1xuICAgICAgICAvLyBQcmVmZXIgYW4gZXhwbGljaXQgcGF0aWVudCBJRCB0byBhdm9pZCByZWx5aW5nIG9uIG1peGVkLXJvbGUgY29va2llc1xuICAgICAgICBmZXRjaFJlcG9ydHMoZWZmZWN0aXZlUGF0aWVudElkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZldGNoU2Vzc2lvblJlcG9ydHMoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGVmZmVjdGl2ZVBhdGllbnRJZCkge1xuICAgICAgZmV0Y2hSZXBvcnRzKGVmZmVjdGl2ZVBhdGllbnRJZCk7XG4gICAgfVxuICB9LCBbYXV0b0ZldGNoLCB1c2VTZXNzaW9uLCBwYXRpZW50SWQsIG5vcm1hbGl6ZWRTZXNzaW9uSWQsIHNlYXJjaFBhdGllbnRJZCwgYXBpUGF0aF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybjtcbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPCA3NjgpIHNldFN1bW1hcnlPcGVuKGZhbHNlKTtcbiAgfSwgW10pO1xuXG4gIC8vIEJ1aWxkIGluZGV4IGZvciBwcmV2aW91cyB2YWx1ZXNcbiAgY29uc3QgdmFsdWVJbmRleCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IG1hcCA9IG5ldyBNYXA8c3RyaW5nLCBNYXA8c3RyaW5nLCB7IHJhdzogc3RyaW5nOyBudW06IG51bWJlciB8IG51bGw7IHVuaXQ/OiBzdHJpbmcgfT4+KCk7XG4gICAgZm9yIChjb25zdCByIG9mIHJlcG9ydHMpIHtcbiAgICAgIGNvbnN0IGQgPSByLnZpc2l0LmRhdGVfb2ZfdGVzdDtcbiAgICAgIGxldCBtID0gbWFwLmdldChkKTtcbiAgICAgIGlmICghbSkgeyBtID0gbmV3IE1hcCgpOyBtYXAuc2V0KGQsIG0pOyB9XG4gICAgICBmb3IgKGNvbnN0IHMgb2Ygci5zZWN0aW9ucykge1xuICAgICAgICBmb3IgKGNvbnN0IGl0IG9mIHMuaXRlbXMpIHtcbiAgICAgICAgICBpZiAoc2hvdWxkRXhjbHVkZUZyb21QcmV2KGl0LCBjZmcpKSBjb250aW51ZTtcbiAgICAgICAgICBjb25zdCByYXcgPSBTdHJpbmcoaXQudmFsdWUgPz8gXCJcIikudHJpbSgpO1xuICAgICAgICAgIGlmICghcmF3KSBjb250aW51ZTtcbiAgICAgICAgICBjb25zdCBudW0gPSB0b051bShyYXcpO1xuICAgICAgICAgIG0uc2V0KGl0LmtleSwgeyByYXcsIG51bSwgdW5pdDogaXQudW5pdCB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWFwO1xuICB9LCBbcmVwb3J0cywgY2ZnXSk7XG5cbiAgZnVuY3Rpb24gZmluZFByZXZMaXN0QW55KGl0OiBSZXBvcnRJdGVtLCBtYXhDb3VudCA9IDMpOiBBcnJheTx7IGRhdGU6IHN0cmluZzsgcmF3OiBzdHJpbmc7IG51bTogbnVtYmVyIHwgbnVsbDsgdW5pdD86IHN0cmluZyB9PiB7XG4gICAgaWYgKCFyZXBvcnQpIHJldHVybiBbXTtcbiAgICBjb25zdCBjdXJyZW50RGF0ZSA9IHJlcG9ydC52aXNpdC5kYXRlX29mX3Rlc3Q7XG4gICAgY29uc3QgaWR4ID0gdmlzaXREYXRlcy5pbmRleE9mKGN1cnJlbnREYXRlKTtcbiAgICBpZiAoaWR4IDwgMCkgcmV0dXJuIFtdO1xuICAgIGNvbnN0IG91dDogQXJyYXk8eyBkYXRlOiBzdHJpbmc7IHJhdzogc3RyaW5nOyBudW06IG51bWJlciB8IG51bGw7IHVuaXQ/OiBzdHJpbmcgfT4gPSBbXTtcbiAgICBmb3IgKGxldCBpID0gaWR4ICsgMTsgaSA8IHZpc2l0RGF0ZXMubGVuZ3RoICYmIG91dC5sZW5ndGggPCBtYXhDb3VudDsgaSsrKSB7XG4gICAgICBjb25zdCBkID0gdmlzaXREYXRlc1tpXTtcbiAgICAgIGNvbnN0IHJlYyA9IHZhbHVlSW5kZXguZ2V0KGQpPy5nZXQoaXQua2V5KTtcbiAgICAgIGlmICghcmVjKSBjb250aW51ZTtcbiAgICAgIG91dC5wdXNoKHsgZGF0ZTogZCwgcmF3OiByZWMucmF3LCBudW06IHJlYy5udW0sIHVuaXQ6IHJlYy51bml0IH0pO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xuICB9XG5cbiAgZnVuY3Rpb24gZmluZFByZXZOdW1Gb3JEZWx0YShpdDogUmVwb3J0SXRlbSk6IHsgZGF0ZTogc3RyaW5nOyB2YWx1ZTogbnVtYmVyIH0gfCBudWxsIHtcbiAgICBpZiAoIXJlcG9ydCkgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgY3VycmVudERhdGUgPSByZXBvcnQudmlzaXQuZGF0ZV9vZl90ZXN0O1xuICAgIGNvbnN0IGlkeCA9IHZpc2l0RGF0ZXMuaW5kZXhPZihjdXJyZW50RGF0ZSk7XG4gICAgaWYgKGlkeCA8IDApIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGN1ck51bSA9IHRvTnVtKGl0LnZhbHVlKTtcbiAgICBpZiAoY3VyTnVtID09IG51bGwpIHJldHVybiBudWxsO1xuICAgIGZvciAobGV0IGkgPSBpZHggKyAxOyBpIDwgdmlzaXREYXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZCA9IHZpc2l0RGF0ZXNbaV07XG4gICAgICBjb25zdCByZWMgPSB2YWx1ZUluZGV4LmdldChkKT8uZ2V0KGl0LmtleSk7XG4gICAgICBpZiAoIXJlYyB8fCByZWMubnVtID09IG51bGwpIGNvbnRpbnVlO1xuICAgICAgaWYgKGl0LnVuaXQgJiYgcmVjLnVuaXQgJiYgaXQudW5pdCAhPT0gcmVjLnVuaXQpIGNvbnRpbnVlO1xuICAgICAgcmV0dXJuIHsgZGF0ZTogZCwgdmFsdWU6IHJlYy5udW0gfTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBzZWFyY2goKSB7XG4gICAgaWYgKCFwYXRpZW50SWQpIHJldHVybjtcbiAgICBzZXRFcnIoXCJcIik7XG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYC9hcGkvcmVwb3J0P3BhdGllbnRfaWQ9JHtlbmNvZGVVUklDb21wb25lbnQocGF0aWVudElkKX1gKTtcbiAgICAgIGNvbnN0IGpzb246IGFueSA9IGF3YWl0IHJlcy5qc29uKCk7XG5cbiAgICAgIGNvbnN0IHJlcG9ydHM6IGFueVtdID1cbiAgICAgICAgKEFycmF5LmlzQXJyYXkoanNvbj8ucmVwb3J0cykgJiYganNvbi5yZXBvcnRzKSB8fFxuICAgICAgICAoQXJyYXkuaXNBcnJheShqc29uPy5yb3dzKSAmJiBqc29uLnJvd3MpIHx8XG4gICAgICAgIChBcnJheS5pc0FycmF5KGpzb24/LmRhdGEpICYmIGpzb24uZGF0YSkgfHxcbiAgICAgICAgW107XG5cbiAgICAgIGlmICghcmVzLm9rKSB7XG4gICAgICAgIHNldEVycihqc29uPy5lcnJvciB8fCBcIlNvbWV0aGluZyB3ZW50IHdyb25nLlwiKTtcbiAgICAgICAgc2V0RGF0YShudWxsKTtcbiAgICAgICAgc2V0U2VsZWN0ZWREYXRlKFwiXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocmVwb3J0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2V0RXJyKFwiTm8gbWF0Y2hpbmcgcGF0aWVudCBJRCwgcGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgICAgIHNldERhdGEobnVsbCk7XG4gICAgICAgIHNldFNlbGVjdGVkRGF0ZShcIlwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwYXlsb2FkOiBSZXBvcnRSZXNwb25zZSA9IHsgY291bnQ6IHJlcG9ydHMubGVuZ3RoLCByZXBvcnRzIH07XG4gICAgICBpZiAoanNvbj8uY29uZmlnICYmIHR5cGVvZiBqc29uLmNvbmZpZyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBwYXlsb2FkLmNvbmZpZyA9IGpzb24uY29uZmlnIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICB9XG4gICAgICBzZXREYXRhKHBheWxvYWQpO1xuXG4gICAgICBjb25zdCBkYXRlczogc3RyaW5nW10gPSBBcnJheS5mcm9tKFxuICAgICAgICBuZXcgU2V0PHN0cmluZz4oXG4gICAgICAgICAgcmVwb3J0cy5tYXAoKHI6IGFueSkgPT4gU3RyaW5nKHI/LnZpc2l0Py5kYXRlX29mX3Rlc3QgPz8gXCJcIikpLmZpbHRlcihCb29sZWFuKVxuICAgICAgICApXG4gICAgICApLnNvcnQoKGE6IHN0cmluZywgYjogc3RyaW5nKSA9PiB0cyhiKSAtIHRzKGEpKTtcbiAgICAgIHNldFNlbGVjdGVkRGF0ZShkYXRlc1swXSA/PyBcIlwiKTtcbiAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgIHNldEVycihlPy5tZXNzYWdlIHx8IFwiTmV0d29yayBlcnJvci5cIik7XG4gICAgICBzZXREYXRhKG51bGwpO1xuICAgICAgc2V0U2VsZWN0ZWREYXRlKFwiXCIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICAvLyBzaWduZXJzICsgbG9nbyAoY29tcHV0ZWQgQkVGT1JFIHJldHVybilcbiAgY29uc3QgeyBybXRzLCBwYXRob3MgfSA9IGdldFNpZ25lcnNGcm9tQ29uZmlnKGNmZyk7XG4gIGNvbnN0IHNpZ25lcnMgPSBbLi4ucm10cywgLi4ucGF0aG9zXTtcblxuICBjb25zdCByYXdMb2dvID0gKGNmZz8uY2xpbmljX2xvZ29fdXJsIHx8IFwiXCIpLnRyaW0oKTtcbiAgbGV0IGxvZ29TcmMgPSBcIlwiO1xuICBsZXQgbG9nb0ZhbGxiYWNrID0gXCJcIjtcblxuICBpZiAocmF3TG9nby5zdGFydHNXaXRoKFwiL1wiKSB8fCAvXmh0dHBzPzpcXC9cXC8vaS50ZXN0KHJhd0xvZ28pKSB7XG4gICAgLy8gTG9jYWwgcHVibGljIHBhdGggKGUuZy4sIFwiL3dlbGxzZXJ2LWxvZ28ucG5nXCIpIG9yIGRpcmVjdCBVUkxcbiAgICBsb2dvU3JjID0gcmF3TG9nbztcbiAgfSBlbHNlIHtcbiAgICAvLyBHb29nbGUgRHJpdmUgSUQgLyBVUkwgKGV4aXN0aW5nIGJlaGF2aW9yKVxuICAgIGNvbnN0IGQgPSBkcml2ZUltYWdlVXJscyhyYXdMb2dvKTtcbiAgICBsb2dvU3JjID0gZC5wcmltYXJ5O1xuICAgIGxvZ29GYWxsYmFjayA9IGQuZmFsbGJhY2s7XG4gIH1cblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldExvZ29Mb2FkZWQoZmFsc2UpO1xuICAgIGlmICghbG9nb1NyYykgeyBzZXRMb2dvTG9hZGVkKHRydWUpOyByZXR1cm47IH1cbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBpbWcub25sb2FkID0gaW1nLm9uZXJyb3IgPSAoKSA9PiBzZXRMb2dvTG9hZGVkKHRydWUpO1xuICAgIGltZy5zcmMgPSBsb2dvU3JjO1xuICB9LCBbbG9nb1NyY10pO1xuXG4gIC8vIFdhdGVybWFyayByZXNvbHZlcyB0byB0aGUgZXhwbGljaXQgd2F0ZXJtYXJrIGltYWdlIGlmIHNldCwgb3RoZXJ3aXNlIGZhbGxzIGJhY2sgdG8gdGhlIGxvZ28uXG4gIGNvbnN0IHdhdGVybWFya1NyYyA9IHdtSW1nVXJsIHx8IGxvZ29TcmM7XG4gIGNvbnN0IHdhdGVybWFya0ZhbGxiYWNrID0gd21JbWdVcmwgPyB3bUZhbGxiYWNrIDogbG9nb0ZhbGxiYWNrO1xuICBjb25zdCBoYXNXbSA9IEJvb2xlYW4od2F0ZXJtYXJrU3JjKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldFdhdGVybWFya0xvYWRlZChmYWxzZSk7XG4gICAgaWYgKCF3YXRlcm1hcmtTcmMpIHsgc2V0V2F0ZXJtYXJrTG9hZGVkKHRydWUpOyByZXR1cm47IH1cbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBpbWcub25sb2FkID0gaW1nLm9uZXJyb3IgPSAoKSA9PiBzZXRXYXRlcm1hcmtMb2FkZWQodHJ1ZSk7XG4gICAgaW1nLnNyYyA9IHdhdGVybWFya1NyYztcbiAgfSwgW3dhdGVybWFya1NyY10pO1xuXG4gIC8vIFNwbGFzaCBjb250cm9sXG4gIGNvbnN0IHNwbGFzaEVuYWJsZWQgPSAoY2ZnPy5sb2FkaW5nX3NwbGFzaF9lbmFibGVkID8/IFwidHJ1ZVwiKS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkgPT09IFwidHJ1ZVwiO1xuICBjb25zdCBzcGxhc2hNYXhNcyAgID0gTnVtYmVyKGNmZz8ubG9hZGluZ19zcGxhc2hfbWF4X21zID8/IDkwMCk7XG4gIGNvbnN0IHdhaXRpbmdGb3JBc3NldHMgPSAhYm9vdExvYWRlZCB8fCAhbG9nb0xvYWRlZCB8fCAhd2F0ZXJtYXJrTG9hZGVkO1xuICBjb25zdCB3YWl0aW5nRm9yRGF0YSA9IGxvYWRpbmc7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXNwbGFzaEVuYWJsZWQpIHsgc2V0U3BsYXNoVGltZWRPdXQoZmFsc2UpOyByZXR1cm47IH1cbiAgICBpZiAoIXdhaXRpbmdGb3JBc3NldHMpIHsgc2V0U3BsYXNoVGltZWRPdXQoZmFsc2UpOyByZXR1cm47IH1cbiAgICBjb25zdCB0ID0gc2V0VGltZW91dCgoKSA9PiBzZXRTcGxhc2hUaW1lZE91dCh0cnVlKSwgc3BsYXNoTWF4TXMpO1xuICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodCk7XG4gIH0sIFtzcGxhc2hFbmFibGVkLCB3YWl0aW5nRm9yQXNzZXRzLCBzcGxhc2hNYXhNc10pO1xuXG4gIGNvbnN0IHNob3dTcGxhc2ggPSBzcGxhc2hFbmFibGVkICYmICgod2FpdGluZ0ZvckFzc2V0cyAmJiAhc3BsYXNoVGltZWRPdXQpIHx8IHdhaXRpbmdGb3JEYXRhKTtcbiAgY29uc3Qgc2hvd0lubGluZUxvYWRlciA9ICFzaG93U3BsYXNoICYmIGxvYWRpbmcgJiYgIXJlcG9ydDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZVwiIHN0eWxlPXt7IG1pbkhlaWdodDpcIjEwMHZoXCIsIGRpc3BsYXk6XCJmbGV4XCIsIGZsZXhEaXJlY3Rpb246XCJjb2x1bW5cIiB9fT5cbiAgICAgIDxzdHlsZT57YFxuICAgICAgICA6cm9vdHtcbiAgICAgICAgICAtLWZvbnQtYmFzZTogMTRweDtcbiAgICAgICAgICAtLWZvbnQtaGVhZGluZzogMThweDtcbiAgICAgICAgICAtLWZvbnQtdGl0bGU6IDE4cHg7XG4gICAgICAgICAgLS1yb3ctcGFkOiA2cHg7XG4gICAgICAgICAgLS1zaWctaGVpZ2h0OiAzMHB4O1xuICAgICAgICAgIC0tbG9nby1oZWlnaHQ6IDE1MHB4O1xuICAgICAgICAgIC0tYnJhbmQ6ICMxNjMxM2I7XG4gICAgICAgICAgLS1hY2NlbnQ6ICMwZjc2NmU7XG4gICAgICAgICAgLS1ib3JkZXI6ICNkNWUwZTg7XG4gICAgICAgICAgLS1ib3JkZXItc3Ryb25nOiAjOGJhMWFlO1xuICAgICAgICAgIC0tc3VyZmFjZTogI2ZmZmZmZjtcbiAgICAgICAgICAtLXN1cmZhY2UtbXV0ZWQ6ICNmZmZmZmY7XG4gICAgICAgICAgLS1zaGVsbC1zaGFkb3c6IDAgMThweCA0NXB4IHJnYmEoMTUsIDIzLCA0MiwgMC4wOCk7XG4gICAgICAgIH1cbiAgICAgICAgYm9keSB7XG4gICAgICAgICAgZm9udC1zaXplOiB2YXIoLS1mb250LWJhc2UpO1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1icmFuZCk7XG4gICAgICAgIH1cbiAgICAgICAgLnBhZ2Uge1xuICAgICAgICAgIG1pbi1oZWlnaHQ6IDEwMHZoO1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1zdXJmYWNlLW11dGVkKTtcbiAgICAgICAgICBwYWRkaW5nOiBjbGFtcCgxMnB4LCA0dncsIDMycHgpO1xuICAgICAgICB9XG4gICAgICAgIGgxIHsgZm9udC1zaXplOiB2YXIoLS1mb250LXRpdGxlKTsgfVxuICAgICAgICBoMyB7IGZvbnQtc2l6ZTogdmFyKC0tZm9udC1oZWFkaW5nKTsgfVxuXG4gICAgICAgIC5jb250YWluZXIgeyBtYXgtd2lkdGg6IDk2MHB4OyBtYXJnaW46IDAgYXV0bzsgfVxuICAgICAgICAudmlld2VyLXNoZWxsIHtcbiAgICAgICAgICBwYWRkaW5nOiBjbGFtcCgxOHB4LCA0dncsIDI2cHgpO1xuICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UpO1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjUsIDgyLCAxMDIsIDAuMDgpO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDI0cHg7XG4gICAgICAgICAgYm94LXNoYWRvdzogdmFyKC0tc2hlbGwtc2hhZG93KTtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgZ2FwOiAxOHB4O1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IGNsYW1wKDI2cHgsIDV2dywgNDhweCk7XG4gICAgICAgIH1cbiAgICAgICAgLmNvbnRlbnQgeyBmbGV4OiAxIDAgYXV0bzsgfVxuICAgICAgICAudmlld2VyLWZvb3RlciB7XG4gICAgICAgICAgbWFyZ2luLXRvcDogY2xhbXAoMjhweCwgNXZ3LCA1MnB4KTtcbiAgICAgICAgICBwYWRkaW5nOiBjbGFtcCgxOHB4LCA0dncsIDI2cHgpO1xuICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UpO1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjUsIDgyLCAxMDIsIDAuMDgpO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gICAgICAgICAgYm94LXNoYWRvdzogdmFyKC0tc2hlbGwtc2hhZG93KTtcbiAgICAgICAgfVxuICAgICAgICAudmlld2VyLWZvb3RlciAuc2lnLXJvdyB7IG1hcmdpbi10b3A6IDRweDsgfVxuICAgICAgICB0aCwgdGQgeyBwYWRkaW5nOiBjYWxjKHZhcigtLXJvdy1wYWQpIC0gMXB4KSAxMHB4OyB9XG5cbiAgICAgICAgLmRhdGUtc2VsZWN0IHtcbiAgICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgICAgcGFkZGluZzogOHB4IDEycHg7XG4gICAgICAgICAgbWluLWhlaWdodDogNDRweDtcbiAgICAgICAgICBsaW5lLWhlaWdodDogMS4yNTtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1LDgyLDEwMiwwLjIyKTtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICAgICAgICAgIGJveC1zaGFkb3c6IDAgMXB4IDJweCByZ2JhKDE1LDIzLDQyLDAuMDYpLCAwIDAgMCAzcHggcmdiYSgxNSwxMTgsMTEwLDAuMDgpO1xuICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxODBkZWcsICNmZmZmZmYgMCUsICNmOWZiZmYgMTAwJSk7XG4gICAgICAgICAgYXBwZWFyYW5jZTogbm9uZTtcbiAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiA0NHB4O1xuICAgICAgICAgIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAuMThzIGVhc2UsIGJveC1zaGFkb3cgLjE4cyBlYXNlLCB0cmFuc2Zvcm0gLjE4cyBlYXNlO1xuICAgICAgICB9XG4gICAgICAgIC5kYXRlLXNlbGVjdDpmb2N1cyB7XG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xcHgpO1xuICAgICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgICAgYm9yZGVyLWNvbG9yOiByZ2JhKDE1LDExOCwxMTAsMC42NSk7XG4gICAgICAgICAgYm94LXNoYWRvdzogMCAxMnB4IDIwcHggcmdiYSgxNSwxMTgsMTEwLDAuMTUpLCAwIDAgMCAzcHggcmdiYSgxNSwxMTgsMTEwLDAuMjIpO1xuICAgICAgICB9XG4gICAgICAgIC5kYXRlLXNlbGVjdCBvcHRpb24geyBmb250LXNpemU6IDE1cHg7IH1cbiAgICAgICAgLmNvbnRyb2xzIC5sYWJlbCB7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tYnJhbmQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogY2xpbmljIGhlYWRlciAqL1xuICAgICAgICAuY2xpbmljIHtcbiAgICAgICAgICBkaXNwbGF5OmZsZXg7XG4gICAgICAgICAgYWxpZ24taXRlbXM6Y2VudGVyO1xuICAgICAgICAgIGdhcDoxMnB4O1xuICAgICAgICAgIG1hcmdpbjogNHB4IDAgMTJweCAwO1xuICAgICAgICAgIHBhZGRpbmc6IDEycHggMTZweDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjUsODIsMTAyLDAuMDgpO1xuICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjQ0LDI0NywyNTEsMC43KTtcbiAgICAgICAgfVxuICAgICAgICAuY2xpbmljIGltZyB7IGhlaWdodDogdmFyKC0tbG9nby1oZWlnaHQpOyB3aWR0aDphdXRvOyBvYmplY3QtZml0OiBjb250YWluOyBkaXNwbGF5OmJsb2NrOyB9XG4gICAgICAgIC5jbGluaWMtbmFtZSB7IGZvbnQtd2VpZ2h0OiA3MDA7IGZvbnQtc2l6ZTogMjBweDsgbGluZS1oZWlnaHQ6IDEuMjsgY29sb3I6ICMwZjFmMjg7IH1cbiAgICAgICAgLmNsaW5pYy1zdWIgeyBjb2xvcjogcmdiYSg0MSw3NCw4NiwwLjc4KTsgfVxuXG4gICAgICAgIC8qIFNDUkVFTjogdGl0bGUgKyBzZWFyY2ggb24gT05FIGxpbmUsIGNlbnRlcmVkICovXG4gICAgICAgIC50b29sYmFye1xuICAgICAgICAgIGRpc3BsYXk6ZmxleDtcbiAgICAgICAgICBhbGlnbi1pdGVtczpjZW50ZXI7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OmNlbnRlcjsgICAvKiBjZW50ZXIgdGhlIHdob2xlIGdyb3VwICovXG4gICAgICAgICAgZ2FwOjEycHg7XG4gICAgICAgICAgbWFyZ2luOjEycHggYXV0byAxNHB4O1xuICAgICAgICAgIHdpZHRoOjEwMCU7XG4gICAgICAgICAgZmxleC13cmFwOm5vd3JhcDsgICAgICAgICAvKiBrZWVwIG9uIG9uZSBsaW5lICovXG4gICAgICAgIH1cbiAgICAgICAgLnRvb2xiYXIgaDF7XG4gICAgICAgICAgbWFyZ2luOjA7XG4gICAgICAgICAgZmxleDowIDAgYXV0bzsgICAgICAgICAgICAvKiBkb24ndCBzdHJldGNoOyBrZWVwIGNvbnRlbnQgd2lkdGggKi9cbiAgICAgICAgfVxuICAgICAgICAudG9vbGJhciAuc2VhcmNoYmFye1xuICAgICAgICAgIGZsZXg6MCAwIGF1dG87ICAgICAgICAgICAgLyogZG9uJ3Qgc3RyZXRjaDsga2VlcCBjb250ZW50IHdpZHRoICovXG4gICAgICAgIH1cblxuICAgICAgICAvKiBrZWVwIHRoZSBzZWFyY2hiYXIgY2VudGVyZWQgdG9vICovXG4gICAgICAgIC5zZWFyY2hiYXJ7XG4gICAgICAgICAgZGlzcGxheTpmbGV4O1xuICAgICAgICAgIGFsaWduLWl0ZW1zOmNlbnRlcjtcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO1xuICAgICAgICAgIGdhcDo4cHg7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBwYXRpZW50IGhlYWRlciAobmFtZSwgc2V4L2FnZS9ET0IpICovXG4gICAgICAgIC5wYXRpZW50LWhlYWQge1xuICAgICAgICAgIGRpc3BsYXk6ZmxleDsgYWxpZ24taXRlbXM6YmFzZWxpbmU7IGp1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO1xuICAgICAgICAgIGdhcDoxMnB4OyBwYWRkaW5nOjE0cHggMTZweDsgbWFyZ2luOiAwO1xuICAgICAgICAgIGJvcmRlcjoxcHggc29saWQgcmdiYSgyNSw4MiwxMDIsMC4xMik7IGJvcmRlci1yYWRpdXM6MjBweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCByZ2JhKDI1NSwyNTUsMjU1LDAuOSksICNmZmZmZmYgOTAlKTtcbiAgICAgICAgICBib3gtc2hhZG93OiBpbnNldCAwIDFweCAwIHJnYmEoMjU1LDI1NSwyNTUsMC42KTtcbiAgICAgICAgfVxuICAgICAgICAucGgtbmFtZSB7IGZvbnQtc2l6ZTogMjBweDsgZm9udC13ZWlnaHQ6IDgwMDsgbGV0dGVyLXNwYWNpbmc6IC4ycHg7IH1cbiAgICAgICAgLnBoLW1ldGEgeyBjb2xvcjpyZ2JhKDQxLDc0LDg2LDAuNzUpOyB3b3JkLWJyZWFrOiBicmVhay13b3JkOyB9XG5cbiAgICAgICAgLyogY29udHJvbHMgcm93ICovXG4gICAgICAgIC5jb250cm9scyB7IGRpc3BsYXk6ZmxleDsgZ2FwOjEycHg7IG1hcmdpbjoxMnB4IDA7IGZsZXgtd3JhcDp3cmFwOyB9XG4gICAgICAgIC5jb250cm9sLXNlbGVjdHtcbiAgICAgICAgICBmbGV4OjEgMSBhdXRvO1xuICAgICAgICAgIG1pbi13aWR0aDowO1xuICAgICAgICAgIGRpc3BsYXk6ZmxleDtcbiAgICAgICAgICBhbGlnbi1pdGVtczpjZW50ZXI7XG4gICAgICAgICAgZ2FwOjEwcHg7XG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICB9XG4gICAgICAgIC5jb250cm9sLXNlbGVjdCAubGFiZWx7XG4gICAgICAgICAgZm9udC1zaXplOiAxNXB4O1xuICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgICAgICAgY29sb3I6IHZhcigtLWJvcmRlci1zdHJvbmcpO1xuICAgICAgICB9XG4gICAgICAgIC5jb250cm9sLXNlbGVjdDo6YWZ0ZXJ7XG4gICAgICAgICAgY29udGVudDpcIlwiO1xuICAgICAgICAgIHBvc2l0aW9uOmFic29sdXRlO1xuICAgICAgICAgIHRvcDo1MCU7XG4gICAgICAgICAgcmlnaHQ6MTZweDtcbiAgICAgICAgICB3aWR0aDoxMHB4O1xuICAgICAgICAgIGhlaWdodDoxMHB4O1xuICAgICAgICAgIGJvcmRlci1yaWdodDoycHggc29saWQgdmFyKC0tYm9yZGVyLXN0cm9uZyk7XG4gICAgICAgICAgYm9yZGVyLWJvdHRvbToycHggc29saWQgdmFyKC0tYm9yZGVyLXN0cm9uZyk7XG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01NSUpIHJvdGF0ZSg0NWRlZyk7XG4gICAgICAgICAgcG9pbnRlci1ldmVudHM6bm9uZTtcbiAgICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjJzIGVhc2UsIGJvcmRlci1jb2xvciAuMnMgZWFzZTtcbiAgICAgICAgfVxuICAgICAgICAuY29udHJvbC1zZWxlY3Q6Zm9jdXMtd2l0aGluOjphZnRlcntcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTE1JSkgcm90YXRlKDIyNWRlZyk7XG4gICAgICAgICAgYm9yZGVyLWNvbG9yOiByZ2JhKDE1LDExOCwxMTAsMC44KTtcbiAgICAgICAgfVxuICAgICAgICAuY29udHJvbC10b2dnbGUge1xuICAgICAgICAgIGRpc3BsYXk6ZmxleDtcbiAgICAgICAgICBhbGlnbi1pdGVtczpjZW50ZXI7XG4gICAgICAgICAgZ2FwOjZweDtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tYnJhbmQpO1xuICAgICAgICB9XG4gICAgICAgIC5jb250cm9sLXJvdyB7XG4gICAgICAgICAgZGlzcGxheTpmbGV4O1xuICAgICAgICAgIGFsaWduLWl0ZW1zOmNlbnRlcjtcbiAgICAgICAgICBnYXA6OHB4O1xuICAgICAgICAgIGZsZXgtd3JhcDp3cmFwO1xuICAgICAgICB9XG4gICAgICAgIC5jb250cm9sLXJvdyBidXR0b24ge1xuICAgICAgICAgIGRpc3BsYXk6ZmxleDtcbiAgICAgICAgICBhbGlnbi1pdGVtczpjZW50ZXI7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OmNlbnRlcjtcbiAgICAgICAgICBnYXA6NnB4O1xuICAgICAgICAgIHBhZGRpbmc6IDEwcHggMTRweDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjUsODIsMTAyLDAuMTYpO1xuICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYmEoMTUsMTE4LDExMCwwLjEyKSwgcmdiYSgxNSwxMTgsMTEwLDAuMDUpKTtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tYnJhbmQpO1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIC4xNXMgZWFzZSwgYm94LXNoYWRvdyAuMTVzIGVhc2UsIGJhY2tncm91bmQgLjE1cyBlYXNlO1xuICAgICAgICB9XG4gICAgICAgIC5jb250cm9sLXJvdyBidXR0b246aG92ZXJ7XG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xcHgpO1xuICAgICAgICAgIGJveC1zaGFkb3c6IDAgMTBweCAyMnB4IHJnYmEoMTUsMTE4LDExMCwwLjE4KTtcbiAgICAgICAgfVxuICAgICAgICAuY29udHJvbC1yb3cgYnV0dG9uOmFjdGl2ZXtcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XG4gICAgICAgICAgYm94LXNoYWRvdzogbm9uZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIGZvb3RlciAqL1xuICAgICAgICAucmVwb3J0LWZvb3RlciB7IG1hcmdpbi10b3A6IGF1dG87IHBhZGRpbmctdG9wOiA2cHg7IGJvcmRlci10b3A6IG5vbmU7IGZvbnQtc2l6ZTogMTRweDsgY29sb3I6IHZhcigtLWJyYW5kKTsgfVxuICAgICAgICAuc2lnLXJvdyB7XG4gICAgICAgICAgZGlzcGxheTpncmlkO1xuICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMjAwcHgsIDFmcikpO1xuICAgICAgICAgIGdhcDoxNnB4O1xuICAgICAgICAgIGFsaWduLWl0ZW1zOnN0YXJ0O1xuICAgICAgICAgIGp1c3RpZnktaXRlbXM6Y2VudGVyO1xuICAgICAgICB9XG4gICAgICAgIC5zaWcge1xuICAgICAgICAgIG1pbi13aWR0aDowO1xuICAgICAgICAgIHRleHQtYWxpZ246Y2VudGVyO1xuICAgICAgICAgIHBhZGRpbmc6MTBweCA4cHggMTJweDtcbiAgICAgICAgICBtYXJnaW4tdG9wOjA7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogMThweDtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1LDgyLDEwMiwwLjA4KTtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI0NCwyNDcsMjUxLDAuNyk7XG4gICAgICAgIH1cbiAgICAgICAgLnNpZyBpbWcgeyBtYXgtaGVpZ2h0OiB2YXIoLS1zaWctaGVpZ2h0KTsgd2lkdGg6IGF1dG87IG9iamVjdC1maXQ6IGNvbnRhaW47IGRpc3BsYXk6YmxvY2s7IG1hcmdpbjogNnB4IGF1dG8gNnB4OyB9XG4gICAgICAgIC5tdXRlZCB7IGNvbG9yOnJnYmEoMjEsNDQsNTQsMC42OCk7IGZvbnQtc2l6ZTogMTJweDsgfVxuXG4gICAgICAgIHRhYmxlIHsgd2lkdGg6MTAwJTsgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsgfVxuICAgICAgICB0aGVhZCB0aCB7XG4gICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMjUsODIsMTAyLDAuMTgpO1xuICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjQ0LDI0NywyNTEsMC42KTtcbiAgICAgICAgICBjb2xvcjogcmdiYSgyMSw0NCw1NCwwLjgyKTtcbiAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICB9XG4gICAgICAgIHRib2R5IHRyOm50aC1jaGlsZChvZGQpIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI0NCwyNDcsMjUxLDAuNDUpO1xuICAgICAgICB9XG4gICAgICAgIHRib2R5IHRkIHsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMTUsMjMsNDIsMC4wNCk7IH1cbiAgICAgICAgLmZsYWctY2VsbCB7IHRleHQtYWxpZ246IGxlZnQgIWltcG9ydGFudDsgfVxuICAgICAgICAuZmxhZy1waWxsIHtcbiAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgIGdhcDogNnB4O1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICAgIHBhZGRpbmc6IDJweCAxMHB4O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDk5OXB4O1xuICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjEsNDQsNTQsMC4wOCk7XG4gICAgICAgICAgY29sb3I6IHJnYmEoMjEsNDQsNTQsMC44NSk7XG4gICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuMDJlbTtcbiAgICAgICAgfVxuICAgICAgICAuZmxhZy1waWxsOjpiZWZvcmUge1xuICAgICAgICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgICAgICAgd2lkdGg6IDhweDtcbiAgICAgICAgICBoZWlnaHQ6IDhweDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA5OTlweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiBjdXJyZW50Q29sb3I7XG4gICAgICAgICAgb3BhY2l0eTogMC43NTtcbiAgICAgICAgfVxuICAgICAgICAuZmxhZy1waWxsW2RhdGEtZmxhZz1cIkhcIl0ge1xuICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjIwLDM4LDM4LDAuMTYpO1xuICAgICAgICAgIGNvbG9yOiAjYjAwMDIwO1xuICAgICAgICB9XG4gICAgICAgIC5mbGFnLXBpbGxbZGF0YS1mbGFnPVwiTFwiXSB7XG4gICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgxNCwxMTYsMTQ0LDAuMTgpO1xuICAgICAgICAgIGNvbG9yOiAjMGY3NjZlO1xuICAgICAgICB9XG4gICAgICAgIC5mbGFnLXBpbGxbZGF0YS1mbGFnPVwiQVwiXSB7XG4gICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyMzQsMTc5LDgsMC4yKTtcbiAgICAgICAgICBjb2xvcjogI2I0NTMwOTtcbiAgICAgICAgfVxuICAgICAgICAuZmxhZy1waWxsW2RhdGEtZmxhZz1cIlwiXSB7XG4gICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgxNDgsMTYzLDE4NCwwLjIpO1xuICAgICAgICAgIGNvbG9yOiAjNDc1NTY5O1xuICAgICAgICB9XG4gICAgICAgIC5zZWN0aW9uLWJsb2NrIHtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1LDgyLDEwMiwwLjA4KTtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICAgICAgICAgIHBhZGRpbmc6IDE4cHggMThweCAxMnB4O1xuICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC45OCk7XG4gICAgICAgICAgYm94LXNoYWRvdzogMCAxOHB4IDM4cHggcmdiYSgxNSwyMyw0MiwwLjA2KTtcbiAgICAgICAgfVxuICAgICAgICAuc2VjdGlvbi1ibG9jayBoMyB7XG4gICAgICAgICAgbWFyZ2luOiAwIDAgMTJweCAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLnRhYmxlLXNjcm9sbCB7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgb3ZlcmZsb3cteDogYXV0bztcbiAgICAgICAgICAtd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzogdG91Y2g7XG4gICAgICAgIH1cbiAgICAgICAgLnRhYmxlLXNjcm9sbCB0YWJsZSB7XG4gICAgICAgICAgbWluLXdpZHRoOiA1NjBweDtcbiAgICAgICAgfVxuICAgICAgICAvKiBDb21wYWN0IHRhYmxlcyAoZS5nLiwgVXJpbmFseXNpcy9GZWNhbHlzaXMpIGRvbid0IG5lZWQgdGhlIHdpZGUgbWluLXdpZHRoIG9yIHN0aWNraWVzLiAqL1xuICAgICAgICAudGFibGUtc2Nyb2xsW2RhdGEtY29tcGFjdD1cInRydWVcIl0ge1xuICAgICAgICAgIG92ZXJmbG93LXg6IHZpc2libGU7XG4gICAgICAgIH1cbiAgICAgICAgLnRhYmxlLXNjcm9sbFtkYXRhLWNvbXBhY3Q9XCJ0cnVlXCJdIHRhYmxlIHtcbiAgICAgICAgICBtaW4td2lkdGg6IDA7XG4gICAgICAgIH1cbiAgICAgICAgLnRhYmxlLXNjcm9sbFtkYXRhLWNvbXBhY3Q9XCJ0cnVlXCJdIHRhYmxlIHRoOmZpcnN0LWNoaWxkLFxuICAgICAgICAudGFibGUtc2Nyb2xsW2RhdGEtY29tcGFjdD1cInRydWVcIl0gdGFibGUgdGQ6Zmlyc3QtY2hpbGQge1xuICAgICAgICAgIHBvc2l0aW9uOiBzdGF0aWM7XG4gICAgICAgICAgYmFja2dyb3VuZDogaW5oZXJpdDtcbiAgICAgICAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCByZ2JhKDE0OCwxNjMsMTg0LDAuMTgpO1xuICAgICAgICB9XG4gICAgICAgIC50YWJsZS1zY3JvbGwgdGFibGUgdGg6Zmlyc3QtY2hpbGQsXG4gICAgICAgIC50YWJsZS1zY3JvbGwgdGFibGUgdGQ6Zmlyc3QtY2hpbGQge1xuICAgICAgICAgIHBvc2l0aW9uOiBzdGlja3k7XG4gICAgICAgICAgbGVmdDogMDtcbiAgICAgICAgICB6LWluZGV4OiAyO1xuICAgICAgICAgIGJhY2tncm91bmQ6ICNmZmZmZmY7XG4gICAgICAgICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgcmdiYSgxNDgsMTYzLDE4NCwwLjE4KTtcbiAgICAgICAgfVxuICAgICAgICAudGFibGUtc2Nyb2xsIHRhYmxlIHRoZWFkIHRoOmZpcnN0LWNoaWxkIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI0NCwyNDcsMjUxLDAuNik7XG4gICAgICAgIH1cbiAgICAgICAgLnRhYmxlLXNjcm9sbCB0YWJsZSB0Ym9keSB0cjpudGgtY2hpbGQob2RkKSB0ZDpmaXJzdC1jaGlsZCB7XG4gICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNDQsMjQ3LDI1MSwwLjQ1KTtcbiAgICAgICAgfVxuXG4gICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA5MDBweCkge1xuICAgICAgICAgIDpyb290e1xuICAgICAgICAgICAgLS1mb250LWJhc2U6IDEzLjVweDtcbiAgICAgICAgICAgIC0tZm9udC1oZWFkaW5nOiAxN3B4O1xuICAgICAgICAgICAgLS1mb250LXRpdGxlOiAxN3B4O1xuICAgICAgICAgICAgLS1yb3ctcGFkOiA1cHg7XG4gICAgICAgICAgICAtLWxvZ28taGVpZ2h0OiAxMzBweDtcbiAgICAgICAgICAgIC0tc2lnLWhlaWdodDogMjZweDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLnZpZXdlci1zaGVsbCxcbiAgICAgICAgICAudmlld2VyLWZvb3RlciB7XG4gICAgICAgICAgICBwYWRkaW5nOiBjbGFtcCgxNnB4LCAzdncsIDIycHgpO1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMjBweDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLmNvbnRhaW5lciB7IHBhZGRpbmctaW5saW5lOiAxNHB4OyB9XG4gICAgICAgICAgLmNsaW5pYyB7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGFsaWduLWl0ZW1zOiBjZW50ZXI7IHRleHQtYWxpZ246IGNlbnRlcjsgfVxuICAgICAgICAgIC5jbGluaWMgaW1nIHsgaGVpZ2h0OiBhdXRvOyBtYXgtaGVpZ2h0OiAxMjBweDsgbWF4LXdpZHRoOiBtaW4oODAlLCAyNDBweCk7IH1cbiAgICAgICAgICAucGF0aWVudC1oZWFkIHsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7IGdhcDogNnB4OyB9XG4gICAgICAgICAgLnBoLW5hbWUgeyBmb250LXNpemU6IDE4cHg7IH1cbiAgICAgICAgICAucGgtbWV0YSB7IGZvbnQtc2l6ZTogMTNweDsgbGluZS1oZWlnaHQ6IDEuNDsgfVxuICAgICAgICAgIC5jb250cm9scyB7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGFsaWduLWl0ZW1zOiBzdHJldGNoOyBnYXA6IDEycHg7IH1cbiAgICAgICAgICAuY29udHJvbC10b2dnbGUgeyB3aWR0aDogMTAwJTsgfVxuICAgICAgICAgIC5jb250cm9sLXNlbGVjdHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBzdHJldGNoO1xuICAgICAgICAgICAgZ2FwOjZweDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLmNvbnRyb2wtc2VsZWN0IC5sYWJlbHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLmNvbnRyb2wtcm93IHsgd2lkdGg6IDEwMCU7IH1cbiAgICAgICAgICAuY29udHJvbC1yb3cgc2VsZWN0IHtcbiAgICAgICAgICAgIGZsZXg6IDEgMSBhdXRvO1xuICAgICAgICAgICAgbWluLXdpZHRoOiAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICAuZGF0ZS1zZWxlY3Qge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNXB4O1xuICAgICAgICAgICAgcGFkZGluZzogOHB4IDEwcHg7XG4gICAgICAgICAgICBtaW4taGVpZ2h0OiA0MHB4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAucmVwb3J0LWZvb3RlciB7IGZvbnQtc2l6ZTogMTIuNXB4OyBwYWRkaW5nLXRvcDogMThweDsgfVxuICAgICAgICAgIC5zaWctcm93IHtcbiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMTYwcHgsMWZyKSk7XG4gICAgICAgICAgICBnYXA6MTJweDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLnNpZyB7IHdpZHRoOiAxMDAlOyBwYWRkaW5nLXRvcDo0cHg7IH1cbiAgICAgICAgICAuc2lnIGltZyB7IG1heC1oZWlnaHQ6IDIycHg7IH1cbiAgICAgICAgICAucHMtY2FyZCB7IHBhZGRpbmc6IDEycHg7IH1cbiAgICAgICAgICAucHMtZ3JpZCB7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMTYwcHgsIDFmcikpOyB9XG4gICAgICAgICAgLnNlY3Rpb24tYmxvY2sge1xuICAgICAgICAgICAgcGFkZGluZzogMTZweCAxNnB4IDEycHg7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxOHB4O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA1NjBweCkge1xuICAgICAgICAgIC50b29sYmFyeyBmbGV4LWRpcmVjdGlvbjp3cmFwOyB9XG4gICAgICAgICAgOnJvb3R7XG4gICAgICAgICAgICAtLWZvbnQtYmFzZTogMTIuOHB4O1xuICAgICAgICAgICAgLS1mb250LWhlYWRpbmc6IDE1cHg7XG4gICAgICAgICAgICAtLWZvbnQtdGl0bGU6IDE1cHg7XG4gICAgICAgICAgICAtLXJvdy1wYWQ6IDRweDtcbiAgICAgICAgICAgIC0tc2lnLWhlaWdodDogMjJweDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLnZpZXdlci1zaGVsbCxcbiAgICAgICAgICAudmlld2VyLWZvb3RlciB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTZweDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLmNvbnRhaW5lciB7IHBhZGRpbmctaW5saW5lOiAxMnB4OyB9XG4gICAgICAgICAgLmNvbnRyb2wtcm93IHtcbiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgICBhbGlnbi1pdGVtczogc3RyZXRjaDtcbiAgICAgICAgICAgIGdhcDogMTBweDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLmNvbnRyb2wtc2VsZWN0e1xuICAgICAgICAgICAgZ2FwOjRweDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLmNvbnRyb2wtc2VsZWN0IC5sYWJlbHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTMuNXB4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAuY29udHJvbC1yb3cgc2VsZWN0LFxuICAgICAgICAgIC5jb250cm9sLXJvdyBidXR0b24ge1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5kYXRlLXNlbGVjdCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDE0LjVweDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDhweCAxMHB4O1xuICAgICAgICAgICAgbWluLWhlaWdodDogMzhweDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLnRhYmxlLXNjcm9sbCB0YWJsZSB7XG4gICAgICAgICAgICBtaW4td2lkdGg6IDUyMHB4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAuc2VjdGlvbi1ibG9jayB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxNHB4IDE0cHggMTBweDtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyogVXRpbGl0eTogcHJpbnQtb25seS9zY3JlZW4tb25seSAobm8gVGFpbHdpbmQgZGVwZW5kZW5jeSkgKi9cbiAgICAgICAgLnByaW50LW9ubHkgeyBkaXNwbGF5OiBub25lOyB9XG4gICAgICAgIC5zY3JlZW4tb25seSB7IGRpc3BsYXk6IGJsb2NrOyB9XG5cbiAgICAgICAgQG1lZGlhIHByaW50IHtcbiAgICAgICAgICAvKiA9PT09IEE1IHBvcnRyYWl0IHNldHVwID09PT0gKi9cbiAgICAgICAgICBAcGFnZSB7IHNpemU6IEE1IHBvcnRyYWl0OyBtYXJnaW46IDEwbW07IH1cblxuICAgICAgICAgIDpyb290e1xuICAgICAgICAgICAgLS1mb250LWJhc2U6IDExcHg7XG4gICAgICAgICAgICAtLWZvbnQtaGVhZGluZzogMTNweDtcbiAgICAgICAgICAgIC0tZm9udC10aXRsZTogMTNweDtcbiAgICAgICAgICAgIC0tcm93LXBhZDogNHB4O1xuICAgICAgICAgICAgLS1zaWctaGVpZ2h0OiAyMnB4O1xuICAgICAgICAgICAgLS1sb2dvLWhlaWdodDogNjRweDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBib2R5IHsgbWFyZ2luOiAwOyBmb250LXNpemU6IHZhcigtLWZvbnQtYmFzZSk7IH1cblxuICAgICAgICAgIC5wYWdlIHsgcGFkZGluZzogMCAhaW1wb3J0YW50OyBiYWNrZ3JvdW5kOiAjZmZmICFpbXBvcnRhbnQ7IH1cbiAgICAgICAgICAuY29udGFpbmVyIHsgbWF4LXdpZHRoOiBub25lOyBwYWRkaW5nOiAwOyBtYXJnaW46IDA7IH1cbiAgICAgICAgICAudmlld2VyLXNoZWxsLFxuICAgICAgICAgIC52aWV3ZXItZm9vdGVyIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcbiAgICAgICAgICAgIG1hcmdpbjogMCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmICFpbXBvcnRhbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIC50b29sYmFyLCAuY29udHJvbHMgeyBkaXNwbGF5Om5vbmUgIWltcG9ydGFudDsgfVxuICAgICAgICAgIC5jbGluaWMgeyBtYXJnaW46IDAgMCA2cHggMDsgdGV4dC1hbGlnbjogY2VudGVyOyBiYWNrZ3JvdW5kOiAjZmZmICFpbXBvcnRhbnQ7IGJvcmRlcjogbm9uZSAhaW1wb3J0YW50OyB9XG4gICAgICAgICAgLmNsaW5pYyBpbWcgeyBtYXgtaGVpZ2h0OiA2NHB4ICFpbXBvcnRhbnQ7IH1cbiAgICAgICAgICBoMyB7IG1hcmdpbjogNnB4IDA7IGJyZWFrLWFmdGVyOiBhdm9pZC1wYWdlOyB9XG5cbiAgICAgICAgICAvKiBBbGxvdyBzcGxpdHRpbmcgdG8gYXZvaWQgbGFyZ2Ugd2hpdGUgZ2FwcyAqL1xuICAgICAgICAgIC5zZWN0aW9uLWJsb2NrIHsgYnJlYWstaW5zaWRlOiBhdXRvICFpbXBvcnRhbnQ7IHBhZ2UtYnJlYWstaW5zaWRlOiBhdXRvICFpbXBvcnRhbnQ7IH1cbiAgICAgICAgICB0YWJsZSB7IHBhZ2UtYnJlYWstaW5zaWRlOiBhdXRvICFpbXBvcnRhbnQ7IH1cbiAgICAgICAgICB0aGVhZCB7IGRpc3BsYXk6IHRhYmxlLWhlYWRlci1ncm91cCAhaW1wb3J0YW50OyB9ICAgLyogcmVwZWF0IGhlYWRlcnMgb24gbmV3IHBhZ2UgKi9cbiAgICAgICAgICB0Zm9vdCB7IGRpc3BsYXk6IHRhYmxlLWZvb3Rlci1ncm91cCAhaW1wb3J0YW50OyB9XG4gICAgICAgICAgdHIsIHRkLCB0aCB7IHBhZ2UtYnJlYWstaW5zaWRlOiBhdm9pZDsgfSAgXG4gICAgICAgICAgLnRhYmxlLXNjcm9sbCB7IG92ZXJmbG93OiB2aXNpYmxlICFpbXBvcnRhbnQ7IH1cbiAgICAgICAgICAudGFibGUtc2Nyb2xsIHRhYmxlIHsgbWluLXdpZHRoOiAwICFpbXBvcnRhbnQ7IH1cblxuICAgICAgICAgIC8qIEZvb3Rlci9zaWduZXJzIHNob3VsZG7igJl0IHNwbGl0ICovXG4gICAgICAgICAgLnJlcG9ydC1mb290ZXIgeyBwYWdlLWJyZWFrLWluc2lkZTogYXZvaWQ7IH1cblxuICAgICAgICAgIC8qIEhpZGUgUGF0aWVudCBTdW1tYXJ5IENhcmQgb24gcHJpbnQgKi9cbiAgICAgICAgICAucHMtY2FyZCB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfVxuXG4gICAgICAgICAgLyogVXRpbGl0aWVzICovXG4gICAgICAgICAgLnByaW50LW9ubHkgeyBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50OyB9XG4gICAgICAgICAgLnNjcmVlbi1vbmx5IHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9XG5cbiAgICAgICAgICAvKiBQUklOVCDigJQgZm9yY2Ugc21hbGxlciBmb290ZXIgYW5kIHNpZ25hdHVyZXMgKG92ZXJyaWRlcyBpbmxpbmUgd2l0aCAhaW1wb3J0YW50KSAqL1xuICAgICAgICAgIC5mb290ZXItbGluZXMgeyBmb250LXNpemU6IDhweCAhaW1wb3J0YW50OyBsaW5lLWhlaWdodDogMS4xNSAhaW1wb3J0YW50OyB9ICAgLyogZm9vdGVyIHRleHQgKi9cbiAgICAgICAgICAucmVwb3J0LWZvb3RlciB7IG1hcmdpbi10b3A6IDEwcHggIWltcG9ydGFudDsgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBicmVhdGhpbmcgcm9vbSAqL1xuXG4gICAgICAgICAgLnNpZy1yb3d7XG4gICAgICAgICAgICBkaXNwbGF5OiBncmlkICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgyLCBtaW5tYXgoMCwxZnIpKSAhaW1wb3J0YW50O1xuICAgICAgICAgICAgZ2FwOiA0cHggMTBweCAhaW1wb3J0YW50O1xuICAgICAgICAgICAganVzdGlmeS1pdGVtczogY2VudGVyICFpbXBvcnRhbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5zaWd7XG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXIgIWltcG9ydGFudDtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLnNpZyBpbWd7IG1heC1oZWlnaHQ6IDEycHggIWltcG9ydGFudDsgbWFyZ2luOiAwIDAgMnB4IDAgIWltcG9ydGFudDsgfVxuICAgICAgICAgIC5zaWcgc3Ryb25neyBmb250LXNpemU6IDEwLjVweCAhaW1wb3J0YW50OyBsaW5lLWhlaWdodDogMS4xNSAhaW1wb3J0YW50OyB9XG4gICAgICAgICAgLm11dGVkeyBmb250LXNpemU6IDkuNXB4ICFpbXBvcnRhbnQ7IGxpbmUtaGVpZ2h0OiAxLjE1ICFpbXBvcnRhbnQ7IH1cbiAgICAgICAgfVxuXG4gICAgICAgIEBtZWRpYSBwcmludCB7XG4gICAgICAgICAgLyogPT09PSBBNSBwb3J0cmFpdCArIGNvbXBhY3Qgc2l6aW5nID09PT0gKi9cbiAgICAgICAgICBAcGFnZSB7IHNpemU6IEE1IHBvcnRyYWl0OyBtYXJnaW46IDZtbTsgfVxuXG4gICAgICAgICAgOnJvb3R7XG4gICAgICAgICAgICAtLWZvbnQtYmFzZTogMTFweDtcbiAgICAgICAgICAgIC0tZm9udC1oZWFkaW5nOiAxM3B4O1xuICAgICAgICAgICAgLS1mb250LXRpdGxlOiAxM3B4O1xuICAgICAgICAgICAgLS1yb3ctcGFkOiAzcHg7XG4gICAgICAgICAgICAtLXNpZy1oZWlnaHQ6IDIycHg7XG4gICAgICAgICAgICAtLWxvZ28taGVpZ2h0OiA2NHB4O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJvZHkgeyBtYXJnaW46IDA7IGZvbnQtc2l6ZTogdmFyKC0tZm9udC1iYXNlKTsgfVxuXG4gICAgICAgICAgLnBhZ2UgeyBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50OyBtaW4taGVpZ2h0OiBhdXRvICFpbXBvcnRhbnQ7IHBhZGRpbmc6IDAgIWltcG9ydGFudDsgYmFja2dyb3VuZDogI2ZmZiAhaW1wb3J0YW50OyB9XG4gICAgICAgICAgLmNvbnRhaW5lciB7IG1heC13aWR0aDogbm9uZTsgcGFkZGluZzogMCAhaW1wb3J0YW50OyBtYXJnaW46IDAgIWltcG9ydGFudDsgfVxuICAgICAgICAgIC52aWV3ZXItc2hlbGwsXG4gICAgICAgICAgLnZpZXdlci1mb290ZXIge1xuICAgICAgICAgICAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDAgIWltcG9ydGFudDtcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IG5vbmUgIWltcG9ydGFudDtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmZmYgIWltcG9ydGFudDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvKiBIaWRlIG9uIHByaW50ICovXG4gICAgICAgICAgLnRvb2xiYXIsIC5jb250cm9scyB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfVxuICAgICAgICAgIC5wcmludC1oaWRlIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9XG4gICAgICAgICAgLnNjcmVlbi1vbmx5IHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9XG5cbiAgICAgICAgICAvKiBTaG93IG9uIHByaW50ICovXG4gICAgICAgICAgLnByaW50LW9ubHkgeyBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50OyB9XG5cbiAgICAgICAgICAvKiBIZWFkZXIgY29tcGFjdGlvbiAqL1xuICAgICAgICAgIC5jbGluaWMgeyBtYXJnaW46IDAgMCA2cHggMDsgdGV4dC1hbGlnbjogY2VudGVyOyBiYWNrZ3JvdW5kOiAjZmZmICFpbXBvcnRhbnQ7IGJvcmRlcjogbm9uZSAhaW1wb3J0YW50OyB9XG4gICAgICAgICAgLmNsaW5pYyBpbWcgICB7IG1heC1oZWlnaHQ6IDU0cHggIWltcG9ydGFudDsgfVxuICAgICAgICAgIC5jbGluaWMtbmFtZSAgeyBmb250LXNpemU6IDE0cHggIWltcG9ydGFudDsgbGluZS1oZWlnaHQ6IDEuMTU7IH1cblxuICAgICAgICAgIC8qIFdoaXRlIHBhcGVyIGxvb2sgT05MWSBvbiBwcmludCAqL1xuICAgICAgICAgIGh0bWwsIGJvZHksIG1haW4sICNfX25leHQsXG4gICAgICAgICAgLnBhZ2UsIC5jb250YWluZXIsIC5jb250ZW50LFxuICAgICAgICAgIHNlY3Rpb24sIGFydGljbGUsXG4gICAgICAgICAgdGFibGUsIHRoZWFkLCB0Ym9keSwgdHIsIHRoLCB0ZCB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmICFpbXBvcnRhbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8qIHN0cmlwIGNhcmQvYm9yZGVyIGxvb2sgKi9cbiAgICAgICAgICAucGFnZSwgLmNvbnRhaW5lciwgLmNvbnRlbnQsIHNlY3Rpb24sXG4gICAgICAgICAgLmNhcmQsIC5wYW5lbCwgLmJveCwgLnBhdGllbnQtaGVhZCwgLnBzLWNhcmQsIC5yZXBvcnQtZm9vdGVyLCAudmlld2VyLXNoZWxsLCAudmlld2VyLWZvb3RlciwgLnNlY3Rpb24tYmxvY2ssIHRhYmxlIHtcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IG5vbmUgIWltcG9ydGFudDtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDAgIWltcG9ydGFudDtcbiAgICAgICAgICAgIGJvcmRlcjogbm9uZSAhaW1wb3J0YW50O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8qIGtlZXAgc3VidGxlIHRhYmxlIGxpbmVzIChPUFRJT05BTCkgKi9cbiAgICAgICAgICB0YWJsZSB0aGVhZCB0aCB7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDAsMCwwLDAuMDgpICFpbXBvcnRhbnQ7IH1cbiAgICAgICAgICB0YWJsZSB0Ym9keSB0ZCB7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDAsMCwwLDAuMDYpICFpbXBvcnRhbnQ7IH1cblxuICAgICAgICAgIC8qIEFsbG93IGNvbnRlbnQgdG8gc3BsaXQgYWNyb3NzIHBhZ2VzIChhdm9pZCBiaWcgd2hpdGUgZ2FwcykgKi9cbiAgICAgICAgICAuc2VjdGlvbi1ibG9jayB7IGJyZWFrLWluc2lkZTogYXV0byAhaW1wb3J0YW50OyBwYWdlLWJyZWFrLWluc2lkZTogYXV0byAhaW1wb3J0YW50OyBtYXJnaW4tYm90dG9tOiA4cHggIWltcG9ydGFudDsgfVxuICAgICAgICAgIHRhYmxlIHsgcGFnZS1icmVhay1pbnNpZGU6IGF1dG8gIWltcG9ydGFudDsgbWFyZ2luLWJvdHRvbTogNnB4ICFpbXBvcnRhbnQ7IH1cbiAgICAgICAgICB0aGVhZCB7IGRpc3BsYXk6IHRhYmxlLWhlYWRlci1ncm91cCAhaW1wb3J0YW50OyB9XG4gICAgICAgICAgdGZvb3QgeyBkaXNwbGF5OiB0YWJsZS1mb290ZXItZ3JvdXAgIWltcG9ydGFudDsgfVxuICAgICAgICAgIHRyLCB0ZCwgdGggeyBwYWdlLWJyZWFrLWluc2lkZTogYXZvaWQ7IH1cbiAgICAgICAgICAudGFibGUtc2Nyb2xsIHsgb3ZlcmZsb3c6IHZpc2libGUgIWltcG9ydGFudDsgfVxuICAgICAgICAgIC50YWJsZS1zY3JvbGwgdGFibGUgeyBtaW4td2lkdGg6IDAgIWltcG9ydGFudDsgfVxuXG4gICAgICAgICAgLyogSGlkZSBQYXRpZW50IFN1bW1hcnkgb24gcHJpbnQgKi9cbiAgICAgICAgICAucHMtY2FyZCB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfVxuXG4gICAgICAgICAgLyogRm9vdGVyICYgc2lnbmF0dXJlczogc21hbGxlciwgY2VudGVyZWQsIDIgY29sdW1ucyAqL1xuICAgICAgICAgIC5yZXBvcnQtZm9vdGVyIHsgcGFnZS1icmVhay1pbnNpZGU6IGF2b2lkOyBtYXJnaW4tdG9wOiAxMHB4ICFpbXBvcnRhbnQ7IGxpbmUtaGVpZ2h0OiAxLjIgIWltcG9ydGFudDsgfVxuICAgICAgICAgIC5mb290ZXItbGluZXMgIHsgZm9udC1zaXplOiA4LjVweCAhaW1wb3J0YW50OyBsaW5lLWhlaWdodDogMS4xNSAhaW1wb3J0YW50OyB9XG5cbiAgICAgICAgICAuc2lnLXJvd3tcbiAgICAgICAgICAgIGRpc3BsYXk6IGdyaWQgIWltcG9ydGFudDtcbiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDIsIG1pbm1heCgwLDFmcikpICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICBnYXA6IDRweCAxMHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICBhbGlnbi1pdGVtczogZW5kICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXIgIWltcG9ydGFudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLnNpZ3tcbiAgICAgICAgICAgIG1pbi13aWR0aDogMCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgbWFyZ2luLXRvcDogMCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyICFpbXBvcnRhbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5zaWcgaW1neyBtYXgtaGVpZ2h0OiAxMnB4ICFpbXBvcnRhbnQ7IG1hcmdpbjogMCAwIDJweCAwICFpbXBvcnRhbnQ7IH1cbiAgICAgICAgICAuc2lnIHN0cm9uZ3sgZm9udC1zaXplOiAxMC41cHggIWltcG9ydGFudDsgbGluZS1oZWlnaHQ6IDEuMTUgIWltcG9ydGFudDsgfVxuICAgICAgICAgIC5tdXRlZHsgZm9udC1zaXplOiA5LjVweCAhaW1wb3J0YW50OyBsaW5lLWhlaWdodDogMS4xNSAhaW1wb3J0YW50OyB9XG5cbiAgICAgICAgICAvKiBQUklOVDogYSBsaXR0bGUgbW9yZSBzcGFjZSBhYm92ZSBmb290ZXIvc2lnbmF0dXJlcyAqL1xuICAgICAgICAgICAgdGFibGV7IG1hcmdpbi1ib3R0b206IDEycHggIWltcG9ydGFudDsgfSAgICAgICAgIC8qIHdhcyA2cHggKi9cbiAgICAgICAgICAgIC5zZWN0aW9uLWJsb2NreyBtYXJnaW4tYm90dG9tOiAxMnB4ICFpbXBvcnRhbnQ7IH0vKiB3YXMgOHB4ICovXG4gICAgICAgICAgICAucmVwb3J0LWZvb3RlcnsgbWFyZ2luLXRvcDogMTRweCAhaW1wb3J0YW50OyB9ICAgLyogbW9yZSBhaXIgKi9cblxuICAgICAgICAgICAgLyogUFJJTlQ6IHNpZ25hdHVyZXMgcGVyZmVjdGx5IGNlbnRlcmVkIHVuZGVyIG5hbWVzICovXG4gICAgICAgICAgICAuc2lnLXJvd3tcbiAgICAgICAgICAgICAgZGlzcGxheTpncmlkICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDIsIG1pbm1heCgwLDFmcikpICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgIGNvbHVtbi1nYXA6MTJweCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICByb3ctZ2FwOjZweCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICBqdXN0aWZ5LWl0ZW1zOmNlbnRlciAhaW1wb3J0YW50OyAgLyogY2VudGVycyBlYWNoIHNpZ25lciBibG9jayAqL1xuICAgICAgICAgICAgICBhbGlnbi1pdGVtczplbmQgIWltcG9ydGFudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5zaWd7XG4gICAgICAgICAgICAgIGRpc3BsYXk6ZmxleCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjpjb2x1bW4gIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgYWxpZ24taXRlbXM6Y2VudGVyICFpbXBvcnRhbnQ7ICAgIC8qIGNlbnRlcnMgaW1hZ2UgKyB0ZXh0ICovXG4gICAgICAgICAgICAgIHRleHQtYWxpZ246Y2VudGVyICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgIG1pbi13aWR0aDowICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgIG1hcmdpbi10b3A6MCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLnNpZyBpbWd7XG4gICAgICAgICAgICAgIGRpc3BsYXk6YmxvY2sgIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgbWF4LWhlaWdodDoxMnB4ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgIG1hcmdpbjowIDAgNHB4IDAgIWltcG9ydGFudDsgICAgICAvKiBzbWFsbCBnYXAgYWJvdmUgdGhlIG5hbWUgKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5zaWcgc3Ryb25neyBmb250LXNpemU6MTAuNXB4ICFpbXBvcnRhbnQ7IGxpbmUtaGVpZ2h0OjEuMTUgIWltcG9ydGFudDsgfVxuICAgICAgICAgICAgLm11dGVkeyAgICAgIGZvbnQtc2l6ZTogOS41cHggIWltcG9ydGFudDsgbGluZS1oZWlnaHQ6MS4xNSAhaW1wb3J0YW50OyB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8qIC0tLSBXYXRlcm1hcmsgbGF5ZXIgLS0tICovXG4gICAgICAgIC5wYWdlIHsgcG9zaXRpb246IHJlbGF0aXZlOyB9XG4gICAgICAgIC5wYWdlID4gKiB7IHBvc2l0aW9uOiByZWxhdGl2ZTsgei1pbmRleDogMTsgfVxuICAgICAgICAud20tbGF5ZXIgeyBwb3NpdGlvbjogZml4ZWQ7IGluc2V0OiAwOyBkaXNwbGF5OiBub25lOyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgcG9pbnRlci1ldmVudHM6IG5vbmU7IHotaW5kZXg6IDA7IH1cbiAgICAgICAgLndtLWltZyB7IHdpZHRoOiB2YXIoLS13bS1zaXplLCA2MHZ3KTsgaGVpZ2h0OiBhdXRvOyBvcGFjaXR5OiB2YXIoLS13bS1vcGFjaXR5LCAwLjA2KTsgdHJhbnNmb3JtOiByb3RhdGUodmFyKC0td20tYW5nbGUsIC0zMGRlZykpOyB9XG4gICAgICAgIEBtZWRpYSBwcmludCB7XG4gICAgICAgICAgLndtLWxheWVyIHsgZGlzcGxheTogZmxleCAhaW1wb3J0YW50OyB9XG4gICAgICAgICAgLndtLWxheWVyW2RhdGEtcHJpbnQ9XCJvZmZcIl0geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH1cbiAgICAgICAgICAud20taW1nIHsgb3BhY2l0eTogdmFyKC0td20tb3BhY2l0eS1wcmludCwgMC4wOCk7IH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qIFNwbGFzaCBvdmVybGF5ICovXG4gICAgICAgIC5zcGxhc2ggeyBwb3NpdGlvbjogZml4ZWQ7IGluc2V0OiAwOyBkaXNwbGF5OiBncmlkOyBwbGFjZS1pdGVtczogY2VudGVyOyBiYWNrZ3JvdW5kOiAjZmZmOyB6LWluZGV4OiA5OTk5OyBvcGFjaXR5OiAxOyB0cmFuc2l0aW9uOiBvcGFjaXR5IC4ycyBlYXNlOyB9XG4gICAgICAgIC5zcGxhc2gtaW5uZXIgeyB0ZXh0LWFsaWduOiBjZW50ZXI7IGRpc3BsYXk6IGdyaWQ7IGdhcDogMTBweDsgfVxuICAgICAgICAuc3BsYXNoLXRleHQgeyBmb250LXNpemU6IDE0cHg7IGNvbG9yOiAjNjY2OyB9XG4gICAgICAgIC5zcGxhc2gtZG90IHsgd2lkdGg6IDZweDsgaGVpZ2h0OiA2cHg7IGJvcmRlci1yYWRpdXM6IDk5OTlweDsgYmFja2dyb3VuZDogIzIyMjsgbWFyZ2luOiA2cHggYXV0byAwOyBhbmltYXRpb246IHB1bHNlIDFzIGVhc2UtaW4tb3V0IGluZmluaXRlOyB9XG4gICAgICAgIEBrZXlmcmFtZXMgcHVsc2UgeyAwJSwgMTAwJSB7IHRyYW5zZm9ybTogc2NhbGUoMC44KTsgb3BhY2l0eTogLjQ7IH0gNTAlIHsgdHJhbnNmb3JtOiBzY2FsZSgxLjMpOyBvcGFjaXR5OiAxOyB9IH1cblxuICAgICAgICAvKiBQYXRpZW50IFN1bW1hcnkgQ2FyZCAoc2NyZWVuIG9ubHkgYnkgZGVmYXVsdCkgKi9cbiAgICAgICAgLnBzLWNhcmQgeyBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1LDgyLDEwMiwwLjEyKTsgYm9yZGVyLXJhZGl1czogMjBweDsgcGFkZGluZzogMTZweDsgbWFyZ2luOiA4cHggMCAxNnB4OyBiYWNrZ3JvdW5kOiByZ2JhKDI0NCwyNDcsMjUxLDAuNjUpOyBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoNHB4KTsgYm94LXNoYWRvdzogaW5zZXQgMCAxcHggMCByZ2JhKDI1NSwyNTUsMjU1LDAuNDUpOyB9XG4gICAgICAgIC5wcy1oZWFkIHsgZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGp1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuOyBnYXA6MTBweDsgbWFyZ2luLWJvdHRvbToxMHB4OyBmbGV4LXdyYXA6d3JhcDsgfVxuICAgICAgICAucHMtdGl0bGUgeyBmb250LXdlaWdodDogNzAwOyBmb250LXNpemU6IDE1cHg7IGNvbG9yOiB2YXIoLS1icmFuZCk7IH1cbiAgICAgICAgLnBzLWFjdGlvbnMgeyBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsgZ2FwOjhweDsgZmxleC13cmFwOndyYXA7IH1cbiAgICAgICAgLnBzLWJhZGdlIHsgZm9udC1zaXplOjExcHg7IGNvbG9yOiM1MjY2NzM7IGJhY2tncm91bmQ6I2ZmZjsgYm9yZGVyOjFweCBzb2xpZCByZ2JhKDI1LDgyLDEwMiwwLjE2KTsgYm9yZGVyLXJhZGl1czo5OTlweDsgcGFkZGluZzozcHggMTBweDsgYm94LXNoYWRvdzowIDRweCAxMnB4IHJnYmEoMTUsMjMsNDIsMC4wOCk7IH1cbiAgICAgICAgLnBzLXRvZ2dsZSB7IGJvcmRlcjoxcHggc29saWQgcmdiYSgyNSw4MiwxMDIsMC4xOCk7IGJhY2tncm91bmQ6I2ZmZjsgY29sb3I6dmFyKC0tYnJhbmQpOyBmb250LXNpemU6MTJweDsgZm9udC13ZWlnaHQ6NjAwOyBwYWRkaW5nOjVweCAxMHB4OyBib3JkZXItcmFkaXVzOjk5OXB4OyBkaXNwbGF5OmlubGluZS1mbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGdhcDo2cHg7IGJveC1zaGFkb3c6MCA0cHggMTBweCByZ2JhKDE1LDIzLDQyLDAuMDgpOyB0cmFuc2l0aW9uOnRyYW5zZm9ybSAuMTVzIGVhc2UsIGJveC1zaGFkb3cgLjE1cyBlYXNlOyB9XG4gICAgICAgIC5wcy10b2dnbGUgc3ZnIHsgd2lkdGg6MTJweDsgaGVpZ2h0OjEycHg7IHRyYW5zaXRpb246IHRyYW5zZm9ybSAuMnMgZWFzZTsgfVxuICAgICAgICAucHMtY2FyZC5pcy1vcGVuIC5wcy10b2dnbGUgc3ZnIHsgdHJhbnNmb3JtOiByb3RhdGUoMTgwZGVnKTsgfVxuICAgICAgICAucHMtdG9nZ2xlOmhvdmVyeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTFweCk7IGJveC1zaGFkb3c6MCA2cHggMTJweCByZ2JhKDE1LDIzLDQyLDAuMTIpOyB9XG4gICAgICAgIC5wcy10b2dnbGU6YWN0aXZleyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7IGJveC1zaGFkb3c6bm9uZTsgfVxuICAgICAgICAucHMtY29sbGFwc2VkLWNoaXBzIHsgZGlzcGxheTpmbGV4OyBmbGV4LXdyYXA6d3JhcDsgZ2FwOjZweDsgbWFyZ2luLWJvdHRvbTo4cHg7IH1cbiAgICAgICAgLnBzLWNoaXAgeyBmb250LXNpemU6MTEuNXB4OyBjb2xvcjojMzU2MDcyOyBiYWNrZ3JvdW5kOiNmZmY7IGJvcmRlcjoxcHggc29saWQgcmdiYSgyNSw4MiwxMDIsMC4xNSk7IGJvcmRlci1yYWRpdXM6OTk5cHg7IHBhZGRpbmc6NHB4IDlweDsgYm94LXNoYWRvdzowIDNweCA4cHggcmdiYSgxNSwyMyw0MiwwLjA4KTsgfVxuICAgICAgICAucHMtYm9keSB7IG92ZXJmbG93OmhpZGRlbjsgdHJhbnNpdGlvbjptYXgtaGVpZ2h0IC4yOHMgZWFzZSwgb3BhY2l0eSAuMThzIGVhc2U7IH1cbiAgICAgICAgLnBzLWJvZHkub3BlbiB7IG1heC1oZWlnaHQ6IDEyMDBweDsgb3BhY2l0eToxOyB9XG4gICAgICAgIC5wcy1ib2R5LmNvbGxhcHNlZCB7IG1heC1oZWlnaHQ6IDA7IG9wYWNpdHk6MDsgcG9pbnRlci1ldmVudHM6bm9uZTsgfVxuICAgICAgICAucHMtZ3JpZCB7IGRpc3BsYXk6Z3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgxODBweCwxZnIpKTsgZ2FwOiAxMHB4IDE2cHg7IHBhZGRpbmctdG9wOjJweDsgfVxuICAgICAgICAucHMtbGFiZWwgeyBjb2xvcjojNjM3Njg1OyBmb250LXNpemU6MTJweDsgdGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlOyBsZXR0ZXItc3BhY2luZzowLjAzZW07IH1cbiAgICAgICAgLnBzLXZhbHVlIHsgZm9udC13ZWlnaHQ6NjAwOyBjb2xvcjp2YXIoLS1icmFuZCk7IH1cbiAgICAgICAgLnBzLW11bHRpIHsgd2hpdGUtc3BhY2U6cHJlLXdyYXA7IGxpbmUtaGVpZ2h0OjEuMjU7IH1cbiAgICAgICAgLnBzLXBpbGwgeyBkaXNwbGF5OmlubGluZS1ibG9jazsgcGFkZGluZzoycHggOHB4OyBib3JkZXItcmFkaXVzOjk5OXB4OyBmb250LXNpemU6MTJweDsgYm9yZGVyOjFweCBzb2xpZCByZ2JhKDI1LDgyLDEwMiwwLjE4KTsgYmFja2dyb3VuZDojZmZmOyBjb2xvcjp2YXIoLS1icmFuZCk7IH1cbiAgICAgICAgLnBzLXNlcCB7IGdyaWQtY29sdW1uOjEgLyAtMTsgaGVpZ2h0OjFweDsgYmFja2dyb3VuZDojZDdlNGVjOyBtYXJnaW46NnB4IDA7IG9wYWNpdHk6MC43OyB9XG5cbiAgICAgICAgLyogSW5saW5lIGxvYWRpbmcgcGFuZWwgKGFmdGVyIGhlYWRlcikgKi9cbiAgICAgICAgLnBhbmVsLWxvYWRlcntcbiAgICAgICAgICBtYXJnaW46IDE0cHggMDtcbiAgICAgICAgICBwYWRkaW5nOiAyNnB4O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7XG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNSw4MiwxMDIsMC4wOCk7XG4gICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDE4MGRlZywgI2ZmZmZmZiAwJSwgI2Y2ZmJmZiAxMDAlKTtcbiAgICAgICAgICBib3gtc2hhZG93OiAwIDEycHggMzZweCByZ2JhKDE1LCAyMywgNDIsIDAuMDgpO1xuICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgICAgcGxhY2UtaXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICBjb2xvcjogIzJjNTU2NjtcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIH1cbiAgICAgICAgLmxvYWRlci1kb3Rze1xuICAgICAgICAgIGRpc3BsYXk6ZmxleDtcbiAgICAgICAgICBnYXA6OHB4O1xuICAgICAgICB9XG4gICAgICAgIC5sb2FkZXItZG90cyBzcGFue1xuICAgICAgICAgIHdpZHRoOjEwcHg7XG4gICAgICAgICAgaGVpZ2h0OjEwcHg7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czo5OTlweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiM0NDk2OWI7XG4gICAgICAgICAgb3BhY2l0eTowLjI1O1xuICAgICAgICAgIGFuaW1hdGlvbjogbG9hZGVyLXB1bHNlIDFzIGVhc2UtaW4tb3V0IGluZmluaXRlO1xuICAgICAgICB9XG4gICAgICAgIC5sb2FkZXItZG90cyBzcGFuOm50aC1jaGlsZCgyKXsgYW5pbWF0aW9uLWRlbGF5OiAuMTJzOyB9XG4gICAgICAgIC5sb2FkZXItZG90cyBzcGFuOm50aC1jaGlsZCgzKXsgYW5pbWF0aW9uLWRlbGF5OiAuMjRzOyB9XG4gICAgICAgIEBrZXlmcmFtZXMgbG9hZGVyLXB1bHNlIHsgMCUsIDEwMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMXB4KTsgb3BhY2l0eTogLjI1OyB9IDUwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNHB4KTsgb3BhY2l0eTogMTsgfSB9XG4gICAgICAgIFxuICAgICAgYH08L3N0eWxlPlxuXG4gICAgICB7c2hvd1NwbGFzaCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BsYXNoXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGxhc2gtaW5uZXJcIj5cbiAgICAgICAgICAgIHtsb2dvU3JjID8gPGltZyBzcmM9e2xvZ29TcmN9IGFsdD1cIlwiIHJlZmVycmVyUG9saWN5PVwibm8tcmVmZXJyZXJcIiBzdHlsZT17eyBtYXhIZWlnaHQ6IDcyIH19IC8+IDogbnVsbH1cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BsYXNoLXRleHRcIj57Y2ZnPy5sb2FkaW5nX3NwbGFzaF90ZXh0IHx8IFwiTG9hZGluZyBXRUxMU0VSVsKuIFBvcnRhbOKAplwifTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGxhc2gtZG90XCIgYXJpYS1oaWRkZW4gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7IXNob3dTcGxhc2ggJiYgaGFzV20gJiYgKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPVwid20tbGF5ZXJcIlxuICAgICAgICAgIGRhdGEtcHJpbnQ9e3dtU2hvd1ByaW50ID8gXCJvblwiIDogXCJvZmZcIn1cbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgZGlzcGxheTogd21TaG93U2NyZWVuID8gXCJmbGV4XCIgOiBcIm5vbmVcIixcbiAgICAgICAgICAgIFtcIi0td20tb3BhY2l0eVwiIGFzIGFueV06IFN0cmluZyh3bU9wYWNpdHlTY3JlZW5FZmZlY3RpdmUpLFxuICAgICAgICAgICAgW1wiLS13bS1vcGFjaXR5LXByaW50XCIgYXMgYW55XTogU3RyaW5nKHdtT3BhY2l0eVByaW50RWZmZWN0aXZlKSxcbiAgICAgICAgICAgIFtcIi0td20tYW5nbGVcIiBhcyBhbnldOiBgJHt3bUFuZ2xlRGVnfWRlZ2AsXG4gICAgICAgICAgICBbXCItLXdtLXNpemVcIiBhcyBhbnldOiB3bVNpemVFZmZlY3RpdmUsXG4gICAgICAgICAgfX1cbiAgICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgICAgICA+XG4gICAgICAgICAge3dhdGVybWFya1NyYyA/IChcbiAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwid20taW1nXCJcbiAgICAgICAgICAgICAgc3JjPXt3YXRlcm1hcmtTcmN9XG4gICAgICAgICAgICAgIHJlZmVycmVyUG9saWN5PVwibm8tcmVmZXJyZXJcIlxuICAgICAgICAgICAgICBvbkVycm9yPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGltZyA9IGUuY3VycmVudFRhcmdldCBhcyBIVE1MSW1hZ2VFbGVtZW50O1xuICAgICAgICAgICAgICAgIGlmICh3YXRlcm1hcmtGYWxsYmFjayAmJiBpbWcuc3JjICE9PSB3YXRlcm1hcmtGYWxsYmFjaykgaW1nLnNyYyA9IHdhdGVybWFya0ZhbGxiYWNrOyBlbHNlIGltZy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIGFsdD1cIlwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPVwiY29udGFpbmVyIGNvbnRlbnQgdmlld2VyLXNoZWxsXCJcbiAgICAgICAgc3R5bGU9e3sgb3BhY2l0eTogc2hvd1NwbGFzaCA/IDAgOiAxLCBwb2ludGVyRXZlbnRzOiBzaG93U3BsYXNoID8gXCJub25lXCIgOiBcImF1dG9cIiB9fVxuICAgICAgPlxuICAgICAgICB7LyogLS0tLS0tLS0tLSBDTElOSUMgSEVBREVSIChvdmVycmlkZS1hYmxlKSAtLS0tLS0tLS0tICovfVxuICAgICAgICB7aGVhZGVyT3ZlcnJpZGUgPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0yXCI+e2hlYWRlck92ZXJyaWRlfTwvZGl2PlxuICAgICAgICApIDogKFxuICAgICAgICAgIChjZmcuY2xpbmljX25hbWUgfHwgY2ZnLmNsaW5pY19sb2dvX3VybCB8fCBjZmcuY2xpbmljX2FkZHJlc3MgfHwgY2ZnLmNsaW5pY19waG9uZSkgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGluaWNcIiBzdHlsZT17eyBmbGV4RGlyZWN0aW9uOlwiY29sdW1uXCIsIGFsaWduSXRlbXM6XCJjZW50ZXJcIiwgdGV4dEFsaWduOlwiY2VudGVyXCIgfX0+XG4gICAgICAgICAgICAgIHtsb2dvU3JjID8gKFxuICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgIHNyYz17bG9nb1NyY31cbiAgICAgICAgICAgICAgICAgIGFsdD1cIlwiXG4gICAgICAgICAgICAgICAgICByZWZlcnJlclBvbGljeT1cIm5vLXJlZmVycmVyXCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGRpc3BsYXk6IFwiYmxvY2tcIiwgbWFyZ2luOiBcIjAgYXV0b1wiLCBtYXhIZWlnaHQ6IDEyMCB9fVxuICAgICAgICAgICAgICAgICAgb25FcnJvcj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1nID0gZS5jdXJyZW50VGFyZ2V0IGFzIEhUTUxJbWFnZUVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsb2dvRmFsbGJhY2sgJiYgaW1nLnNyYyAhPT0gbG9nb0ZhbGxiYWNrKSBpbWcuc3JjID0gbG9nb0ZhbGxiYWNrOyBlbHNlIGltZy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIHtjZmcuY2xpbmljX25hbWUgJiYgPGRpdiBjbGFzc05hbWU9XCJjbGluaWMtbmFtZVwiPntjZmcuY2xpbmljX25hbWV9PC9kaXY+fVxuICAgICAgICAgICAgICAgIHtjZmcuY2xpbmljX2FkZHJlc3MgJiYgPGRpdiBjbGFzc05hbWU9XCJjbGluaWMtc3ViXCI+e2NmZy5jbGluaWNfYWRkcmVzc308L2Rpdj59XG4gICAgICAgICAgICAgICAge2NmZy5jbGluaWNfcGhvbmUgJiYgPGRpdiBjbGFzc05hbWU9XCJjbGluaWMtc3ViXCI+e2NmZy5jbGluaWNfcGhvbmV9PC9kaXY+fVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIClcbiAgICAgICAgKX1cblxuICAgICAgICB7LyogLS0tLS0tLS0tLSBUaXRsZSArIFNlYXJjaCAoU1RBRkYgT05MWSkgLS0tLS0tLS0tLSAqL31cbiAgICAgICAgeyFhdXRvRmV0Y2ggJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9vbGJhciBzY3JlZW4tb25seVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWFyY2hiYXJcIj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdmFsdWU9e3BhdGllbnRJZH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFBhdGllbnRJZChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIgJiYgIWxvYWRpbmcgJiYgcGF0aWVudElkLnRyaW0oKSkge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIGZldGNoUmVwb3J0cyhwYXRpZW50SWQpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBQYXRpZW50IElEXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBwYWRkaW5nOiBcIjhweCAxMHB4XCIsIGJvcmRlcjogXCIxcHggc29saWQgdmFyKC0tYm9yZGVyKVwiLCBib3JkZXJSYWRpdXM6IDYsIHdpZHRoOiAyNjAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGZldGNoUmVwb3J0cyhwYXRpZW50SWQpfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nIHx8ICFwYXRpZW50SWQudHJpbSgpfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHBhZGRpbmc6IFwiOHB4IDE0cHhcIiwgYm9yZGVyUmFkaXVzOiA2LCBib3JkZXI6IFwiMXB4IHNvbGlkICM0NDk2OWJcIiwgYmFja2dyb3VuZDogXCIjNDQ5NjliXCIsIGNvbG9yOiBcIiNmZmZcIiB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2xvYWRpbmcgPyBcIkxvYWRpbmcuLi5cIiA6IFwiVmlld1wifVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiAtLS0tLS0tLS0tIFBhdGllbnQgSGVhZGVyIChhYm92ZSB0aGUgY2FyZCkgLS0tLS0tLS0tLSAqL31cbiAgICAgICAge3JlcG9ydCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYXRpZW50LWhlYWRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGgtbmFtZVwiPntyZXBvcnQucGF0aWVudC5mdWxsX25hbWV9PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBoLW1ldGFcIj5cbiAgICAgICAgICAgICAge3JlcG9ydC5wYXRpZW50LnNleH0g4oCiIHtyZXBvcnQucGF0aWVudC5hZ2V9IHlycyDigKIgRE9CIHtyZXBvcnQucGF0aWVudC5iaXJ0aGRheX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiAtLS0tLS0tLS0tIFBhdGllbnQgU3VtbWFyeSBDYXJkIChoaWRkZW4gb24gcHJpbnQpIC0tLS0tLS0tLS0gKi99XG4gICAgICAgIHtyZXBvcnQgJiYgKCgpID0+IHtcbiAgICAgICAgICBjb25zdCBwOiBhbnkgPSByZXBvcnQucGF0aWVudCB8fCB7fTtcbiAgICAgICAgICBjb25zdCB2aXRhbHNMYXRlc3QgPSBwLnZpdGFscz8ubGF0ZXN0IHx8IG51bGw7XG5cbiAgICAgICAgICAvLyBWaXRhbHMgJiBjb250YWN0XG4gICAgICAgICAgbGV0IGh0RnQgPSBwLmhlaWdodF9mdDtcbiAgICAgICAgICBsZXQgaHRJbiA9IHAuaGVpZ2h0X2luY2g7XG4gICAgICAgICAgY29uc3QgZnRJbkNvbnZlcnRlZCA9IGZ0SW5Gcm9tQ20oXG4gICAgICAgICAgICB0eXBlb2Ygdml0YWxzTGF0ZXN0Py5oZWlnaHRfY20gPT09IFwibnVtYmVyXCIgPyB2aXRhbHNMYXRlc3QuaGVpZ2h0X2NtIDogbnVtKHZpdGFsc0xhdGVzdD8uaGVpZ2h0X2NtKVxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKGZ0SW5Db252ZXJ0ZWQpIHtcbiAgICAgICAgICAgIGh0RnQgPSBmdEluQ29udmVydGVkLmZ0O1xuICAgICAgICAgICAgaHRJbiA9IGZ0SW5Db252ZXJ0ZWQuaW5jaDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCB3dEtnID0gdml0YWxzTGF0ZXN0Py53ZWlnaHRfa2cgPz8gcC53ZWlnaHRfa2c7XG4gICAgICAgICAgY29uc3Qgc3lzdG9saWMgPSB2aXRhbHNMYXRlc3Q/LnN5c3RvbGljX2JwID8/IHAuc3lzdG9saWNfYnA7XG4gICAgICAgICAgY29uc3QgZGlhc3RvbGljID0gdml0YWxzTGF0ZXN0Py5kaWFzdG9saWNfYnAgPz8gcC5kaWFzdG9saWNfYnA7XG4gICAgICAgICAgY29uc3QgaHIgPSB2aXRhbHNMYXRlc3Q/LmhyO1xuICAgICAgICAgIGNvbnN0IHJyID0gdml0YWxzTGF0ZXN0Py5ycjtcbiAgICAgICAgICBjb25zdCB0ZW1wQyA9IHZpdGFsc0xhdGVzdD8udGVtcF9jO1xuICAgICAgICAgIGNvbnN0IG8yc2F0ID0gdml0YWxzTGF0ZXN0Py5vMnNhdDtcbiAgICAgICAgICBjb25zdCB2aXRhbHNUaW1lc3RhbXAgPSBmb3JtYXRWaXRhbHNUaW1lc3RhbXAodml0YWxzTGF0ZXN0Py5tZWFzdXJlZF9hdCk7XG4gICAgICAgICAgY29uc3QgYm1pID0gdml0YWxzTGF0ZXN0Py5ibWkgPz8gYm1pRnJvbUZ0SW5LZyhodEZ0LCBodEluLCB3dEtnKTtcbiAgICAgICAgICBjb25zdCBicFN0ciA9IChzeXN0b2xpYyAmJiBkaWFzdG9saWMpID8gYCR7c3lzdG9saWN9LyR7ZGlhc3RvbGljfSBtbUhnYCA6IFwiXCI7XG4gICAgICAgICAgY29uc3Qgc21va2luZyA9IHN1ZmZpeElmTnVtZXJpYyhwLnNtb2tpbmdfaHgsIFwicGFja3MvbW9cIik7XG4gICAgICAgICAgY29uc3QgYWxjb2hvbCA9IHN1ZmZpeElmTnVtZXJpYyhwLmFsY29ob2xfaHgsIFwiYm90dGxlcy9tb1wiKTtcblxuICAgICAgICAgIGNvbnN0IGVtYWlsID0gKHAuZW1haWwgfHwgXCJcIikudHJpbSgpO1xuICAgICAgICAgIGNvbnN0IHBob25lID0gKHAuY29udGFjdCB8fCBcIlwiKS50cmltKCk7XG4gICAgICAgICAgY29uc3QgYWRkciAgPSAocC5hZGRyZXNzIHx8IFwiXCIpLnRyaW0oKTtcblxuICAgICAgICAgIC8vIE5hcnJhdGl2ZXNcbiAgICAgICAgICBjb25zdCBjaGllZiA9IChwLmNoaWVmX2NvbXBsYWludCB8fCBcIlwiKS50cmltKCk7XG4gICAgICAgICAgY29uc3QgaHBpICAgPSAocC5wcmVzZW50X2lsbG5lc3NfaGlzdG9yeSB8fCBcIlwiKS50cmltKCk7XG4gICAgICAgICAgY29uc3QgcG1oICAgPSAocC5wYXN0X21lZGljYWxfaGlzdG9yeSB8fCBcIlwiKS50cmltKCk7XG4gICAgICAgICAgY29uc3QgcHNoICAgPSAocC5wYXN0X3N1cmdpY2FsX2hpc3RvcnkgfHwgXCJcIikudHJpbSgpO1xuICAgICAgICAgIGNvbnN0IGFsbGVyZ2llcyA9IChwLmFsbGVyZ2llc190ZXh0IHx8IFwiXCIpLnRyaW0oKTtcbiAgICAgICAgICBjb25zdCBtZWRzVGV4dCAgPSAocC5tZWRpY2F0aW9uc19jdXJyZW50IHx8IHAubWVkaWNhdGlvbnMgfHwgXCJcIikudHJpbSgpO1xuICAgICAgICAgIGNvbnN0IGZhbUh4ID0gKHAuZmFtaWx5X2h4IHx8IHAuZmFtaWx5X2hpc3RvcnkgfHwgXCJcIikudHJpbSgpO1xuXG4gICAgICAgICAgY29uc3QgbGFzdFVwZCA9IChwLmxhc3RfdXBkYXRlZCB8fCBcIlwiKS50cmltKCk7XG5cbiAgICAgICAgICBjb25zdCBoYXNWaXRhbHMgPVxuICAgICAgICAgICAgISFodEZ0IHx8ICEhaHRJbiB8fCAhIXd0S2cgfHwgISFibWkgfHwgISFicFN0ciB8fCAhIXNtb2tpbmcgfHwgISFhbGNvaG9sIHx8XG4gICAgICAgICAgICBociAhPSBudWxsIHx8IHJyICE9IG51bGwgfHwgdGVtcEMgIT0gbnVsbCB8fCBvMnNhdCAhPSBudWxsIHx8ICEhdml0YWxzVGltZXN0YW1wO1xuICAgICAgICAgIGNvbnN0IGhhc0NvbnRhY3QgPSAoISFlbWFpbCB8fCAhIXBob25lIHx8ICEhYWRkcik7XG4gICAgICAgICAgY29uc3QgaGFzTmFyciA9ICghIWNoaWVmIHx8ICEhaHBpIHx8ICEhcG1oIHx8ICEhcHNoIHx8ICEhYWxsZXJnaWVzIHx8ICEhbWVkc1RleHQgfHwgISFmYW1IeCk7XG5cbiAgICAgICAgICBjb25zdCBjb2xsYXBzZWRIaWdobGlnaHRzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgIGlmIChicFN0cikgY29sbGFwc2VkSGlnaGxpZ2h0cy5wdXNoKGBCUCAke2JwU3RyfWApO1xuICAgICAgICAgIGlmIChibWkgIT0gbnVsbCkgY29sbGFwc2VkSGlnaGxpZ2h0cy5wdXNoKGBCTUkgJHtibWl9ICR7Ym1pQ2xhc3MoYm1pKX1gKTtcbiAgICAgICAgICBpZiAod3RLZykgY29sbGFwc2VkSGlnaGxpZ2h0cy5wdXNoKGBXZWlnaHQgJHt3aXRoVW5pdCh3dEtnLCBcImtnXCIpfWApO1xuICAgICAgICAgIGlmICh2aXRhbHNUaW1lc3RhbXApIGNvbGxhcHNlZEhpZ2hsaWdodHMucHVzaChgVml0YWxzIEAgJHt2aXRhbHNUaW1lc3RhbXB9YCk7XG4gICAgICAgICAgaWYgKHNtb2tpbmcpIGNvbGxhcHNlZEhpZ2hsaWdodHMucHVzaChgU21va2luZyAke3Ntb2tpbmd9YCk7XG4gICAgICAgICAgaWYgKGFsY29ob2wpIGNvbGxhcHNlZEhpZ2hsaWdodHMucHVzaChgQWxjb2hvbCAke2FsY29ob2x9YCk7XG4gICAgICAgICAgaWYgKGNvbGxhcHNlZEhpZ2hsaWdodHMubGVuZ3RoID09PSAwICYmIGVtYWlsKSBjb2xsYXBzZWRIaWdobGlnaHRzLnB1c2goYEVtYWlsICR7ZW1haWx9YCk7XG4gICAgICAgICAgY29uc3QgdmlzaWJsZUhpZ2hsaWdodHMgPSBjb2xsYXBzZWRIaWdobGlnaHRzLnNsaWNlKDAsIDMpO1xuXG4gICAgICAgICAgaWYgKCFoYXNWaXRhbHMgJiYgIWhhc0NvbnRhY3QgJiYgIWhhc05hcnIpIHJldHVybiBudWxsO1xuXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT17YHBzLWNhcmQgJHtzdW1tYXJ5T3BlbiA/IFwiaXMtb3BlblwiIDogXCJpcy1jb2xsYXBzZWRcIn1gfT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcy1oZWFkXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcy10aXRsZVwiPlBhdGllbnQgU3VtbWFyeTwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHMtYWN0aW9uc1wiPlxuICAgICAgICAgICAgICAgICAge2xhc3RVcGQgJiYgPGRpdiBjbGFzc05hbWU9XCJwcy1iYWRnZVwiPkxhc3QgdXBkYXRlZDoge2xhc3RVcGR9PC9kaXY+fVxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHMtdG9nZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U3VtbWFyeU9wZW4ocHJldiA9PiAhcHJldil9XG4gICAgICAgICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9e3N1bW1hcnlPcGVufVxuICAgICAgICAgICAgICAgICAgICBhcmlhLWNvbnRyb2xzPXtzdW1tYXJ5UGFuZWxJZH1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHN2ZyB2aWV3Qm94PVwiMCAwIDE2IDE2XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjEuNVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNNCA2LjUgOCAxMGw0LTMuNVwiIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAge3N1bW1hcnlPcGVuID8gXCJIaWRlIGRldGFpbHNcIiA6IFwiU2hvdyBkZXRhaWxzXCJ9XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgeyFzdW1tYXJ5T3BlbiAmJiB2aXNpYmxlSGlnaGxpZ2h0cy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBzLWNvbGxhcHNlZC1jaGlwc1wiPlxuICAgICAgICAgICAgICAgICAge3Zpc2libGVIaWdobGlnaHRzLm1hcCgodHh0LCBpZHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4ga2V5PXtpZHh9IGNsYXNzTmFtZT1cInBzLWNoaXBcIj57dHh0fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Bwcy1ib2R5ICR7c3VtbWFyeU9wZW4gPyBcIm9wZW5cIiA6IFwiY29sbGFwc2VkXCJ9YH1cbiAgICAgICAgICAgICAgICBpZD17c3VtbWFyeVBhbmVsSWR9XG4gICAgICAgICAgICAgICAgYXJpYS1oaWRkZW49eyFzdW1tYXJ5T3Blbn1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHMtZ3JpZFwiPlxuICAgICAgICAgICAgICAgICAgey8qIFZJVEFMUyAqL31cbiAgICAgICAgICAgICAgICAgIHsoaHRGdCB8fCBodEluKSAmJiAoPGRpdj48ZGl2IGNsYXNzTmFtZT1cInBzLWxhYmVsXCI+SGVpZ2h0PC9kaXY+PGRpdiBjbGFzc05hbWU9XCJwcy12YWx1ZVwiPntmbXRGdEluKGh0RnQsIGh0SW4pfTwvZGl2PjwvZGl2Pil9XG4gICAgICAgICAgICAgICAgICB7ISF3dEtnICYmICg8ZGl2PjxkaXYgY2xhc3NOYW1lPVwicHMtbGFiZWxcIj5XZWlnaHQ8L2Rpdj48ZGl2IGNsYXNzTmFtZT1cInBzLXZhbHVlXCI+e3dpdGhVbml0KHd0S2csIFwia2dcIil9PC9kaXY+PC9kaXY+KX1cbiAgICAgICAgICAgICAgICAgIHtibWkgIT0gbnVsbCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcy1sYWJlbFwiPkNhbGN1bGF0ZWQgQk1JPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcy12YWx1ZVwiPntibWl9IDxzcGFuIGNsYXNzTmFtZT1cInBzLXBpbGxcIj57Ym1pQ2xhc3MoYm1pKX08L3NwYW4+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIHshIWJwU3RyICYmICg8ZGl2PjxkaXYgY2xhc3NOYW1lPVwicHMtbGFiZWxcIj5MYXRlc3QgS25vd24gQmxvb2QgUHJlc3N1cmU8L2Rpdj48ZGl2IGNsYXNzTmFtZT1cInBzLXZhbHVlXCI+e2JwU3RyfTwvZGl2PjwvZGl2Pil9XG4gICAgICAgICAgICAgICAgICB7aHIgIT0gbnVsbCAmJiAoPGRpdj48ZGl2IGNsYXNzTmFtZT1cInBzLWxhYmVsXCI+SGVhcnQgUmF0ZTwvZGl2PjxkaXYgY2xhc3NOYW1lPVwicHMtdmFsdWVcIj57d2l0aFVuaXQoaHIsIFwiYnBtXCIpfTwvZGl2PjwvZGl2Pil9XG4gICAgICAgICAgICAgICAgICB7cnIgIT0gbnVsbCAmJiAoPGRpdj48ZGl2IGNsYXNzTmFtZT1cInBzLWxhYmVsXCI+UmVzcGlyYXRvcnkgUmF0ZTwvZGl2PjxkaXYgY2xhc3NOYW1lPVwicHMtdmFsdWVcIj57d2l0aFVuaXQocnIsIFwiL21pblwiKX08L2Rpdj48L2Rpdj4pfVxuICAgICAgICAgICAgICAgICAge3RlbXBDICE9IG51bGwgJiYgKDxkaXY+PGRpdiBjbGFzc05hbWU9XCJwcy1sYWJlbFwiPlRlbXBlcmF0dXJlPC9kaXY+PGRpdiBjbGFzc05hbWU9XCJwcy12YWx1ZVwiPnt3aXRoVW5pdCh0ZW1wQywgXCLCsENcIil9PC9kaXY+PC9kaXY+KX1cbiAgICAgICAgICAgICAgICAgIHtvMnNhdCAhPSBudWxsICYmICg8ZGl2PjxkaXYgY2xhc3NOYW1lPVwicHMtbGFiZWxcIj5P4oKCIFNhdHVyYXRpb248L2Rpdj48ZGl2IGNsYXNzTmFtZT1cInBzLXZhbHVlXCI+e3dpdGhVbml0KG8yc2F0LCBcIiVcIil9PC9kaXY+PC9kaXY+KX1cbiAgICAgICAgICAgICAgICAgIHt2aXRhbHNUaW1lc3RhbXAgJiYgKDxkaXY+PGRpdiBjbGFzc05hbWU9XCJwcy1sYWJlbFwiPkxhc3QgVml0YWxzIFJlY29yZGVkPC9kaXY+PGRpdiBjbGFzc05hbWU9XCJwcy12YWx1ZVwiPnt2aXRhbHNUaW1lc3RhbXB9PC9kaXY+PC9kaXY+KX1cbiAgICAgICAgICAgICAgICAgIHshIXNtb2tpbmcgJiYgKDxkaXY+PGRpdiBjbGFzc05hbWU9XCJwcy1sYWJlbFwiPlNtb2tpbmcgSGlzdG9yeTwvZGl2PjxkaXYgY2xhc3NOYW1lPVwicHMtdmFsdWVcIj57c21va2luZ308L2Rpdj48L2Rpdj4pfVxuICAgICAgICAgICAgICAgICAgeyEhYWxjb2hvbCAmJiAoPGRpdj48ZGl2IGNsYXNzTmFtZT1cInBzLWxhYmVsXCI+QWxjb2hvbCBIaXN0b3J5PC9kaXY+PGRpdiBjbGFzc05hbWU9XCJwcy12YWx1ZVwiPnthbGNvaG9sfTwvZGl2PjwvZGl2Pil9XG5cbiAgICAgICAgICAgICAgICAgIHsvKiBDT05UQUNUICovfVxuICAgICAgICAgICAgICAgICAgeyEhcGhvbmUgJiYgKDxkaXY+PGRpdiBjbGFzc05hbWU9XCJwcy1sYWJlbFwiPkNvbnRhY3QgTnVtYmVyPC9kaXY+PGRpdiBjbGFzc05hbWU9XCJwcy12YWx1ZVwiPntwaG9uZX08L2Rpdj48L2Rpdj4pfVxuICAgICAgICAgICAgICAgICAgeyEhZW1haWwgJiYgKDxkaXY+PGRpdiBjbGFzc05hbWU9XCJwcy1sYWJlbFwiPkVtYWlsPC9kaXY+PGRpdiBjbGFzc05hbWU9XCJwcy12YWx1ZVwiPntlbWFpbH08L2Rpdj48L2Rpdj4pfVxuICAgICAgICAgICAgICAgICAgeyEhYWRkciAgJiYgKDxkaXY+PGRpdiBjbGFzc05hbWU9XCJwcy1sYWJlbFwiPkFkZHJlc3M8L2Rpdj48ZGl2IGNsYXNzTmFtZT1cInBzLXZhbHVlIHBzLW11bHRpXCI+e2FkZHJ9PC9kaXY+PC9kaXY+KX1cblxuICAgICAgICAgICAgICAgICAgeyhoYXNDb250YWN0ICYmIGhhc05hcnIpICYmIDxkaXYgY2xhc3NOYW1lPVwicHMtc2VwXCIgLz59XG5cbiAgICAgICAgICAgICAgICAgIHsvKiBOQVJSQVRJVkVTICovfVxuICAgICAgICAgICAgICAgICAgeyEhY2hpZWYgJiYgKDxkaXY+PGRpdiBjbGFzc05hbWU9XCJwcy1sYWJlbFwiPkNoaWVmIENvbXBsYWludDwvZGl2PjxkaXYgY2xhc3NOYW1lPVwicHMtdmFsdWUgcHMtbXVsdGlcIj57Y2hpZWZ9PC9kaXY+PC9kaXY+KX1cbiAgICAgICAgICAgICAgICAgIHshIWhwaSAgICYmICg8ZGl2PjxkaXYgY2xhc3NOYW1lPVwicHMtbGFiZWxcIj5QcmVzZW50IElsbG5lc3MgSGlzdG9yeTwvZGl2PjxkaXYgY2xhc3NOYW1lPVwicHMtdmFsdWUgcHMtbXVsdGlcIj57aHBpfTwvZGl2PjwvZGl2Pil9XG4gICAgICAgICAgICAgICAgICB7ISFwbWggICAmJiAoPGRpdj48ZGl2IGNsYXNzTmFtZT1cInBzLWxhYmVsXCI+UGFzdCBNZWRpY2FsIEhpc3Rvcnk8L2Rpdj48ZGl2IGNsYXNzTmFtZT1cInBzLXZhbHVlIHBzLW11bHRpXCI+e3BtaH08L2Rpdj48L2Rpdj4pfVxuICAgICAgICAgICAgICAgICAgeyEhcHNoICAgJiYgKDxkaXY+PGRpdiBjbGFzc05hbWU9XCJwcy1sYWJlbFwiPlBhc3QgU3VyZ2ljYWwgSGlzdG9yeTwvZGl2PjxkaXYgY2xhc3NOYW1lPVwicHMtdmFsdWUgcHMtbXVsdGlcIj57cHNofTwvZGl2PjwvZGl2Pil9XG4gICAgICAgICAgICAgICAgICB7ISFhbGxlcmdpZXMgJiYgKDxkaXY+PGRpdiBjbGFzc05hbWU9XCJwcy1sYWJlbFwiPkFsbGVyZ2llczwvZGl2PjxkaXYgY2xhc3NOYW1lPVwicHMtdmFsdWUgcHMtbXVsdGlcIj57YWxsZXJnaWVzfTwvZGl2PjwvZGl2Pil9XG4gICAgICAgICAgICAgICAgICB7ISFtZWRzVGV4dCAgJiYgKDxkaXY+PGRpdiBjbGFzc05hbWU9XCJwcy1sYWJlbFwiPk1lZGljYXRpb25zPC9kaXY+PGRpdiBjbGFzc05hbWU9XCJwcy12YWx1ZSBwcy1tdWx0aVwiPnttZWRzVGV4dH08L2Rpdj48L2Rpdj4pfVxuICAgICAgICAgICAgICAgICAgeyEhZmFtSHggICAgICYmICg8ZGl2PjxkaXYgY2xhc3NOYW1lPVwicHMtbGFiZWxcIj5GYW1pbHkgSGlzdG9yeTwvZGl2PjxkaXYgY2xhc3NOYW1lPVwicHMtdmFsdWUgcHMtbXVsdGlcIj57ZmFtSHh9PC9kaXY+PC9kaXY+KX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSkoKX1cblxuICAgICAgICB7LyogUHJpbnQtb25seSBUZXN0IGRhdGUgJiBicmFuY2ggKHJlcGxhY2VzIFRhaWx3aW5kIFwiaGlkZGVuIHByaW50OmJsb2NrXCIpICovfVxuICAgICAgICB7KHJlcG9ydD8udmlzaXQ/LmRhdGVfb2ZfdGVzdCB8fCByZXBvcnQ/LnZpc2l0Py5icmFuY2gpICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByaW50LW9ubHlcIiBzdHlsZT17eyBtYXJnaW46IFwiMTJweCAwIDE2cHhcIiB9fT5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgcGFkZGluZ1RvcDogOCwgZm9udFNpemU6IDEyIH19PlxuICAgICAgICAgICAgICB7cmVwb3J0Py52aXNpdD8uZGF0ZV9vZl90ZXN0ICYmIChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgZm9udFdlaWdodDogNjAwIH19PlRlc3QgZGF0ZTo8L3NwYW4+e1wiIFwifVxuICAgICAgICAgICAgICAgICAge2Zvcm1hdFRlc3REYXRlKHJlcG9ydC52aXNpdC5kYXRlX29mX3Rlc3QpfVxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7cmVwb3J0Py52aXNpdD8uYnJhbmNoICYmIChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAge1wiIFwifeKAoiA8c3BhbiBzdHlsZT17eyBmb250V2VpZ2h0OiA2MDAgfX0+QnJhbmNoOjwvc3Bhbj57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICB7cmVwb3J0LnZpc2l0LmJyYW5jaH1cbiAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiAtLS0tLS0tLS0tIENvbnRyb2xzOiBzaG93IE9OTFkgYWZ0ZXIgYSByZXBvcnQgaXMgbG9hZGVkIC0tLS0tLS0tLS0gKi99XG4gICAgICAgIHtyZXBvcnQgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbHNcIj5cbiAgICAgICAgICAgIHt2aXNpdERhdGVzLmxlbmd0aCA+IDEgJiYgKFxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiY29udHJvbC10b2dnbGVcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICBjaGVja2VkPXtjb21wYXJlT259XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpPT5zZXRDb21wYXJlT24oZS50YXJnZXQuY2hlY2tlZCl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICBDb21wYXJlIHdpdGggcHJldi4gdmlzaXQvc1xuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAge3Zpc2l0RGF0ZXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbC1yb3dcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtc2VsZWN0XCI+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwibGFiZWxcIj5WaXNpdCBkYXRlOjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzZWxlY3RlZERhdGUgfHwgXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKT0+c2V0U2VsZWN0ZWREYXRlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZGF0ZS1zZWxlY3RcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7dmlzaXREYXRlcy5tYXAoZCA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e2R9IHZhbHVlPXtkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRUZXN0RGF0ZShkKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5wcmludCgpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2NyZWVuLW9ubHlcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIFByaW50IC8gU2F2ZSBhcyBQREZcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHtlcnIgJiYgPGRpdiBzdHlsZT17eyBjb2xvcjpcIiNiMDAwMjBcIiwgbWFyZ2luVG9wOjQgfX0+e2Vycn08L2Rpdj59XG5cbiAgICAgICAge3Nob3dJbmxpbmVMb2FkZXIgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtbG9hZGVyXCIgcm9sZT1cInN0YXR1c1wiIGFyaWEtbGl2ZT1cInBvbGl0ZVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2FkZXItZG90c1wiIGFyaWEtaGlkZGVuPXt0cnVlfT5cbiAgICAgICAgICAgICAgPHNwYW4+PC9zcGFuPjxzcGFuPjwvc3Bhbj48c3Bhbj48L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+TG9hZGluZyBwYXRpZW50IGRldGFpbHMgYW5kIHJlc3VsdHPigKY8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7c2hvd05vTGFic05vdGljZSAmJiAhbG9hZGluZyAmJiAoXG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Ub3A6IDEyLCBwYWRkaW5nOiBcIjEycHggMTZweFwiLCBib3JkZXJSYWRpdXM6IDEyLCBiYWNrZ3JvdW5kOiBcIiNmOGZhZmNcIiwgY29sb3I6IFwiIzBmMTcyYVwiIH19PlxuICAgICAgICAgICAgTm8gbGFib3JhdG9yeSByZXN1bHRzIHlldC4gUGF0aWVudCBpbmZvIGFuZCB2aXRhbHMgYXJlIHNob3duIGFib3ZlLlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHtyZXBvcnQgJiYgKFxuICAgICAgICAgIDw+XG4gICAgICAgICAgICB7cmVwb3J0LnNlY3Rpb25zXG4gICAgICAgICAgICAgIC5maWx0ZXIoc2VjID0+IChzZWM/Lml0ZW1zPy5sZW5ndGggPz8gMCkgPiAwKVxuICAgICAgICAgICAgICAubWFwKHNlY3Rpb24gPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGhpZGVSRiA9IHNlY3Rpb24ubmFtZSA9PT0gXCJVcmluYWx5c2lzXCIgfHwgc2VjdGlvbi5uYW1lID09PSBcIkZlY2FseXNpc1wiO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtzZWN0aW9uLm5hbWV9IGNsYXNzTmFtZT1cInNlY3Rpb24tYmxvY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgzPntzZWN0aW9uLm5hbWV9PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tcGFjdFRhYmxlID0gaGlkZVJGICYmICFjb21wYXJlT247IC8vIGUuZy4sIFVyaW5hbHlzaXMvRmVjYWx5c2lzIOKAlCBmZXdlciBjb2xzLCBhdm9pZCBuZWVkbGVzcyBob3Jpem9udGFsIHNjcm9sbFxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRhYmxlLXNjcm9sbFwiIGRhdGEtY29tcGFjdD17Y29tcGFjdFRhYmxlID8gXCJ0cnVlXCIgOiB1bmRlZmluZWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGFibGU+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9e3sgdGV4dEFsaWduOiBcImxlZnRcIiB9fT5QYXJhbWV0ZXI8L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT17eyB0ZXh0QWxpZ246IFwicmlnaHRcIiB9fT5SZXN1bHQ8L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjb21wYXJlT24gJiYgPHRoIHN0eWxlPXt7IHRleHRBbGlnbjogXCJyaWdodFwiIH19PlByZXYuIFJlcy48L3RoPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y29tcGFyZU9uICYmIDx0aCBzdHlsZT17eyB0ZXh0QWxpZ246IFwicmlnaHRcIiB9fT5MYXRlc3QgJSBDaGFuZ2U8L3RoPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9e3sgdGV4dEFsaWduOiBcImxlZnRcIiB9fT5Vbml0PC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IWhpZGVSRiAmJiA8dGggc3R5bGU9e3sgdGV4dEFsaWduOiBcImxlZnRcIiB9fT5SZWZlcmVuY2U8L3RoPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IWhpZGVSRiAmJiA8dGggc3R5bGU9e3sgdGV4dEFsaWduOiBcImxlZnRcIiB9fT5DdXJyZW50IEZsYWc8L3RoPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWN0aW9uLml0ZW1zLm1hcChpdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXQudmFsdWUpIHJldHVybiBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhYmVsTGMgPSBTdHJpbmcoaXQubGFiZWwgfHwgXCJcIikudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYWJlbExjID09PSBcImJyYW5jaFwiIHx8IGxhYmVsTGMgPT09IFwiY3JlYXRlZCBhdFwiIHx8IGxhYmVsTGMgPT09IFwidXBkYXRlZCBhdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWZUZXh0ID0gaGlkZVJGID8gXCJcIiA6IGZvcm1hdFJlZihpdC5yZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXIgPSB0b051bShpdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNraXBQcmV2ID0gc2hvdWxkRXhjbHVkZUZyb21QcmV2KGl0LCBjZmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2TGlzdCA9IGNvbXBhcmVPbiAmJiAhc2tpcFByZXYgPyBmaW5kUHJldkxpc3RBbnkoaXQsIDMpIDogW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXYxTnVtID0gY29tcGFyZU9uICYmICFza2lwUHJldiA/IGZpbmRQcmV2TnVtRm9yRGVsdGEoaXQpIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNSZW1hcmtSb3cgPSBsYWJlbExjLnN0YXJ0c1dpdGgoXCJyZW1hcmtcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRlbHRhVGV4dCA9IFwi4oCUXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkZWx0YUNvbG9yID0gXCIjNjY2XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXIgIT0gbnVsbCAmJiBwcmV2MU51bSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gY3VyIC0gcHJldjFOdW0udmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGN0ID0gcHJldjFOdW0udmFsdWUgIT09IDAgPyAoZGVsdGEgLyBwcmV2MU51bS52YWx1ZSkgKiAxMDAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFycm93ID0gZGVsdGEgPiAwID8gXCLilrJcIiA6IGRlbHRhIDwgMCA/IFwi4pa8XCIgOiBcIuKAolwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbHRhVGV4dCA9IGAke2Fycm93fSAke2RlbHRhID4gMCA/IFwiK1wiIDogXCJcIn0ke2ZtdChkZWx0YSl9JHtwY3QgIT0gbnVsbCA/IGAgKCR7cGN0ID4gMCA/IFwiK1wiIDogXCJcIn0ke3BjdC50b0ZpeGVkKDEpfSUpYCA6IFwiXCJ9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWx0YUNvbG9yID0gZGVsdGEgPiAwID8gXCIjYjAwMDIwXCIgOiBkZWx0YSA8IDAgPyBcIiMxOTc2ZDJcIiA6IFwiIzY2NlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIFJlbWFya3Mgcm93cywgc3BhbiB0aGUgZGVzY3JpcHRpb24gYWNyb3NzIHRoZSByZW1haW5pbmcgY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNSZW1hcmtSb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbENvbHMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMyArIC8vIHBhcmFtZXRlciArIHJlc3VsdCArIHVuaXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjb21wYXJlT24gPyAyIDogMCkgKyAvLyBwcmV2ICsgZGVsdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICghaGlkZVJGID8gMiA6IDApOyAvLyByZWZlcmVuY2UgKyBmbGFnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3BhbiA9IHRvdGFsQ29scyAtIDE7IC8vIGFsbCBjb2x1bW5zIGV4Y2VwdCB0aGUgXCJQYXJhbWV0ZXJcIiBsYWJlbCBjZWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBrZXk9e2l0LmtleX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57aXQubGFiZWx9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNvbFNwYW49e3NwYW59IHN0eWxlPXt7IHdoaXRlU3BhY2U6IFwibm9ybWFsXCIsIHRleHRBbGlnbjogXCJsZWZ0XCIsIGxpbmVIZWlnaHQ6IDEuMyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7U3RyaW5nKGl0LnZhbHVlID8/IFwiXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGtleT17aXQua2V5fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPntpdC5sYWJlbH08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgdGV4dEFsaWduOiBcInJpZ2h0XCIgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1ciAhPSBudWxsID8gZm10KGN1cikgOiBTdHJpbmcoaXQudmFsdWUgPz8gXCJcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NvbXBhcmVPbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT17eyB0ZXh0QWxpZ246IFwicmlnaHRcIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3ByZXZMaXN0Lmxlbmd0aCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2TGlzdC5tYXAocCA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17cC5kYXRlfSBzdHlsZT17eyB3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiLCBmb250U2l6ZTogMTIsIGxpbmVIZWlnaHQ6IDEuMiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdFByZXZEYXRlKHAuZGF0ZSl9OiB7cC5udW0gIT0gbnVsbCA/IGZtdChwLm51bSkgOiBwLnJhd31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBcIuKAlFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT17eyB0ZXh0QWxpZ246IFwicmlnaHRcIiwgY29sb3I6IGRlbHRhQ29sb3IgfX0+e2RlbHRhVGV4dH08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57aXQudW5pdCB8fCBcIlwifTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHshaGlkZVJGICYmIDx0ZD57cmVmVGV4dH08L3RkPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyFoaWRlUkYgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJmbGFnLWNlbGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdC5mbGFnID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGFnLXBpbGxcIiBkYXRhLWZsYWc9e2l0LmZsYWd9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdC5mbGFnID09PSBcIkhcIiA/IFwiSGlnaFwiIDogaXQuZmxhZyA9PT0gXCJMXCIgPyBcIkxvd1wiIDogaXQuZmxhZyA9PT0gXCJBXCIgPyBcIkFsZXJ0XCIgOiBpdC5mbGFnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0pKCl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICA8Lz5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7c2hvd0Zvb3RlciAmJiAoXG4gICAgICAgIDxmb290ZXIgY2xhc3NOYW1lPVwicmVwb3J0LWZvb3RlciBjb250YWluZXIgdmlld2VyLWZvb3RlclwiPlxuICAgICAgICAgIHtzaG93U2lnbmVycyAmJiBzaWduZXJzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaWctcm93XCI+XG4gICAgICAgICAgICAgIHtzaWduZXJzLm1hcCgocywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBwcmltYXJ5LCBmYWxsYmFjayB9ID0gZHJpdmVJbWFnZVVybHMocy5zaWcpO1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aWR4fSBjbGFzc05hbWU9XCJzaWdcIj5cbiAgICAgICAgICAgICAgICAgICAge3ByaW1hcnkgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtwcmltYXJ5fVxuICAgICAgICAgICAgICAgICAgICAgICAgYWx0PVwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVycmVyUG9saWN5PVwibm8tcmVmZXJyZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25FcnJvcj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1nID0gZS5jdXJyZW50VGFyZ2V0IGFzIEhUTUxJbWFnZUVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmYWxsYmFjayAmJiBpbWcuc3JjICE9PSBmYWxsYmFjaykgaW1nLnNyYyA9IGZhbGxiYWNrOyBlbHNlIGltZy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2PjxzdHJvbmc+e3MubmFtZX08L3N0cm9uZz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdXRlZFwiPntzLnJvbGV9e3MubGljZW5zZSA/IGAg4oCTIFBSQyAke3MubGljZW5zZX1gIDogXCJcIn08L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHtmb290ZXJMaW5lcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9vdGVyLWxpbmVzXCJcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICB0ZXh0QWxpZ246IGZvb3RlckFsaWduLFxuICAgICAgICAgICAgICAgIG1hcmdpblRvcDogMTAsXG4gICAgICAgICAgICAgICAgbGluZUhlaWdodDogMS4zLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogYCR7Zm9vdGVyRm9udFB4fXB4YCxcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2Zvb3RlckxpbmVzLm1hcCgobGluZSwgaSkgPT4gKFxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGtleT17aX1cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogaSA9PT0gMCA/IDAgOiBmb290ZXJHYXBQeCxcbiAgICAgICAgICAgICAgICAgICAgLi4uKGkgPT09IDIgfHwgaSA9PT0gMyA/IHsgY29sb3I6IFwidmFyKC0tYWNjZW50KVwiIH0gOiB7fSksXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtsaW5lfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZm9vdGVyPlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbmZ1bmN0aW9uIGZvcm1hdFZpdGFsc1RpbWVzdGFtcChzPzogc3RyaW5nIHwgbnVsbCkge1xuICBpZiAoIXMpIHJldHVybiBcIlwiO1xuICBjb25zdCBkdCA9IG5ldyBEYXRlKHMpO1xuICBpZiAoTnVtYmVyLmlzTmFOKGR0LmdldFRpbWUoKSkpIHJldHVybiBzO1xuICByZXR1cm4gZHQudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7XG4gICAgeWVhcjogXCJudW1lcmljXCIsXG4gICAgbW9udGg6IFwic2hvcnRcIixcbiAgICBkYXk6IFwiMi1kaWdpdFwiLFxuICAgIGhvdXI6IFwiMi1kaWdpdFwiLFxuICAgIG1pbnV0ZTogXCIyLWRpZ2l0XCIsXG4gIH0pO1xufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZUlkIiwidXNlTWVtbyIsInVzZVN0YXRlIiwidXNlU2VhcmNoUGFyYW1zIiwiZm9ybWF0UmVmIiwicmVmIiwiaGFzTG93IiwibG93IiwiaGFzSGlnaCIsImhpZ2giLCJub3JtYWxfdmFsdWVzIiwiZm9ybWF0VGVzdERhdGUiLCJkIiwiZHQiLCJEYXRlIiwiTnVtYmVyIiwiaXNOYU4iLCJnZXRUaW1lIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwidW5kZWZpbmVkIiwieWVhciIsIm1vbnRoIiwiZGF5IiwibnVtIiwieCIsInMiLCJTdHJpbmciLCJyZXBsYWNlIiwidHJpbSIsIm4iLCJpc0Zpbml0ZSIsImhlaWdodE0iLCJmdCIsImluY2giLCJmIiwiaSIsInRvdGFsSW4iLCJibWlGcm9tRnRJbktnIiwia2ciLCJtIiwidyIsIk1hdGgiLCJyb3VuZCIsImJtaUNsYXNzIiwiYm1pIiwiZm10RnRJbiIsImZ0SW5Gcm9tQ20iLCJjbSIsImZsb29yIiwid2l0aFVuaXQiLCJ2IiwidSIsInRvU3RyaW5nIiwic3VmZml4SWZOdW1lcmljIiwic3VmZml4IiwiRVhDTFVERV9FWEFDVF9LRVlTIiwiU2V0IiwiRVhDTFVERV9FWEFDVF9MQUJFTFMiLCJzaG91bGRFeGNsdWRlRnJvbVByZXYiLCJpdCIsImNmZyIsImtleVJhdyIsImtleSIsInRvTG93ZXJDYXNlIiwibGFiZWxSYXciLCJsYWJlbCIsImhhcyIsImNmZ0tleXMiLCJwcmV2X2V4Y2x1ZGVfa2V5cyIsInNwbGl0IiwibWFwIiwiZmlsdGVyIiwiQm9vbGVhbiIsImluY2x1ZGVzIiwibm9ybSIsImtleU5vcm0iLCJidWlsdGlucyIsInNvbWUiLCJ0IiwidG9OdW0iLCJtYXRjaCIsImZtdCIsInRvTG9jYWxlU3RyaW5nIiwibWF4aW11bUZyYWN0aW9uRGlnaXRzIiwiZ2V0Rm9vdGVyTGluZXMiLCJrZXlzIiwiT2JqZWN0IiwiayIsInRlc3QiLCJzb3J0IiwiYSIsImIiLCJuYSIsInBhcnNlSW50IiwibmIiLCJsaW5lcyIsInJhdyIsImZvckVhY2giLCJwdXNoIiwiZXh0cmFjdERyaXZlSWQiLCJ1cmwiLCJ1YyIsImZpbGUiLCJkcml2ZUltYWdlVXJscyIsImlkIiwicHJpbWFyeSIsImZhbGxiYWNrIiwiZm9ybWF0UHJldkRhdGUiLCJ5IiwieXkiLCJtbSIsImRkIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJwYWQyIiwicGFkU3RhcnQiLCJ5eTIiLCJzbGljZSIsImdldFNpZ25lcnNGcm9tQ29uZmlnIiwicm10cyIsImwiLCJuYW1lIiwicm9sZSIsImxpY2Vuc2UiLCJzaWciLCJwYXRob05hbWUiLCJwYXRob19uYW1lIiwicGF0aG9zIiwicGF0aG9fbGljZW5zZSIsInBhdGhvX3NpZ25hdHVyZV91cmwiLCJ0b0ltYWdlVXJsIiwidHMiLCJwYXJzZSIsImxlbmd0aCIsImlzRE1ZIiwiUmVwb3J0Vmlld2VyIiwicHJvcHMiLCJyZXBvcnQiLCJpbml0aWFsUGF0aWVudElkIiwiYXBpUGF0aCIsImF1dG9GZXRjaCIsInVzZVNlc3Npb24iLCJzZXNzaW9uUGF0aWVudElkIiwiaGVhZGVyT3ZlcnJpZGUiLCJ3YXRlcm1hcmtTaXplUHgiLCJ3YXRlcm1hcmtPcGFjaXR5Iiwic2VhcmNoUGFyYW1zIiwic2VhcmNoUGF0aWVudElkIiwiZ2V0IiwidG9VcHBlckNhc2UiLCJub3JtYWxpemVkSW5pdGlhbElkIiwibm9ybWFsaXplZFNlc3Npb25JZCIsInBhdGllbnRJZCIsInNldFBhdGllbnRJZCIsIm5leHQiLCJkYXRhIiwic2V0RGF0YSIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyIiwic2V0RXJyIiwic2VsZWN0ZWREYXRlIiwic2V0U2VsZWN0ZWREYXRlIiwiYm9vdENmZyIsInNldEJvb3RDZmciLCJjb21wYXJlT24iLCJzZXRDb21wYXJlT24iLCJzdW1tYXJ5T3BlbiIsInNldFN1bW1hcnlPcGVuIiwic3VtbWFyeVBhbmVsSWQiLCJib290TG9hZGVkIiwic2V0Qm9vdExvYWRlZCIsImxvZ29Mb2FkZWQiLCJzZXRMb2dvTG9hZGVkIiwid2F0ZXJtYXJrTG9hZGVkIiwic2V0V2F0ZXJtYXJrTG9hZGVkIiwic3BsYXNoVGltZWRPdXQiLCJzZXRTcGxhc2hUaW1lZE91dCIsImlnbm9yZSIsInJlcyIsImZldGNoIiwiY2FjaGUiLCJvayIsImpzb24iLCJjb25maWciLCJyZXBvcnRzIiwicGF0aWVudE9ubHkiLCJzaG93Rm9vdGVyT25EYXNoYm9hcmQiLCJmb290ZXJfc2hvd19vbl9kYXNoYm9hcmQiLCJzaG93U2lnbmVyc09uRGFzaGJvYXJkIiwiZm9vdGVyX3Nob3dfc2lnbmVyc19vbl9kYXNoYm9hcmQiLCJoYXNSZXBvcnQiLCJoYXNMYWJTZWN0aW9ucyIsInIiLCJBcnJheSIsImlzQXJyYXkiLCJzZWN0aW9ucyIsIml0ZW1zIiwic2hvd0Zvb3RlciIsInNob3dTaWduZXJzIiwiZm9vdGVyTGluZXMiLCJmb290ZXJBbGlnbiIsInJlcG9ydF9mb290ZXJfYWxpZ24iLCJmb290ZXJGb250UHgiLCJyZXBvcnRfZm9vdGVyX2ZvbnRfcHgiLCJmb290ZXJHYXBQeCIsInJlcG9ydF9mb290ZXJfZ2FwX3B4Iiwid21QcmltYXJ5Iiwid21GYWxsYmFjayIsIndhdGVybWFya19pbWFnZV91cmwiLCJ3bUltZ1VybCIsIndtU2hvd1NjcmVlbiIsIndhdGVybWFya19zaG93X2Rhc2hib2FyZCIsIndtU2hvd1ByaW50Iiwid2F0ZXJtYXJrX3Nob3dfcHJpbnQiLCJ3bU9wYWNpdHlTY3JlZW4iLCJtYXgiLCJtaW4iLCJ3YXRlcm1hcmtfb3BhY2l0eV9zY3JlZW4iLCJ3bU9wYWNpdHlQcmludCIsIndhdGVybWFya19vcGFjaXR5X3ByaW50Iiwid21BbmdsZURlZyIsIndhdGVybWFya19hbmdsZV9kZWciLCJ3bVNpemUiLCJ3YXRlcm1hcmtfc2l6ZSIsIndtU2l6ZUVmZmVjdGl2ZSIsIndtT3BhY2l0eVNjcmVlbkVmZmVjdGl2ZSIsIndtT3BhY2l0eVByaW50RWZmZWN0aXZlIiwic2hvd1Zpc2l0Tm90ZXMiLCJzaG93X3Zpc2l0X25vdGVzIiwidmlzaXREYXRlcyIsImRhdGVzIiwiZnJvbSIsInZpc2l0IiwiZGF0ZV9vZl90ZXN0IiwiY3VycmVudCIsImZpbmQiLCJzaG93Tm9MYWJzTm90aWNlIiwiZmV0Y2hSZXBvcnRzIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicGF0aWVudF9pZCIsImN0IiwidGV4dCIsIm1zZyIsImVycm9yIiwic3RhdHVzIiwicm93cyIsInBheWxvYWQiLCJjb3VudCIsImUiLCJtZXNzYWdlIiwiZmV0Y2hTZXNzaW9uUmVwb3J0cyIsImVmZmVjdGl2ZVBhdGllbnRJZCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJ2YWx1ZUluZGV4IiwiTWFwIiwic2V0IiwidmFsdWUiLCJ1bml0IiwiZmluZFByZXZMaXN0QW55IiwibWF4Q291bnQiLCJjdXJyZW50RGF0ZSIsImlkeCIsImluZGV4T2YiLCJvdXQiLCJyZWMiLCJkYXRlIiwiZmluZFByZXZOdW1Gb3JEZWx0YSIsImN1ck51bSIsInNlYXJjaCIsImVuY29kZVVSSUNvbXBvbmVudCIsInNpZ25lcnMiLCJyYXdMb2dvIiwiY2xpbmljX2xvZ29fdXJsIiwibG9nb1NyYyIsImxvZ29GYWxsYmFjayIsInN0YXJ0c1dpdGgiLCJpbWciLCJJbWFnZSIsIm9ubG9hZCIsIm9uZXJyb3IiLCJzcmMiLCJ3YXRlcm1hcmtTcmMiLCJ3YXRlcm1hcmtGYWxsYmFjayIsImhhc1dtIiwic3BsYXNoRW5hYmxlZCIsImxvYWRpbmdfc3BsYXNoX2VuYWJsZWQiLCJzcGxhc2hNYXhNcyIsImxvYWRpbmdfc3BsYXNoX21heF9tcyIsIndhaXRpbmdGb3JBc3NldHMiLCJ3YWl0aW5nRm9yRGF0YSIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJzaG93U3BsYXNoIiwic2hvd0lubGluZUxvYWRlciIsImRpdiIsImNsYXNzTmFtZSIsInN0eWxlIiwibWluSGVpZ2h0IiwiZGlzcGxheSIsImZsZXhEaXJlY3Rpb24iLCJhbHQiLCJyZWZlcnJlclBvbGljeSIsIm1heEhlaWdodCIsImxvYWRpbmdfc3BsYXNoX3RleHQiLCJhcmlhLWhpZGRlbiIsImRhdGEtcHJpbnQiLCJvbkVycm9yIiwiY3VycmVudFRhcmdldCIsIm9wYWNpdHkiLCJwb2ludGVyRXZlbnRzIiwiY2xpbmljX25hbWUiLCJjbGluaWNfYWRkcmVzcyIsImNsaW5pY19waG9uZSIsImFsaWduSXRlbXMiLCJ0ZXh0QWxpZ24iLCJtYXJnaW4iLCJpbnB1dCIsIm9uQ2hhbmdlIiwidGFyZ2V0Iiwib25LZXlEb3duIiwicHJldmVudERlZmF1bHQiLCJwbGFjZWhvbGRlciIsInBhZGRpbmciLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJ3aWR0aCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsImJhY2tncm91bmQiLCJjb2xvciIsInBhdGllbnQiLCJmdWxsX25hbWUiLCJzZXgiLCJhZ2UiLCJiaXJ0aGRheSIsInAiLCJ2aXRhbHNMYXRlc3QiLCJ2aXRhbHMiLCJsYXRlc3QiLCJodEZ0IiwiaGVpZ2h0X2Z0IiwiaHRJbiIsImhlaWdodF9pbmNoIiwiZnRJbkNvbnZlcnRlZCIsImhlaWdodF9jbSIsInd0S2ciLCJ3ZWlnaHRfa2ciLCJzeXN0b2xpYyIsInN5c3RvbGljX2JwIiwiZGlhc3RvbGljIiwiZGlhc3RvbGljX2JwIiwiaHIiLCJyciIsInRlbXBDIiwidGVtcF9jIiwibzJzYXQiLCJ2aXRhbHNUaW1lc3RhbXAiLCJmb3JtYXRWaXRhbHNUaW1lc3RhbXAiLCJtZWFzdXJlZF9hdCIsImJwU3RyIiwic21va2luZyIsInNtb2tpbmdfaHgiLCJhbGNvaG9sIiwiYWxjb2hvbF9oeCIsImVtYWlsIiwicGhvbmUiLCJjb250YWN0IiwiYWRkciIsImFkZHJlc3MiLCJjaGllZiIsImNoaWVmX2NvbXBsYWludCIsImhwaSIsInByZXNlbnRfaWxsbmVzc19oaXN0b3J5IiwicG1oIiwicGFzdF9tZWRpY2FsX2hpc3RvcnkiLCJwc2giLCJwYXN0X3N1cmdpY2FsX2hpc3RvcnkiLCJhbGxlcmdpZXMiLCJhbGxlcmdpZXNfdGV4dCIsIm1lZHNUZXh0IiwibWVkaWNhdGlvbnNfY3VycmVudCIsIm1lZGljYXRpb25zIiwiZmFtSHgiLCJmYW1pbHlfaHgiLCJmYW1pbHlfaGlzdG9yeSIsImxhc3RVcGQiLCJsYXN0X3VwZGF0ZWQiLCJoYXNWaXRhbHMiLCJoYXNDb250YWN0IiwiaGFzTmFyciIsImNvbGxhcHNlZEhpZ2hsaWdodHMiLCJ2aXNpYmxlSGlnaGxpZ2h0cyIsInNlY3Rpb24iLCJ0eXBlIiwicHJldiIsImFyaWEtZXhwYW5kZWQiLCJhcmlhLWNvbnRyb2xzIiwic3ZnIiwidmlld0JveCIsImZpbGwiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsInBhdGgiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJ0eHQiLCJzcGFuIiwiYnJhbmNoIiwicGFkZGluZ1RvcCIsImZvbnRTaXplIiwiZm9udFdlaWdodCIsImNoZWNrZWQiLCJzZWxlY3QiLCJvcHRpb24iLCJwcmludCIsIm1hcmdpblRvcCIsImFyaWEtbGl2ZSIsInNlYyIsImhpZGVSRiIsImgzIiwiY29tcGFjdFRhYmxlIiwiZGF0YS1jb21wYWN0IiwidGFibGUiLCJ0aGVhZCIsInRyIiwidGgiLCJ0Ym9keSIsImxhYmVsTGMiLCJyZWZUZXh0IiwiY3VyIiwic2tpcFByZXYiLCJwcmV2TGlzdCIsInByZXYxTnVtIiwiaXNSZW1hcmtSb3ciLCJkZWx0YVRleHQiLCJkZWx0YUNvbG9yIiwiZGVsdGEiLCJwY3QiLCJhcnJvdyIsInRvRml4ZWQiLCJ0b3RhbENvbHMiLCJ0ZCIsImNvbFNwYW4iLCJ3aGl0ZVNwYWNlIiwibGluZUhlaWdodCIsImZsYWciLCJkYXRhLWZsYWciLCJmb290ZXIiLCJzdHJvbmciLCJsaW5lIiwiaG91ciIsIm1pbnV0ZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ReportViewer.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./lib/hubs.ts":
/*!*********************!*\
  !*** ./lib/hubs.ts ***!
  \*********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BRANCHES: () => (/* binding */ BRANCHES),\n/* harmony export */   HUBS: () => (/* binding */ HUBS),\n/* harmony export */   HUB_BY_NAME: () => (/* binding */ HUB_BY_NAME)\n/* harmony export */ });\n// lib/hubs.ts\nconst BRANCHES = [\n    \"San Isidro\",\n    \"San Leonardo\"\n];\nconst HUBS = [\n    {\n        name: \"San Isidro\",\n        label: \"San Isidro Hub\",\n        tel: \"09939854927\",\n        mapsUrl: \"https://maps.app.goo.gl/vo9kyUrNH2z2suv59\"\n    },\n    {\n        name: \"San Leonardo\",\n        label: \"San Leonardo Hub\",\n        tel: \"09942760253\",\n        mapsUrl: \"https://maps.app.goo.gl/X9Zqa2pvE6H3t3Lf7\"\n    }\n];\nconst HUB_BY_NAME = Object.fromEntries(HUBS.map((h)=>[\n        h.name,\n        h\n    ]));\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi9odWJzLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLGNBQWM7QUFDUCxNQUFNQSxXQUFXO0lBQ3RCO0lBQ0E7Q0FFRCxDQUFVO0FBV0osTUFBTUMsT0FBa0I7SUFDN0I7UUFDRUMsTUFBTTtRQUNOQyxPQUFPO1FBQ1BDLEtBQUs7UUFDTEMsU0FBUztJQUNYO0lBQ0E7UUFDRUgsTUFBTTtRQUNOQyxPQUFPO1FBQ1BDLEtBQUs7UUFDTEMsU0FBUztJQUNYO0NBRUQsQ0FBQztBQUVLLE1BQU1DLGNBQ1hDLE9BQU9DLFdBQVcsQ0FBQ1AsS0FBS1EsR0FBRyxDQUFDQyxDQUFBQSxJQUFLO1FBQUNBLEVBQUVSLElBQUk7UUFBRVE7S0FBRSxHQUFHIiwic291cmNlcyI6WyIvVXNlcnMvcG9jaG9sby9Qcm9qZWN0cy93ZWxsc2Vydi1wb3J0YWwvYXBwcy93ZWIvbGliL2h1YnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gbGliL2h1YnMudHNcbmV4cG9ydCBjb25zdCBCUkFOQ0hFUyA9IFtcbiAgXCJTYW4gSXNpZHJvXCIsXG4gIFwiU2FuIExlb25hcmRvXCIsXG4gIC8vIGFkZCBtb3JlIHdoZW4gbmVlZGVkXG5dIGFzIGNvbnN0O1xuXG5leHBvcnQgdHlwZSBCcmFuY2ggPSB0eXBlb2YgQlJBTkNIRVNbbnVtYmVyXTtcblxuZXhwb3J0IHR5cGUgSHViSW5mbyA9IHtcbiAgbmFtZTogc3RyaW5nOyAgICAgICAvLyBtdXN0IG1hdGNoIGZvbGxvd3Vwcy5yZXR1cm5fYnJhbmNoIGFuZCBjb25zdWx0YXRpb25zLmJyYW5jaFxuICBsYWJlbDogc3RyaW5nOyAgICAgIC8vIHdoYXQgd2Ugc2hvdyB0byB1c2Vyc1xuICB0ZWw/OiBzdHJpbmc7ICAgICAgIC8vIGNsaWNrLXRvLWNhbGxcbiAgbWFwc1VybD86IHN0cmluZzsgICAvLyBHb29nbGUgTWFwcyBVUkxcbn07XG5cbmV4cG9ydCBjb25zdCBIVUJTOiBIdWJJbmZvW10gPSBbXG4gIHtcbiAgICBuYW1lOiBcIlNhbiBJc2lkcm9cIixcbiAgICBsYWJlbDogXCJTYW4gSXNpZHJvIEh1YlwiLFxuICAgIHRlbDogXCIwOTkzOTg1NDkyN1wiLFxuICAgIG1hcHNVcmw6IFwiaHR0cHM6Ly9tYXBzLmFwcC5nb28uZ2wvdm85a3lVck5IMnoyc3V2NTlcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiU2FuIExlb25hcmRvXCIsXG4gICAgbGFiZWw6IFwiU2FuIExlb25hcmRvIEh1YlwiLFxuICAgIHRlbDogXCIwOTk0Mjc2MDI1M1wiLFxuICAgIG1hcHNVcmw6IFwiaHR0cHM6Ly9tYXBzLmFwcC5nb28uZ2wvWDlacWEycHZFNkgzdDNMZjdcIixcbiAgfSxcbiAgLy8gYWRkIG1vcmUgaHVicyBoZXJlIGFzIHlvdSBleHBhbmRcbl07XG5cbmV4cG9ydCBjb25zdCBIVUJfQllfTkFNRTogUmVjb3JkPHN0cmluZywgSHViSW5mbz4gPVxuICBPYmplY3QuZnJvbUVudHJpZXMoSFVCUy5tYXAoaCA9PiBbaC5uYW1lLCBoXSkpO1xuIl0sIm5hbWVzIjpbIkJSQU5DSEVTIiwiSFVCUyIsIm5hbWUiLCJsYWJlbCIsInRlbCIsIm1hcHNVcmwiLCJIVUJfQllfTkFNRSIsIk9iamVjdCIsImZyb21FbnRyaWVzIiwibWFwIiwiaCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/hubs.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./lib/medicalCertificateSchema.ts":
/*!*****************************************!*\
  !*** ./lib/medicalCertificateSchema.ts ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PHYSICAL_EXAM_SECTIONS: () => (/* binding */ PHYSICAL_EXAM_SECTIONS),\n/* harmony export */   createDefaultPhysicalExam: () => (/* binding */ createDefaultPhysicalExam),\n/* harmony export */   normalizePhysicalExam: () => (/* binding */ normalizePhysicalExam),\n/* harmony export */   summarizeVitals: () => (/* binding */ summarizeVitals)\n/* harmony export */ });\n// lib/medicalCertificateSchema.ts\nconst PHYSICAL_EXAM_SECTIONS = [\n    {\n        key: \"general\",\n        label: \"General Survey\"\n    },\n    {\n        key: \"heent\",\n        label: \"HEENT\"\n    },\n    {\n        key: \"chest\",\n        label: \"Chest / Lungs\"\n    },\n    {\n        key: \"heart\",\n        label: \"Heart\"\n    },\n    {\n        key: \"abdomen\",\n        label: \"Abdomen\"\n    },\n    {\n        key: \"extremities\",\n        label: \"Extremities\"\n    },\n    {\n        key: \"neuro\",\n        label: \"Neurologic\"\n    },\n    {\n        key: \"skin\",\n        label: \"Skin\"\n    }\n];\nfunction createDefaultPhysicalExam() {\n    return PHYSICAL_EXAM_SECTIONS.reduce((acc, section)=>{\n        acc[section.key] = {\n            status: \"normal\",\n            remarks: \"\"\n        };\n        return acc;\n    }, {});\n}\nfunction normalizePhysicalExam(input) {\n    const base = createDefaultPhysicalExam();\n    if (!input || typeof input !== \"object\") return base;\n    for (const { key } of PHYSICAL_EXAM_SECTIONS){\n        const value = input[key];\n        if (!value || typeof value !== \"object\") continue;\n        const status = String(value.status || \"\").toLowerCase();\n        const remarks = typeof value.remarks === \"string\" ? value.remarks : \"\";\n        if (status === \"abnormal\") {\n            base[key] = {\n                status: \"abnormal\",\n                remarks\n            };\n        } else {\n            base[key] = {\n                status: \"normal\",\n                remarks\n            };\n        }\n    }\n    return base;\n}\nfunction summarizeVitals(row) {\n    if (!row) return null;\n    const parts = [];\n    if (row.systolic_bp && row.diastolic_bp) {\n        parts.push(\"BP \".concat(row.systolic_bp, \"/\").concat(row.diastolic_bp, \" mmHg\"));\n    }\n    if (row.hr) parts.push(\"HR \".concat(row.hr, \" bpm\"));\n    if (row.rr) parts.push(\"RR \".concat(row.rr, \"/min\"));\n    if (row.temp_c) parts.push(\"Temp \".concat(Number(row.temp_c).toFixed(1), \"\\xb0C\"));\n    if (row.o2sat) parts.push(\"SpO \".concat(row.o2sat, \"%\"));\n    if (row.weight_kg && row.height_cm) {\n        parts.push(\"Weight \".concat(row.weight_kg, \"kg / Height \").concat(row.height_cm, \"cm\"));\n    } else if (row.weight_kg) {\n        parts.push(\"Weight \".concat(row.weight_kg, \"kg\"));\n    }\n    if (row.bmi) {\n        const bmiVal = Number(row.bmi);\n        if (!Number.isNaN(bmiVal)) {\n            parts.push(\"BMI \".concat(bmiVal.toFixed(1)));\n        }\n    }\n    if (!parts.length) return null;\n    return parts.join(\", \");\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi9tZWRpY2FsQ2VydGlmaWNhdGVTY2hlbWEudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLGtDQUFrQztBQUMzQixNQUFNQSx5QkFBeUI7SUFDcEM7UUFBRUMsS0FBSztRQUFXQyxPQUFPO0lBQWlCO0lBQzFDO1FBQUVELEtBQUs7UUFBU0MsT0FBTztJQUFRO0lBQy9CO1FBQUVELEtBQUs7UUFBU0MsT0FBTztJQUFnQjtJQUN2QztRQUFFRCxLQUFLO1FBQVNDLE9BQU87SUFBUTtJQUMvQjtRQUFFRCxLQUFLO1FBQVdDLE9BQU87SUFBVTtJQUNuQztRQUFFRCxLQUFLO1FBQWVDLE9BQU87SUFBYztJQUMzQztRQUFFRCxLQUFLO1FBQVNDLE9BQU87SUFBYTtJQUNwQztRQUFFRCxLQUFLO1FBQVFDLE9BQU87SUFBTztDQUM5QixDQUFVO0FBa0JKLFNBQVNDO0lBQ2QsT0FBT0gsdUJBQXVCSSxNQUFNLENBQXNCLENBQUNDLEtBQUtDO1FBQzlERCxHQUFHLENBQUNDLFFBQVFMLEdBQUcsQ0FBQyxHQUFHO1lBQUVNLFFBQVE7WUFBVUMsU0FBUztRQUFHO1FBQ25ELE9BQU9IO0lBQ1QsR0FBRyxDQUFDO0FBQ047QUFFTyxTQUFTSSxzQkFBc0JDLEtBQVU7SUFDOUMsTUFBTUMsT0FBT1I7SUFDYixJQUFJLENBQUNPLFNBQVMsT0FBT0EsVUFBVSxVQUFVLE9BQU9DO0lBRWhELEtBQUssTUFBTSxFQUFFVixHQUFHLEVBQUUsSUFBSUQsdUJBQXdCO1FBQzVDLE1BQU1ZLFFBQVFGLEtBQUssQ0FBQ1QsSUFBSTtRQUN4QixJQUFJLENBQUNXLFNBQVMsT0FBT0EsVUFBVSxVQUFVO1FBQ3pDLE1BQU1MLFNBQVNNLE9BQU9ELE1BQU1MLE1BQU0sSUFBSSxJQUFJTyxXQUFXO1FBQ3JELE1BQU1OLFVBQVUsT0FBT0ksTUFBTUosT0FBTyxLQUFLLFdBQVdJLE1BQU1KLE9BQU8sR0FBRztRQUNwRSxJQUFJRCxXQUFXLFlBQVk7WUFDekJJLElBQUksQ0FBQ1YsSUFBSSxHQUFHO2dCQUFFTSxRQUFRO2dCQUFZQztZQUFRO1FBQzVDLE9BQU87WUFDTEcsSUFBSSxDQUFDVixJQUFJLEdBQUc7Z0JBQUVNLFFBQVE7Z0JBQVVDO1lBQVE7UUFDMUM7SUFDRjtJQUNBLE9BQU9HO0FBQ1Q7QUFFTyxTQUFTSSxnQkFBZ0JDLEdBQWdDO0lBQzlELElBQUksQ0FBQ0EsS0FBSyxPQUFPO0lBQ2pCLE1BQU1DLFFBQWtCLEVBQUU7SUFDMUIsSUFBSUQsSUFBSUUsV0FBVyxJQUFJRixJQUFJRyxZQUFZLEVBQUU7UUFDdkNGLE1BQU1HLElBQUksQ0FBQyxNQUF5QkosT0FBbkJBLElBQUlFLFdBQVcsRUFBQyxLQUFvQixPQUFqQkYsSUFBSUcsWUFBWSxFQUFDO0lBQ3ZEO0lBQ0EsSUFBSUgsSUFBSUssRUFBRSxFQUFFSixNQUFNRyxJQUFJLENBQUMsTUFBYSxPQUFQSixJQUFJSyxFQUFFLEVBQUM7SUFDcEMsSUFBSUwsSUFBSU0sRUFBRSxFQUFFTCxNQUFNRyxJQUFJLENBQUMsTUFBYSxPQUFQSixJQUFJTSxFQUFFLEVBQUM7SUFDcEMsSUFBSU4sSUFBSU8sTUFBTSxFQUFFTixNQUFNRyxJQUFJLENBQUMsUUFBc0MsT0FBOUJJLE9BQU9SLElBQUlPLE1BQU0sRUFBRUUsT0FBTyxDQUFDLElBQUc7SUFDakUsSUFBSVQsSUFBSVUsS0FBSyxFQUFFVCxNQUFNRyxJQUFJLENBQUMsUUFBa0IsT0FBVkosSUFBSVUsS0FBSyxFQUFDO0lBQzVDLElBQUlWLElBQUlXLFNBQVMsSUFBSVgsSUFBSVksU0FBUyxFQUFFO1FBQ2xDWCxNQUFNRyxJQUFJLENBQUMsVUFBc0NKLE9BQTVCQSxJQUFJVyxTQUFTLEVBQUMsZ0JBQTRCLE9BQWRYLElBQUlZLFNBQVMsRUFBQztJQUNqRSxPQUFPLElBQUlaLElBQUlXLFNBQVMsRUFBRTtRQUN4QlYsTUFBTUcsSUFBSSxDQUFDLFVBQXdCLE9BQWRKLElBQUlXLFNBQVMsRUFBQztJQUNyQztJQUNBLElBQUlYLElBQUlhLEdBQUcsRUFBRTtRQUNYLE1BQU1DLFNBQVNOLE9BQU9SLElBQUlhLEdBQUc7UUFDN0IsSUFBSSxDQUFDTCxPQUFPTyxLQUFLLENBQUNELFNBQVM7WUFDekJiLE1BQU1HLElBQUksQ0FBQyxPQUF5QixPQUFsQlUsT0FBT0wsT0FBTyxDQUFDO1FBQ25DO0lBQ0Y7SUFDQSxJQUFJLENBQUNSLE1BQU1lLE1BQU0sRUFBRSxPQUFPO0lBQzFCLE9BQU9mLE1BQU1nQixJQUFJLENBQUM7QUFDcEIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb2Nob2xvL1Byb2plY3RzL3dlbGxzZXJ2LXBvcnRhbC9hcHBzL3dlYi9saWIvbWVkaWNhbENlcnRpZmljYXRlU2NoZW1hLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGxpYi9tZWRpY2FsQ2VydGlmaWNhdGVTY2hlbWEudHNcbmV4cG9ydCBjb25zdCBQSFlTSUNBTF9FWEFNX1NFQ1RJT05TID0gW1xuICB7IGtleTogXCJnZW5lcmFsXCIsIGxhYmVsOiBcIkdlbmVyYWwgU3VydmV5XCIgfSxcbiAgeyBrZXk6IFwiaGVlbnRcIiwgbGFiZWw6IFwiSEVFTlRcIiB9LFxuICB7IGtleTogXCJjaGVzdFwiLCBsYWJlbDogXCJDaGVzdCAvIEx1bmdzXCIgfSxcbiAgeyBrZXk6IFwiaGVhcnRcIiwgbGFiZWw6IFwiSGVhcnRcIiB9LFxuICB7IGtleTogXCJhYmRvbWVuXCIsIGxhYmVsOiBcIkFiZG9tZW5cIiB9LFxuICB7IGtleTogXCJleHRyZW1pdGllc1wiLCBsYWJlbDogXCJFeHRyZW1pdGllc1wiIH0sXG4gIHsga2V5OiBcIm5ldXJvXCIsIGxhYmVsOiBcIk5ldXJvbG9naWNcIiB9LFxuICB7IGtleTogXCJza2luXCIsIGxhYmVsOiBcIlNraW5cIiB9LFxuXSBhcyBjb25zdDtcblxuZXhwb3J0IHR5cGUgUGh5c2ljYWxFeGFtS2V5ID0gKHR5cGVvZiBQSFlTSUNBTF9FWEFNX1NFQ1RJT05TKVtudW1iZXJdW1wia2V5XCJdO1xuZXhwb3J0IHR5cGUgUGh5c2ljYWxFeGFtRW50cnkgPSB7XG4gIHN0YXR1czogXCJub3JtYWxcIiB8IFwiYWJub3JtYWxcIjtcbiAgcmVtYXJrczogc3RyaW5nO1xufTtcbmV4cG9ydCB0eXBlIFBoeXNpY2FsRXhhbVBheWxvYWQgPSBSZWNvcmQ8UGh5c2ljYWxFeGFtS2V5LCBQaHlzaWNhbEV4YW1FbnRyeT47XG5cbmV4cG9ydCB0eXBlIFN1cHBvcnRpbmdEYXRhRW50cnkgPSB7XG4gIGlkPzogc3RyaW5nIHwgbnVsbDtcbiAgdHlwZTogc3RyaW5nO1xuICBsYWJlbDogc3RyaW5nO1xuICBzdW1tYXJ5OiBzdHJpbmc7XG4gIHNvdXJjZV9pZD86IHN0cmluZyB8IG51bGw7XG4gIHBheWxvYWQ/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgbnVsbDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEZWZhdWx0UGh5c2ljYWxFeGFtKCk6IFBoeXNpY2FsRXhhbVBheWxvYWQge1xuICByZXR1cm4gUEhZU0lDQUxfRVhBTV9TRUNUSU9OUy5yZWR1Y2U8UGh5c2ljYWxFeGFtUGF5bG9hZD4oKGFjYywgc2VjdGlvbikgPT4ge1xuICAgIGFjY1tzZWN0aW9uLmtleV0gPSB7IHN0YXR1czogXCJub3JtYWxcIiwgcmVtYXJrczogXCJcIiB9O1xuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9IGFzIFBoeXNpY2FsRXhhbVBheWxvYWQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplUGh5c2ljYWxFeGFtKGlucHV0OiBhbnkpOiBQaHlzaWNhbEV4YW1QYXlsb2FkIHtcbiAgY29uc3QgYmFzZSA9IGNyZWF0ZURlZmF1bHRQaHlzaWNhbEV4YW0oKTtcbiAgaWYgKCFpbnB1dCB8fCB0eXBlb2YgaW5wdXQgIT09IFwib2JqZWN0XCIpIHJldHVybiBiYXNlO1xuXG4gIGZvciAoY29uc3QgeyBrZXkgfSBvZiBQSFlTSUNBTF9FWEFNX1NFQ1RJT05TKSB7XG4gICAgY29uc3QgdmFsdWUgPSBpbnB1dFtrZXldO1xuICAgIGlmICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiKSBjb250aW51ZTtcbiAgICBjb25zdCBzdGF0dXMgPSBTdHJpbmcodmFsdWUuc3RhdHVzIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgcmVtYXJrcyA9IHR5cGVvZiB2YWx1ZS5yZW1hcmtzID09PSBcInN0cmluZ1wiID8gdmFsdWUucmVtYXJrcyA6IFwiXCI7XG4gICAgaWYgKHN0YXR1cyA9PT0gXCJhYm5vcm1hbFwiKSB7XG4gICAgICBiYXNlW2tleV0gPSB7IHN0YXR1czogXCJhYm5vcm1hbFwiLCByZW1hcmtzIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGJhc2Vba2V5XSA9IHsgc3RhdHVzOiBcIm5vcm1hbFwiLCByZW1hcmtzIH07XG4gICAgfVxuICB9XG4gIHJldHVybiBiYXNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3VtbWFyaXplVml0YWxzKHJvdz86IFJlY29yZDxzdHJpbmcsIGFueT4gfCBudWxsKTogc3RyaW5nIHwgbnVsbCB7XG4gIGlmICghcm93KSByZXR1cm4gbnVsbDtcbiAgY29uc3QgcGFydHM6IHN0cmluZ1tdID0gW107XG4gIGlmIChyb3cuc3lzdG9saWNfYnAgJiYgcm93LmRpYXN0b2xpY19icCkge1xuICAgIHBhcnRzLnB1c2goYEJQICR7cm93LnN5c3RvbGljX2JwfS8ke3Jvdy5kaWFzdG9saWNfYnB9IG1tSGdgKTtcbiAgfVxuICBpZiAocm93LmhyKSBwYXJ0cy5wdXNoKGBIUiAke3Jvdy5ocn0gYnBtYCk7XG4gIGlmIChyb3cucnIpIHBhcnRzLnB1c2goYFJSICR7cm93LnJyfS9taW5gKTtcbiAgaWYgKHJvdy50ZW1wX2MpIHBhcnRzLnB1c2goYFRlbXAgJHtOdW1iZXIocm93LnRlbXBfYykudG9GaXhlZCgxKX3CsENgKTtcbiAgaWYgKHJvdy5vMnNhdCkgcGFydHMucHVzaChgU3BP4oKCICR7cm93Lm8yc2F0fSVgKTtcbiAgaWYgKHJvdy53ZWlnaHRfa2cgJiYgcm93LmhlaWdodF9jbSkge1xuICAgIHBhcnRzLnB1c2goYFdlaWdodCAke3Jvdy53ZWlnaHRfa2d9a2cgLyBIZWlnaHQgJHtyb3cuaGVpZ2h0X2NtfWNtYCk7XG4gIH0gZWxzZSBpZiAocm93LndlaWdodF9rZykge1xuICAgIHBhcnRzLnB1c2goYFdlaWdodCAke3Jvdy53ZWlnaHRfa2d9a2dgKTtcbiAgfVxuICBpZiAocm93LmJtaSkge1xuICAgIGNvbnN0IGJtaVZhbCA9IE51bWJlcihyb3cuYm1pKTtcbiAgICBpZiAoIU51bWJlci5pc05hTihibWlWYWwpKSB7XG4gICAgICBwYXJ0cy5wdXNoKGBCTUkgJHtibWlWYWwudG9GaXhlZCgxKX1gKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFwYXJ0cy5sZW5ndGgpIHJldHVybiBudWxsO1xuICByZXR1cm4gcGFydHMuam9pbihcIiwgXCIpO1xufVxuIl0sIm5hbWVzIjpbIlBIWVNJQ0FMX0VYQU1fU0VDVElPTlMiLCJrZXkiLCJsYWJlbCIsImNyZWF0ZURlZmF1bHRQaHlzaWNhbEV4YW0iLCJyZWR1Y2UiLCJhY2MiLCJzZWN0aW9uIiwic3RhdHVzIiwicmVtYXJrcyIsIm5vcm1hbGl6ZVBoeXNpY2FsRXhhbSIsImlucHV0IiwiYmFzZSIsInZhbHVlIiwiU3RyaW5nIiwidG9Mb3dlckNhc2UiLCJzdW1tYXJpemVWaXRhbHMiLCJyb3ciLCJwYXJ0cyIsInN5c3RvbGljX2JwIiwiZGlhc3RvbGljX2JwIiwicHVzaCIsImhyIiwicnIiLCJ0ZW1wX2MiLCJOdW1iZXIiLCJ0b0ZpeGVkIiwibzJzYXQiLCJ3ZWlnaHRfa2ciLCJoZWlnaHRfY20iLCJibWkiLCJibWlWYWwiLCJpc05hTiIsImxlbmd0aCIsImpvaW4iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/medicalCertificateSchema.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./lib/rx.ts":
/*!*******************!*\
  !*** ./lib/rx.ts ***!
  \*******************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_RX_VALID_DAYS: () => (/* binding */ DEFAULT_RX_VALID_DAYS),\n/* harmony export */   FREQ_DICT: () => (/* binding */ FREQ_DICT),\n/* harmony export */   computeValidUntil: () => (/* binding */ computeValidUntil),\n/* harmony export */   describeFrequency: () => (/* binding */ describeFrequency),\n/* harmony export */   normalizeValidDays: () => (/* binding */ normalizeValidDays),\n/* harmony export */   parseValidDays: () => (/* binding */ parseValidDays)\n/* harmony export */ });\n// lib/rx.ts\nconst FREQ_DICT = {\n    OD: \"once daily\",\n    QD: \"once daily\",\n    QAM: \"every morning\",\n    QPM: \"every evening\",\n    BID: \"twice daily\",\n    TID: \"three times daily\",\n    QID: \"four times daily\",\n    HS: \"at bedtime\",\n    PRN: \"as needed\"\n};\nfunction describeFrequency(code) {\n    if (!code) return \"\";\n    const k = String(code).toUpperCase().trim();\n    return FREQ_DICT[k] ? \"\".concat(FREQ_DICT[k], \" (\").concat(k, \")\") : k;\n}\nconst DEFAULT_RX_VALID_DAYS = 30;\nconst MAX_RX_VALID_DAYS = 365;\nfunction parseValidDays(value) {\n    const num = Number(value);\n    if (!Number.isFinite(num) || num <= 0) return null;\n    const clamped = Math.min(num, MAX_RX_VALID_DAYS);\n    return Math.round(clamped);\n}\nfunction normalizeValidDays(value) {\n    let fallback = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : DEFAULT_RX_VALID_DAYS;\n    const parsed = parseValidDays(value);\n    return parsed !== null && parsed !== void 0 ? parsed : fallback;\n}\nfunction computeValidUntil(days) {\n    let base = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : new Date();\n    const dt = new Date(base);\n    if (!Number.isFinite(days)) return dt;\n    dt.setHours(0, 0, 0, 0);\n    dt.setDate(dt.getDate() + Math.round(days));\n    return dt;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi9yeC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxZQUFZO0FBQ0wsTUFBTUEsWUFBb0M7SUFDL0NDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsSUFBSTtJQUNKQyxLQUFLO0FBQ1AsRUFBRTtBQUVLLFNBQVNDLGtCQUFrQkMsSUFBYTtJQUM3QyxJQUFJLENBQUNBLE1BQU0sT0FBTztJQUNsQixNQUFNQyxJQUFJQyxPQUFPRixNQUFNRyxXQUFXLEdBQUdDLElBQUk7SUFDekMsT0FBT2YsU0FBUyxDQUFDWSxFQUFFLEdBQUcsR0FBb0JBLE9BQWpCWixTQUFTLENBQUNZLEVBQUUsRUFBQyxNQUFNLE9BQUZBLEdBQUUsT0FBS0E7QUFDbkQ7QUFFTyxNQUFNSSx3QkFBd0IsR0FBRztBQUN4QyxNQUFNQyxvQkFBb0I7QUFFbkIsU0FBU0MsZUFBZUMsS0FBYztJQUMzQyxNQUFNQyxNQUFNQyxPQUFPRjtJQUNuQixJQUFJLENBQUNFLE9BQU9DLFFBQVEsQ0FBQ0YsUUFBUUEsT0FBTyxHQUFHLE9BQU87SUFDOUMsTUFBTUcsVUFBVUMsS0FBS0MsR0FBRyxDQUFDTCxLQUFLSDtJQUM5QixPQUFPTyxLQUFLRSxLQUFLLENBQUNIO0FBQ3BCO0FBRU8sU0FBU0ksbUJBQW1CUixLQUFjO1FBQUVTLFdBQUFBLGlFQUFXWjtJQUM1RCxNQUFNYSxTQUFTWCxlQUFlQztJQUM5QixPQUFPVSxtQkFBQUEsb0JBQUFBLFNBQVVEO0FBQ25CO0FBRU8sU0FBU0Usa0JBQWtCQyxJQUFZO1FBQUVDLE9BQUFBLGlFQUFPLElBQUlDO0lBQ3pELE1BQU1DLEtBQUssSUFBSUQsS0FBS0Q7SUFDcEIsSUFBSSxDQUFDWCxPQUFPQyxRQUFRLENBQUNTLE9BQU8sT0FBT0c7SUFDbkNBLEdBQUdDLFFBQVEsQ0FBQyxHQUFHLEdBQUcsR0FBRztJQUNyQkQsR0FBR0UsT0FBTyxDQUFDRixHQUFHRyxPQUFPLEtBQUtiLEtBQUtFLEtBQUssQ0FBQ0s7SUFDckMsT0FBT0c7QUFDVCIsInNvdXJjZXMiOlsiL1VzZXJzL3BvY2hvbG8vUHJvamVjdHMvd2VsbHNlcnYtcG9ydGFsL2FwcHMvd2ViL2xpYi9yeC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBsaWIvcngudHNcbmV4cG9ydCBjb25zdCBGUkVRX0RJQ1Q6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gIE9EOiBcIm9uY2UgZGFpbHlcIixcbiAgUUQ6IFwib25jZSBkYWlseVwiLFxuICBRQU06IFwiZXZlcnkgbW9ybmluZ1wiLFxuICBRUE06IFwiZXZlcnkgZXZlbmluZ1wiLFxuICBCSUQ6IFwidHdpY2UgZGFpbHlcIixcbiAgVElEOiBcInRocmVlIHRpbWVzIGRhaWx5XCIsXG4gIFFJRDogXCJmb3VyIHRpbWVzIGRhaWx5XCIsXG4gIEhTOiBcImF0IGJlZHRpbWVcIixcbiAgUFJOOiBcImFzIG5lZWRlZFwiLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRlc2NyaWJlRnJlcXVlbmN5KGNvZGU/OiBzdHJpbmcpIHtcbiAgaWYgKCFjb2RlKSByZXR1cm4gXCJcIjtcbiAgY29uc3QgayA9IFN0cmluZyhjb2RlKS50b1VwcGVyQ2FzZSgpLnRyaW0oKTtcbiAgcmV0dXJuIEZSRVFfRElDVFtrXSA/IGAke0ZSRVFfRElDVFtrXX0gKCR7a30pYCA6IGs7XG59XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1JYX1ZBTElEX0RBWVMgPSAzMDtcbmNvbnN0IE1BWF9SWF9WQUxJRF9EQVlTID0gMzY1O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VWYWxpZERheXModmFsdWU6IHVua25vd24pOiBudW1iZXIgfCBudWxsIHtcbiAgY29uc3QgbnVtID0gTnVtYmVyKHZhbHVlKTtcbiAgaWYgKCFOdW1iZXIuaXNGaW5pdGUobnVtKSB8fCBudW0gPD0gMCkgcmV0dXJuIG51bGw7XG4gIGNvbnN0IGNsYW1wZWQgPSBNYXRoLm1pbihudW0sIE1BWF9SWF9WQUxJRF9EQVlTKTtcbiAgcmV0dXJuIE1hdGgucm91bmQoY2xhbXBlZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVWYWxpZERheXModmFsdWU6IHVua25vd24sIGZhbGxiYWNrID0gREVGQVVMVF9SWF9WQUxJRF9EQVlTKSB7XG4gIGNvbnN0IHBhcnNlZCA9IHBhcnNlVmFsaWREYXlzKHZhbHVlKTtcbiAgcmV0dXJuIHBhcnNlZCA/PyBmYWxsYmFjaztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVWYWxpZFVudGlsKGRheXM6IG51bWJlciwgYmFzZSA9IG5ldyBEYXRlKCkpIHtcbiAgY29uc3QgZHQgPSBuZXcgRGF0ZShiYXNlKTtcbiAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoZGF5cykpIHJldHVybiBkdDtcbiAgZHQuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIGR0LnNldERhdGUoZHQuZ2V0RGF0ZSgpICsgTWF0aC5yb3VuZChkYXlzKSk7XG4gIHJldHVybiBkdDtcbn1cbiJdLCJuYW1lcyI6WyJGUkVRX0RJQ1QiLCJPRCIsIlFEIiwiUUFNIiwiUVBNIiwiQklEIiwiVElEIiwiUUlEIiwiSFMiLCJQUk4iLCJkZXNjcmliZUZyZXF1ZW5jeSIsImNvZGUiLCJrIiwiU3RyaW5nIiwidG9VcHBlckNhc2UiLCJ0cmltIiwiREVGQVVMVF9SWF9WQUxJRF9EQVlTIiwiTUFYX1JYX1ZBTElEX0RBWVMiLCJwYXJzZVZhbGlkRGF5cyIsInZhbHVlIiwibnVtIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJjbGFtcGVkIiwiTWF0aCIsIm1pbiIsInJvdW5kIiwibm9ybWFsaXplVmFsaWREYXlzIiwiZmFsbGJhY2siLCJwYXJzZWQiLCJjb21wdXRlVmFsaWRVbnRpbCIsImRheXMiLCJiYXNlIiwiRGF0ZSIsImR0Iiwic2V0SG91cnMiLCJzZXREYXRlIiwiZ2V0RGF0ZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/rx.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./lib/time.ts":
/*!*********************!*\
  !*** ./lib/time.ts ***!
  \*********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addDaysYMD: () => (/* binding */ addDaysYMD),\n/* harmony export */   compareYMD: () => (/* binding */ compareYMD),\n/* harmony export */   fmtManila: () => (/* binding */ fmtManila),\n/* harmony export */   fmtManilaDate: () => (/* binding */ fmtManilaDate),\n/* harmony export */   isDueTodayYMD: () => (/* binding */ isDueTodayYMD),\n/* harmony export */   isOverdueYMD: () => (/* binding */ isOverdueYMD),\n/* harmony export */   isPastGraceYMD: () => (/* binding */ isPastGraceYMD),\n/* harmony export */   phTodayYMD: () => (/* binding */ phTodayYMD),\n/* harmony export */   toYMDManila: () => (/* binding */ toYMDManila)\n/* harmony export */ });\n// lib/time.ts\n/** Pretty date-time in Asia/Manila (kept from your version) */ function fmtManila(ts) {\n    if (!ts) return \"-\";\n    const d = typeof ts === \"string\" ? new Date(ts) : ts;\n    try {\n        return new Intl.DateTimeFormat(\"en-PH\", {\n            timeZone: \"Asia/Manila\",\n            year: \"numeric\",\n            month: \"short\",\n            day: \"2-digit\",\n            hour: \"2-digit\",\n            minute: \"2-digit\"\n        }).format(d);\n    } catch (e) {\n        return String(ts);\n    }\n}\n/** Date-only (e.g., for showing due dates cleanly) */ function fmtManilaDate(ts) {\n    if (!ts) return \"-\";\n    const d = typeof ts === \"string\" ? new Date(ts) : ts;\n    try {\n        return new Intl.DateTimeFormat(\"en-PH\", {\n            timeZone: \"Asia/Manila\",\n            year: \"numeric\",\n            month: \"short\",\n            day: \"2-digit\"\n        }).format(d);\n    } catch (e) {\n        return String(ts);\n    }\n}\n/** Internal: get components of \"now\" in Manila */ function _phParts() {\n    let d = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : new Date();\n    const fmt = new Intl.DateTimeFormat(\"en-CA\", {\n        timeZone: \"Asia/Manila\",\n        year: \"numeric\",\n        month: \"2-digit\",\n        day: \"2-digit\",\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n        second: \"2-digit\"\n    });\n    // \"YYYY-MM-DD, HH:MM:SS\" in Asia/Manila\n    const parts = fmt.formatToParts(d).reduce((acc, p)=>{\n        if (p.type !== \"literal\") acc[p.type] = p.value;\n        return acc;\n    }, {});\n    return parts;\n}\n/** YYYY-MM-DD string for \"today\" in Asia/Manila */ function phTodayYMD() {\n    let d = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : new Date();\n    const p = _phParts(d);\n    return \"\".concat(p.year, \"-\").concat(p.month, \"-\").concat(p.day);\n}\n/** Convert a Date/ISO to YYYY-MM-DD using Asia/Manila day */ function toYMDManila(ts) {\n    const p = _phParts(typeof ts === \"string\" ? new Date(ts) : ts);\n    return \"\".concat(p.year, \"-\").concat(p.month, \"-\").concat(p.day);\n}\n/** Simple YMD helpers for client-side classification */ function addDaysYMD(ymd, days) {\n    const [y, m, d] = ymd.split(\"-\").map((n)=>parseInt(n, 10));\n    const dt = new Date(Date.UTC(y, m - 1, d));\n    dt.setUTCDate(dt.getUTCDate() + days);\n    return toYMDManila(dt);\n}\nfunction compareYMD(a, b) {\n    // returns -1 if a<b, 0 if ==, 1 if a>b\n    if (a === b) return 0;\n    return a < b ? -1 : 1;\n}\nfunction isDueTodayYMD(dueYMD) {\n    let todayYMD = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : phTodayYMD();\n    return compareYMD(dueYMD, todayYMD) === 0;\n}\nfunction isOverdueYMD(dueYMD) {\n    let todayYMD = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : phTodayYMD();\n    return compareYMD(dueYMD, todayYMD) < 0;\n}\nfunction isPastGraceYMD(validUntilYMD) {\n    let todayYMD = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : phTodayYMD();\n    return compareYMD(validUntilYMD, todayYMD) < 0;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWM7UUFBRUMsV0FBQUEsaUVBQVdwQjtJQUN2RCxPQUFPZSxXQUFXSSxRQUFRQyxjQUFjO0FBQzFDO0FBRU8sU0FBU0MsYUFBYUYsTUFBYztRQUFFQyxXQUFBQSxpRUFBV3BCO0lBQ3RELE9BQU9lLFdBQVdJLFFBQVFDLFlBQVk7QUFDeEM7QUFFTyxTQUFTRSxlQUFlQyxhQUFxQjtRQUFFSCxXQUFBQSxpRUFBV3BCO0lBQy9ELE9BQU9lLFdBQVdRLGVBQWVILFlBQVk7QUFDL0MiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb2Nob2xvL1Byb2plY3RzL3dlbGxzZXJ2LXBvcnRhbC9hcHBzL3dlYi9saWIvdGltZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBsaWIvdGltZS50c1xuXG4vKiogUHJldHR5IGRhdGUtdGltZSBpbiBBc2lhL01hbmlsYSAoa2VwdCBmcm9tIHlvdXIgdmVyc2lvbikgKi9cbmV4cG9ydCBmdW5jdGlvbiBmbXRNYW5pbGEodHM6IHN0cmluZyB8IERhdGUgfCBudWxsIHwgdW5kZWZpbmVkKSB7XG4gIGlmICghdHMpIHJldHVybiBcIi1cIjtcbiAgY29uc3QgZCA9IHR5cGVvZiB0cyA9PT0gXCJzdHJpbmdcIiA/IG5ldyBEYXRlKHRzKSA6IHRzO1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChcImVuLVBIXCIsIHtcbiAgICAgIHRpbWVab25lOiBcIkFzaWEvTWFuaWxhXCIsXG4gICAgICB5ZWFyOiBcIm51bWVyaWNcIixcbiAgICAgIG1vbnRoOiBcInNob3J0XCIsXG4gICAgICBkYXk6IFwiMi1kaWdpdFwiLFxuICAgICAgaG91cjogXCIyLWRpZ2l0XCIsXG4gICAgICBtaW51dGU6IFwiMi1kaWdpdFwiLFxuICAgIH0pLmZvcm1hdChkKTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIFN0cmluZyh0cyk7XG4gIH1cbn1cblxuLyoqIERhdGUtb25seSAoZS5nLiwgZm9yIHNob3dpbmcgZHVlIGRhdGVzIGNsZWFubHkpICovXG5leHBvcnQgZnVuY3Rpb24gZm10TWFuaWxhRGF0ZSh0czogc3RyaW5nIHwgRGF0ZSB8IG51bGwgfCB1bmRlZmluZWQpIHtcbiAgaWYgKCF0cykgcmV0dXJuIFwiLVwiO1xuICBjb25zdCBkID0gdHlwZW9mIHRzID09PSBcInN0cmluZ1wiID8gbmV3IERhdGUodHMpIDogdHM7XG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KFwiZW4tUEhcIiwge1xuICAgICAgdGltZVpvbmU6IFwiQXNpYS9NYW5pbGFcIixcbiAgICAgIHllYXI6IFwibnVtZXJpY1wiLFxuICAgICAgbW9udGg6IFwic2hvcnRcIixcbiAgICAgIGRheTogXCIyLWRpZ2l0XCIsXG4gICAgfSkuZm9ybWF0KGQpO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gU3RyaW5nKHRzKTtcbiAgfVxufVxuXG4vKiogSW50ZXJuYWw6IGdldCBjb21wb25lbnRzIG9mIFwibm93XCIgaW4gTWFuaWxhICovXG5mdW5jdGlvbiBfcGhQYXJ0cyhkID0gbmV3IERhdGUoKSkge1xuICBjb25zdCBmbXQgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChcImVuLUNBXCIsIHtcbiAgICB0aW1lWm9uZTogXCJBc2lhL01hbmlsYVwiLFxuICAgIHllYXI6IFwibnVtZXJpY1wiLFxuICAgIG1vbnRoOiBcIjItZGlnaXRcIixcbiAgICBkYXk6IFwiMi1kaWdpdFwiLFxuICAgIGhvdXI6IFwiMi1kaWdpdFwiLFxuICAgIG1pbnV0ZTogXCIyLWRpZ2l0XCIsXG4gICAgc2Vjb25kOiBcIjItZGlnaXRcIixcbiAgfSk7XG4gIC8vIFwiWVlZWS1NTS1ERCwgSEg6TU06U1NcIiBpbiBBc2lhL01hbmlsYVxuICBjb25zdCBwYXJ0cyA9IGZtdC5mb3JtYXRUb1BhcnRzKGQpLnJlZHVjZTxSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+PigoYWNjLCBwKSA9PiB7XG4gICAgaWYgKHAudHlwZSAhPT0gXCJsaXRlcmFsXCIpIGFjY1twLnR5cGVdID0gcC52YWx1ZTtcbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG4gIHJldHVybiBwYXJ0cyBhcyB7XG4gICAgeWVhcjogc3RyaW5nOyBtb250aDogc3RyaW5nOyBkYXk6IHN0cmluZztcbiAgICBob3VyOiBzdHJpbmc7IG1pbnV0ZTogc3RyaW5nOyBzZWNvbmQ6IHN0cmluZztcbiAgfTtcbn1cblxuLyoqIFlZWVktTU0tREQgc3RyaW5nIGZvciBcInRvZGF5XCIgaW4gQXNpYS9NYW5pbGEgKi9cbmV4cG9ydCBmdW5jdGlvbiBwaFRvZGF5WU1EKGQgPSBuZXcgRGF0ZSgpKTogc3RyaW5nIHtcbiAgY29uc3QgcCA9IF9waFBhcnRzKGQpO1xuICByZXR1cm4gYCR7cC55ZWFyfS0ke3AubW9udGh9LSR7cC5kYXl9YDtcbn1cblxuLyoqIENvbnZlcnQgYSBEYXRlL0lTTyB0byBZWVlZLU1NLUREIHVzaW5nIEFzaWEvTWFuaWxhIGRheSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvWU1ETWFuaWxhKHRzOiBzdHJpbmcgfCBEYXRlKTogc3RyaW5nIHtcbiAgY29uc3QgcCA9IF9waFBhcnRzKHR5cGVvZiB0cyA9PT0gXCJzdHJpbmdcIiA/IG5ldyBEYXRlKHRzKSA6IHRzKTtcbiAgcmV0dXJuIGAke3AueWVhcn0tJHtwLm1vbnRofS0ke3AuZGF5fWA7XG59XG5cbi8qKiBTaW1wbGUgWU1EIGhlbHBlcnMgZm9yIGNsaWVudC1zaWRlIGNsYXNzaWZpY2F0aW9uICovXG5leHBvcnQgZnVuY3Rpb24gYWRkRGF5c1lNRCh5bWQ6IHN0cmluZywgZGF5czogbnVtYmVyKTogc3RyaW5nIHtcbiAgY29uc3QgW3ksIG0sIGRdID0geW1kLnNwbGl0KFwiLVwiKS5tYXAoKG4pID0+IHBhcnNlSW50KG4sIDEwKSk7XG4gIGNvbnN0IGR0ID0gbmV3IERhdGUoRGF0ZS5VVEMoeSwgbSAtIDEsIGQpKTtcbiAgZHQuc2V0VVRDRGF0ZShkdC5nZXRVVENEYXRlKCkgKyBkYXlzKTtcbiAgcmV0dXJuIHRvWU1ETWFuaWxhKGR0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVZTUQoYTogc3RyaW5nLCBiOiBzdHJpbmcpOiBudW1iZXIge1xuICAvLyByZXR1cm5zIC0xIGlmIGE8YiwgMCBpZiA9PSwgMSBpZiBhPmJcbiAgaWYgKGEgPT09IGIpIHJldHVybiAwO1xuICByZXR1cm4gYSA8IGIgPyAtMSA6IDE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0R1ZVRvZGF5WU1EKGR1ZVlNRDogc3RyaW5nLCB0b2RheVlNRCA9IHBoVG9kYXlZTUQoKSk6IGJvb2xlYW4ge1xuICByZXR1cm4gY29tcGFyZVlNRChkdWVZTUQsIHRvZGF5WU1EKSA9PT0gMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzT3ZlcmR1ZVlNRChkdWVZTUQ6IHN0cmluZywgdG9kYXlZTUQgPSBwaFRvZGF5WU1EKCkpOiBib29sZWFuIHtcbiAgcmV0dXJuIGNvbXBhcmVZTUQoZHVlWU1ELCB0b2RheVlNRCkgPCAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNQYXN0R3JhY2VZTUQodmFsaWRVbnRpbFlNRDogc3RyaW5nLCB0b2RheVlNRCA9IHBoVG9kYXlZTUQoKSk6IGJvb2xlYW4ge1xuICByZXR1cm4gY29tcGFyZVlNRCh2YWxpZFVudGlsWU1ELCB0b2RheVlNRCkgPCAwO1xufVxuIl0sIm5hbWVzIjpbImZtdE1hbmlsYSIsInRzIiwiZCIsIkRhdGUiLCJJbnRsIiwiRGF0ZVRpbWVGb3JtYXQiLCJ0aW1lWm9uZSIsInllYXIiLCJtb250aCIsImRheSIsImhvdXIiLCJtaW51dGUiLCJmb3JtYXQiLCJTdHJpbmciLCJmbXRNYW5pbGFEYXRlIiwiX3BoUGFydHMiLCJmbXQiLCJzZWNvbmQiLCJwYXJ0cyIsImZvcm1hdFRvUGFydHMiLCJyZWR1Y2UiLCJhY2MiLCJwIiwidHlwZSIsInZhbHVlIiwicGhUb2RheVlNRCIsInRvWU1ETWFuaWxhIiwiYWRkRGF5c1lNRCIsInltZCIsImRheXMiLCJ5IiwibSIsInNwbGl0IiwibWFwIiwibiIsInBhcnNlSW50IiwiZHQiLCJVVEMiLCJzZXRVVENEYXRlIiwiZ2V0VVRDRGF0ZSIsImNvbXBhcmVZTUQiLCJhIiwiYiIsImlzRHVlVG9kYXlZTUQiLCJkdWVZTUQiLCJ0b2RheVlNRCIsImlzT3ZlcmR1ZVlNRCIsImlzUGFzdEdyYWNlWU1EIiwidmFsaWRVbnRpbFlNRCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/time.ts\n"));

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["main-app"], () => (__webpack_exec__("(app-pages-browser)/../../node_modules/.pnpm/next@15.5.2_babel-plugin-react-compiler@1.0.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2FLogoutButton.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2Fpatient%2F%5BpatientId%5D%2FClientReportViewer.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2Fpatient%2F%5BpatientId%5D%2FConsentBus.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2Fpatient%2F%5BpatientId%5D%2FConsultationSection.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2Fpatient%2F%5BpatientId%5D%2FDiagnosisPanel.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2Fpatient%2F%5BpatientId%5D%2FOtherLabsCard.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fpocholo%2FProjects%2Fwellserv-portal%2Fapps%2Fweb%2Fapp%2F(doctor)%2Fdoctor%2Fpatient%2F%5BpatientId%5D%2FPastConsultations.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=false!")));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);